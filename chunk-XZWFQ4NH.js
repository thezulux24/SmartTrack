import{b as Zl,c as Kl,f as iv,g as Yl}from"./chunk-LJ5XHLMQ.js";import{a as w,b as q,d as Nt,f as rv,g as ov,h as p}from"./chunk-FK42CRUA.js";var El=Nt(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var _l=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};bl.default=_l});var Il=Nt(Do=>{"use strict";var Zg=Do&&Do.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Do,"__esModule",{value:!0});var sI=Zg((Yl(),ov(iv))),aI=Zg(El()),Cl=class{constructor(n){var t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=sI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c,u;let l=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let B=yield i.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=B:d=JSON.parse(B))}let y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),D=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&D&&D.length>1&&(h=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let y=yield i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,g="OK")}catch{i.status===404&&y===""?(f=204,g="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&this.shouldThrowOnError)throw new aI.default(l)}return{error:l,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}};Do.default=Cl});var Tl=Nt(_o=>{"use strict";var cI=_o&&_o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_o,"__esModule",{value:!0});var uI=cI(Il()),Sl=class extends uI.default{select(n){let t=!1,r=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};_o.default=Sl});var Ks=Nt(bo=>{"use strict";var lI=bo&&bo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bo,"__esModule",{value:!0});var dI=lI(Tl()),Ml=class extends dI.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${i}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};bo.default=Ml});var Al=Nt(Co=>{"use strict";var fI=Co&&Co.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Co,"__esModule",{value:!0});var Eo=fI(Ks()),xl=class{constructor(n,{headers:t={},schema:r,fetch:o}){this.url=n,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(n,{head:t=!1,count:r}={}){let o=t?"HEAD":"GET",i=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Eo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:r=!0}={}){var o;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Eo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){let c=n.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Eo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(n,{count:t}={}){var r;let o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Eo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var t;let r="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Eo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Co.default=xl});var Yg=Nt(Io=>{"use strict";var Kg=Io&&Io.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Io,"__esModule",{value:!0});var hI=Kg(Al()),pI=Kg(Ks()),Rl=class e{constructor(n,{headers:t={},schema:r,fetch:o}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(n){let t=new URL(`${this.url}/${n}`);return new hI.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${n}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=t);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new pI.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Io.default=Rl});var rm=Nt(ue=>{"use strict";var rr=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ue,"__esModule",{value:!0});ue.PostgrestError=ue.PostgrestBuilder=ue.PostgrestTransformBuilder=ue.PostgrestFilterBuilder=ue.PostgrestQueryBuilder=ue.PostgrestClient=void 0;var Qg=rr(Yg());ue.PostgrestClient=Qg.default;var Jg=rr(Al());ue.PostgrestQueryBuilder=Jg.default;var Xg=rr(Ks());ue.PostgrestFilterBuilder=Xg.default;var em=rr(Tl());ue.PostgrestTransformBuilder=em.default;var tm=rr(Il());ue.PostgrestBuilder=tm.default;var nm=rr(El());ue.PostgrestError=nm.default;ue.default={PostgrestClient:Qg.default,PostgrestQueryBuilder:Jg.default,PostgrestFilterBuilder:Xg.default,PostgrestTransformBuilder:em.default,PostgrestBuilder:tm.default,PostgrestError:nm.default}});function Ea(e,n){return Object.is(e,n)}var ee=null,Bo=!1,Ca=1,Pe=Symbol("SIGNAL");function k(e){let n=ee;return ee=e,n}function Ia(){return ee}var pr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gr(e){if(Bo)throw new Error("");if(ee===null)return;ee.consumerOnSignalRead(e);let n=ee.nextProducerIndex++;if(Wo(ee),n<ee.producerNode.length&&ee.producerNode[n]!==e&&hr(ee)){let t=ee.producerNode[n];qo(t,ee.producerIndexOfThis[n])}ee.producerNode[n]!==e&&(ee.producerNode[n]=e,ee.producerIndexOfThis[n]=hr(ee)?Jl(e,ee,n):0),ee.producerLastReadVersion[n]=e.version}function Ql(){Ca++}function Sa(e){if(!(hr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ca)){if(!e.producerMustRecompute(e)&&!Aa(e)){ba(e);return}e.producerRecomputeValue(e),ba(e)}}function Ta(e){if(e.liveConsumerNode===void 0)return;let n=Bo;Bo=!0;try{for(let t of e.liveConsumerNode)t.dirty||sv(t)}finally{Bo=n}}function Ma(){return ee?.consumerAllowSignalWrites!==!1}function sv(e){e.dirty=!0,Ta(e),e.consumerMarkedDirty?.(e)}function ba(e){e.dirty=!1,e.lastCleanEpoch=Ca}function zo(e){return e&&(e.nextProducerIndex=0),k(e)}function xa(e,n){if(k(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(hr(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)qo(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Aa(e){Wo(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Sa(t),r!==t.version))return!0}return!1}function Ra(e){if(Wo(e),hr(e))for(let n=0;n<e.producerNode.length;n++)qo(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Jl(e,n,t){if(Xl(e),e.liveConsumerNode.length===0&&ed(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Jl(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function qo(e,n){if(Xl(e),e.liveConsumerNode.length===1&&ed(e))for(let r=0;r<e.producerNode.length;r++)qo(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];Wo(o),o.producerIndexOfThis[r]=n}}function hr(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Xl(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ed(e){return e.producerNode!==void 0}function Na(e,n){let t=Object.create(av);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Sa(t),gr(t),t.value===Ho)throw t.error;return t.value};return r[Pe]=t,r}var Da=Symbol("UNSET"),_a=Symbol("COMPUTING"),Ho=Symbol("ERRORED"),av=q(w({},pr),{value:Da,dirty:!0,error:null,equal:Ea,kind:"computed",producerMustRecompute(e){return e.value===Da||e.value===_a},producerRecomputeValue(e){if(e.value===_a)throw new Error("Detected cycle in computations.");let n=e.value;e.value=_a;let t=zo(e),r,o=!1;try{r=e.computation(),k(null),o=n!==Da&&n!==Ho&&r!==Ho&&e.equal(n,r)}catch(i){r=Ho,e.error=i}finally{xa(e,t)}if(o){e.value=n;return}e.value=r,e.version++}});function cv(){throw new Error}var td=cv;function nd(e){td(e)}function Oa(e){td=e}var uv=null;function ka(e,n){let t=Object.create(Go);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(gr(t),t.value);return r[Pe]=t,r}function mr(e,n){Ma()||nd(e),e.equal(e.value,n)||(e.value=n,lv(e))}function Pa(e,n){Ma()||nd(e),mr(e,n(e.value))}var Go=q(w({},pr),{equal:Ea,value:void 0,kind:"signal"});function lv(e){e.version++,Ql(),Ta(e),uv?.()}function Fa(e){let n=k(null);try{return e()}finally{k(n)}}var La;function vr(){return La}function it(e){let n=La;return La=e,n}var Zo=Symbol("NotFound");function S(e){return typeof e=="function"}function gn(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ko=gn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Q=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(S(r))try{r()}catch(i){n=i instanceof Ko?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{rd(i)}catch(s){n=n??[],s instanceof Ko?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ko(n)}}add(n){var t;if(n&&n!==this)if(this.closed)rd(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&yr(t,n)}remove(n){let{_finalizers:t}=this;t&&yr(t,n),n instanceof e&&n._removeParent(this)}};Q.EMPTY=(()=>{let e=new Q;return e.closed=!0,e})();var ja=Q.EMPTY;function Yo(e){return e instanceof Q||e&&"closed"in e&&S(e.remove)&&S(e.add)&&S(e.unsubscribe)}function rd(e){S(e)?e():e.unsubscribe()}var Fe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mn={setTimeout(e,n,...t){let{delegate:r}=mn;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=mn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qo(e){mn.setTimeout(()=>{let{onUnhandledError:n}=Fe;if(n)n(e);else throw e})}function wr(){}var od=$a("C",void 0,void 0);function id(e){return $a("E",void 0,e)}function sd(e){return $a("N",e,void 0)}function $a(e,n,t){return{kind:e,value:n,error:t}}var Ot=null;function vn(e){if(Fe.useDeprecatedSynchronousErrorHandling){let n=!Ot;if(n&&(Ot={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Ot;if(Ot=null,t)throw r}}else e()}function ad(e){Fe.useDeprecatedSynchronousErrorHandling&&Ot&&(Ot.errorThrown=!0,Ot.error=e)}var kt=class extends Q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Yo(n)&&n.add(this)):this.destination=mv}static create(n,t,r){return new yn(n,t,r)}next(n){this.isStopped?Va(sd(n),this):this._next(n)}error(n){this.isStopped?Va(id(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Va(od,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pv=Function.prototype.bind;function Ua(e,n){return pv.call(e,n)}var Ba=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Jo(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Jo(r)}else Jo(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Jo(t)}}},yn=class extends kt{constructor(n,t,r){super();let o;if(S(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Fe.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Ua(n.next,i),error:n.error&&Ua(n.error,i),complete:n.complete&&Ua(n.complete,i)}):o=n}this.destination=new Ba(o)}};function Jo(e){Fe.useDeprecatedSynchronousErrorHandling?ad(e):Qo(e)}function gv(e){throw e}function Va(e,n){let{onStoppedNotification:t}=Fe;t&&mn.setTimeout(()=>t(e,n))}var mv={closed:!0,next:wr,error:gv,complete:wr};var wn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function be(e){return e}function Ha(...e){return za(e)}function za(e){return e.length===0?be:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var U=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=yv(t)?t:new yn(t,r,o);return vn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=cd(r),new r((o,i)=>{let s=new yn({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[wn](){return this}pipe(...t){return za(t)(this)}toPromise(t){return t=cd(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function cd(e){var n;return(n=e??Fe.Promise)!==null&&n!==void 0?n:Promise}function vv(e){return e&&S(e.next)&&S(e.error)&&S(e.complete)}function yv(e){return e&&e instanceof kt||vv(e)&&Yo(e)}function qa(e){return S(e?.lift)}function F(e){return n=>{if(qa(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(e,n,t,r,o){return new Wa(e,n,t,r,o)}var Wa=class extends kt{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Dn(){return F((e,n)=>{let t=null;e._refCount++;let r=P(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var _n=class extends U{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qa(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Q;let t=this.getSubject();n.add(this.source.subscribe(P(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Q.EMPTY)}return n}refCount(){return Dn()(this)}};var ud=gn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class e extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Xo(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ud}next(t){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ja:(this.currentObservers=null,i.push(t),new Q(()=>{this.currentObservers=null,yr(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new U;return t.source=this,t}}return e.create=(n,t)=>new Xo(n,t),e})(),Xo=class extends re{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:ja}};var se=class extends re{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var ge=new U(e=>e.complete());function ld(e){return e&&S(e.schedule)}function dd(e){return e[e.length-1]}function ei(e){return S(dd(e))?e.pop():void 0}function _t(e){return ld(dd(e))?e.pop():void 0}function hd(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}function fd(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(e){return this instanceof Pt?(this.v=e,this):new Pt(e)}function pd(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(y,D){i.push([f,m,y,D])>1||c(f,m)})},g&&(o[f]=g(o[f])))}function c(f,g){try{u(r[f](g))}catch(m){h(i[0][3],m)}}function u(f){f.value instanceof Pt?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function gd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof fd=="function"?fd(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var ti=e=>e&&typeof e.length=="number"&&typeof e!="function";function ni(e){return S(e?.then)}function ri(e){return S(e[wn])}function oi(e){return Symbol.asyncIterator&&S(e?.[Symbol.asyncIterator])}function ii(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var si=wv();function ai(e){return S(e?.[si])}function ci(e){return pd(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield Pt(t.read());if(o)return yield Pt(void 0);yield yield Pt(r)}}finally{t.releaseLock()}})}function ui(e){return S(e?.getReader)}function J(e){if(e instanceof U)return e;if(e!=null){if(ri(e))return Dv(e);if(ti(e))return _v(e);if(ni(e))return bv(e);if(oi(e))return md(e);if(ai(e))return Ev(e);if(ui(e))return Cv(e)}throw ii(e)}function Dv(e){return new U(n=>{let t=e[wn]();if(S(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _v(e){return new U(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function bv(e){return new U(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Qo)})}function Ev(e){return new U(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function md(e){return new U(n=>{Iv(e,n).catch(t=>n.error(t))})}function Cv(e){return md(ci(e))}function Iv(e,n){var t,r,o,i;return hd(this,void 0,void 0,function*(){try{for(t=gd(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function me(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function li(e,n=0){return F((t,r)=>{t.subscribe(P(r,o=>me(r,e,()=>r.next(o),n),()=>me(r,e,()=>r.complete(),n),o=>me(r,e,()=>r.error(o),n)))})}function di(e,n=0){return F((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function vd(e,n){return J(e).pipe(di(n),li(n))}function yd(e,n){return J(e).pipe(di(n),li(n))}function wd(e,n){return new U(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Dd(e,n){return new U(t=>{let r;return me(t,n,()=>{r=e[si](),me(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>S(r?.return)&&r.return()})}function fi(e,n){if(!e)throw new Error("Iterable cannot be null");return new U(t=>{me(t,n,()=>{let r=e[Symbol.asyncIterator]();me(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function _d(e,n){return fi(ci(e),n)}function bd(e,n){if(e!=null){if(ri(e))return vd(e,n);if(ti(e))return wd(e,n);if(ni(e))return yd(e,n);if(oi(e))return fi(e,n);if(ai(e))return Dd(e,n);if(ui(e))return _d(e,n)}throw ii(e)}function X(e,n){return n?bd(e,n):J(e)}function T(...e){let n=_t(e);return X(e,n)}function bn(e,n){let t=S(e)?e:()=>e,r=o=>o.error(t());return new U(n?o=>n.schedule(r,0,o):r)}function Ga(e){return!!e&&(e instanceof U||S(e.lift)&&S(e.subscribe))}var st=gn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function j(e,n){return F((t,r)=>{let o=0;t.subscribe(P(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:Sv}=Array;function Tv(e,n){return Sv(n)?e(...n):e(n)}function hi(e){return j(n=>Tv(e,n))}var{isArray:Mv}=Array,{getPrototypeOf:xv,prototype:Av,keys:Rv}=Object;function pi(e){if(e.length===1){let n=e[0];if(Mv(n))return{args:n,keys:null};if(Nv(n)){let t=Rv(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Nv(e){return e&&typeof e=="object"&&xv(e)===Av}function gi(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function mi(...e){let n=_t(e),t=ei(e),{args:r,keys:o}=pi(e);if(r.length===0)return X([],n);let i=new U(Ov(r,n,o?s=>gi(o,s):be));return t?i.pipe(hi(t)):i}function Ov(e,n,t=be){return r=>{Ed(n,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Ed(n,()=>{let u=X(e[c],n),l=!1;u.subscribe(P(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ed(e,n,t){e?me(t,e,n):n()}function Cd(e,n,t,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&n.complete()},f=m=>u<r?g(m):c.push(m),g=m=>{i&&n.next(m),u++;let y=!1;J(t(m,l++)).subscribe(P(n,D=>{o?.(D),i?f(D):n.next(D)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let D=c.shift();s?me(n,s,()=>g(D)):g(D)}h()}catch(D){n.error(D)}}))};return e.subscribe(P(n,f,()=>{d=!0,h()})),()=>{a?.()}}function te(e,n,t=1/0){return S(n)?te((r,o)=>j((i,s)=>n(r,i,o,s))(J(e(r,o))),t):(typeof n=="number"&&(t=n),F((r,o)=>Cd(r,o,e,t)))}function Id(e=1/0){return te(be,e)}function Sd(){return Id(1)}function En(...e){return Sd()(X(e,_t(e)))}function vi(e){return new U(n=>{J(e()).subscribe(n)})}function kv(...e){let n=ei(e),{args:t,keys:r}=pi(e),o=new U(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;J(t[l]).subscribe(P(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?gi(r,a):a),i.complete())}))}});return n?o.pipe(hi(n)):o}function Le(e,n){return F((t,r)=>{let o=0;t.subscribe(P(r,i=>e.call(n,i,o++)&&r.next(i)))})}function bt(e){return F((n,t)=>{let r=null,o=!1,i;r=n.subscribe(P(t,void 0,void 0,s=>{i=J(e(s,bt(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Td(e,n,t,r,o){return(i,s)=>{let a=t,c=n,u=0;i.subscribe(P(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Cn(e,n){return S(n)?te(e,n,1):te(e,1)}function Et(e){return F((n,t)=>{let r=!1;n.subscribe(P(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function at(e){return e<=0?()=>ge:F((n,t)=>{let r=0;n.subscribe(P(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function yi(e=Pv){return F((n,t)=>{let r=!1;n.subscribe(P(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function Pv(){return new st}function Dr(e){return F((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ct(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Le((o,i)=>e(o,i,r)):be,at(1),t?Et(n):yi(()=>new st))}function In(e){return e<=0?()=>ge:F((n,t)=>{let r=[];n.subscribe(P(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Za(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Le((o,i)=>e(o,i,r)):be,In(1),t?Et(n):yi(()=>new st))}function Ka(e,n){return F(Td(e,n,arguments.length>=2,!0))}function Ya(...e){let n=_t(e);return F((t,r)=>{(n?En(e,t,n):En(e,t)).subscribe(r)})}function je(e,n){return F((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(P(r,c=>{o?.unsubscribe();let u=0,l=i++;J(e(c,l)).subscribe(o=P(r,d=>r.next(n?n(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Qa(e){return F((n,t)=>{J(e).subscribe(P(t,()=>t.complete(),wr)),!t.closed&&n.subscribe(t)})}function ae(e,n,t){let r=S(e)||n||t?{next:e,error:n,complete:t}:e;return r?F((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(P(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):be}var vf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",_=class extends Error{code;constructor(n,t){super(Lv(n,t)),this.code=n}};function Fv(e){return`NG0${Math.abs(e)}`}function Lv(e,n){return`${Fv(e)}${n?": "+n:""}`}var yf=Symbol("InputSignalNode#UNSET"),jv=q(w({},Go),{transformFn:void 0,applyValueToInputSignal(e,n){mr(e,n)}});function wf(e,n){let t=Object.create(jv);t.value=e,t.transformFn=n?.transform;function r(){if(gr(t),t.value===yf){let o=null;throw new _(-950,o)}return t.value}return r[Pe]=t,r}function Qi(e){return{toString:e}.toString()}var fc=globalThis;function V(e){for(let n in e)if(e[n]===V)return n;throw Error("Could not find renamed property on target object.")}function $v(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ye(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ye).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Md(e,n){return e?n?`${e} ${n}`:e:n||""}var Uv=V({__forward_ref__:V});function Df(e){return e.__forward_ref__=Df,e.toString=function(){return ye(this())},e}function fe(e){return _f(e)?e():e}function _f(e){return typeof e=="function"&&e.hasOwnProperty(Uv)&&e.__forward_ref__===Df}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Or(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ji(e){return xd(e,Ef)||xd(e,Cf)}function bf(e){return Ji(e)!==null}function xd(e,n){return e.hasOwnProperty(n)?e[n]:null}function Vv(e){let n=e&&(e[Ef]||e[Cf]);return n||null}function Ad(e){return e&&(e.hasOwnProperty(Rd)||e.hasOwnProperty(Bv))?e[Rd]:null}var Ef=V({\u0275prov:V}),Rd=V({\u0275inj:V}),Cf=V({ngInjectableDef:V}),Bv=V({ngInjectorDef:V}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function If(e){return e&&!!e.\u0275providers}var Hv=V({\u0275cmp:V}),zv=V({\u0275dir:V}),qv=V({\u0275pipe:V}),Wv=V({\u0275mod:V}),Si=V({\u0275fac:V}),Cr=V({__NG_ELEMENT_ID__:V}),Nd=V({__NG_ENV_ID__:V});function Xi(e){return typeof e=="string"?e:e==null?"":String(e)}function Gv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Xi(e)}function Sf(e,n){throw new _(-200,e)}function Zc(e,n){throw new _(-201,!1)}var A=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(A||{}),hc;function Tf(){return hc}function Se(e){let n=hc;return hc=e,n}function Mf(e,n,t){let r=Ji(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&A.Optional)return null;if(n!==void 0)return n;Zc(e,"Injector")}var Zv={},Ft=Zv,Kv="__NG_DI_FLAG__",Ti=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?Zo:Ft,r)}},Mi="ngTempTokenPath",Yv="ngTokenPath",Qv=/\n/gm,Jv="\u0275",Od="__source";function Xv(e,n=A.Default){if(vr()===void 0)throw new _(-203,!1);if(vr()===null)return Mf(e,void 0,n);{let t=vr(),r;return t instanceof Ti?r=t.injector:r=t,r.get(e,n&A.Optional?null:void 0,n)}}function R(e,n=A.Default){return(Tf()||Xv)(fe(e),n)}function v(e,n=A.Default){return R(e,es(n))}function es(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pc(e){let n=[];for(let t=0;t<e.length;t++){let r=fe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let o,i=A.Default;for(let s=0;s<r.length;s++){let a=r[s],c=ey(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}n.push(R(o,i))}else n.push(R(r))}return n}function ey(e){return e[Kv]}function ty(e,n,t,r){let o=e[Mi];throw n[Od]&&o.unshift(n[Od]),e.message=ny(`
`+e.message,o,t,r),e[Yv]=o,e[Mi]=null,e}function ny(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Jv?e.slice(2):e;let o=ye(n);if(Array.isArray(n))o=n.map(ye).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):ye(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(Qv,`
  `)}`}function An(e,n){let t=e.hasOwnProperty(Si);return t?e[Si]:null}function Kc(e,n){e.forEach(t=>Array.isArray(t)?Kc(t,n):n(t))}function xf(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function xi(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ry(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function oy(e,n,t){let r=kr(e,n);return r>=0?e[r|1]=t:(r=~r,ry(e,r,n,t)),r}function Ja(e,n){let t=kr(e,n);if(t>=0)return e[t|1]}function kr(e,n){return iy(e,n,1)}function iy(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var jt={},Te=[],Ir=new C(""),Af=new C("",-1),Rf=new C(""),Ai=class{get(n,t=Ft){if(t===Ft){let r=new Error(`NullInjectorError: No provider for ${ye(n)}!`);throw r.name="NullInjectorError",r}return t}};function Nf(e,n){let t=e[Wv]||null;if(!t&&n===!0)throw new Error(`Type ${ye(e)} does not have '\u0275mod' property.`);return t}function Rn(e){return e[Hv]||null}function sy(e){return e[zv]||null}function ay(e){return e[qv]||null}function Yc(e){return{\u0275providers:e}}function cy(...e){return{\u0275providers:Of(!0,e),\u0275fromNgModule:!0}}function Of(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return Kc(n,s=>{let a=s;gc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&kf(o,i),t}function kf(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];Qc(o,i=>{n(i,r)})}}function gc(e,n,t,r){if(e=fe(e),!e)return!1;let o=null,i=Ad(e),s=!i&&Rn(e);if(!i&&!s){let c=e.ngModule;if(i=Ad(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)gc(u,n,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Kc(i.imports,l=>{gc(l,n,t,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&kf(u,n)}if(!a){let u=An(o)||(()=>new o);n({provide:o,useFactory:u,deps:Te},o),n({provide:Rf,useValue:o,multi:!0},o),n({provide:Ir,useValue:()=>R(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;Qc(c,l=>{n(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Qc(e,n){for(let t of e)If(t)&&(t=t.\u0275providers),Array.isArray(t)?Qc(t,n):n(t)}var uy=V({provide:String,useValue:V});function Pf(e){return e!==null&&typeof e=="object"&&uy in e}function ly(e){return!!(e&&e.useExisting)}function dy(e){return!!(e&&e.useFactory)}function Nn(e){return typeof e=="function"}function fy(e){return!!e.useClass}var ts=new C(""),_i={},kd={},Xa;function Jc(){return Xa===void 0&&(Xa=new Ai),Xa}var Ee=class{},Sr=class extends Ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,vc(n,s=>this.processProvider(s)),this.records.set(Af,Sn(void 0,this)),o.has("environment")&&this.records.set(Ee,Sn(void 0,this));let i=this.records.get(ts);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Rf,Te,A.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?Zo:Ft,r)}destroy(){br(this),this._destroyed=!0;let n=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(n)}}onDestroy(n){return br(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){br(this);let t=it(this),r=Se(void 0),o;try{return n()}finally{it(t),Se(r)}}get(n,t=Ft,r=A.Default){if(br(this),n.hasOwnProperty(Nd))return n[Nd](this);r=es(r);let o,i=it(this),s=Se(void 0);try{if(!(r&A.SkipSelf)){let c=this.records.get(n);if(c===void 0){let u=vy(n)&&Ji(n);u&&this.injectableDefInScope(u)?c=Sn(mc(n),_i):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let a=r&A.Self?Jc():this.parent;return t=r&A.Optional&&t===Ft?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Mi]=a[Mi]||[]).unshift(ye(n)),i)throw a;return ty(a,n,"R3InjectorError",this.source)}else throw a}finally{Se(s),it(i)}}resolveInjectorInitializers(){let n=k(null),t=it(this),r=Se(void 0),o;try{let i=this.get(Ir,Te,A.Self);for(let s of i)s()}finally{it(t),Se(r),k(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(ye(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=fe(n);let t=Nn(n)?n:fe(n&&n.provide),r=py(n);if(!Nn(n)&&n.multi===!0){let o=this.records.get(t);o||(o=Sn(void 0,_i,!0),o.factory=()=>pc(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let o=k(null);try{return t.value===kd?Sf(ye(n)):t.value===_i&&(t.value=kd,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&my(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{k(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=fe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function mc(e){let n=Ji(e),t=n!==null?n.factory:An(e);if(t!==null)return t;if(e instanceof C)throw new _(204,!1);if(e instanceof Function)return hy(e);throw new _(204,!1)}function hy(e){if(e.length>0)throw new _(204,!1);let t=Vv(e);return t!==null?()=>t.factory(e):()=>new e}function py(e){if(Pf(e))return Sn(void 0,e.useValue);{let n=Ff(e);return Sn(n,_i)}}function Ff(e,n,t){let r;if(Nn(e)){let o=fe(e);return An(o)||mc(o)}else if(Pf(e))r=()=>fe(e.useValue);else if(dy(e))r=()=>e.useFactory(...pc(e.deps||[]));else if(ly(e))r=(o,i)=>R(fe(e.useExisting),i!==void 0&&i&A.Optional?A.Optional:void 0);else{let o=fe(e&&(e.useClass||e.provide));if(gy(e))r=()=>new o(...pc(e.deps));else return An(o)||mc(o)}return r}function br(e){if(e.destroyed)throw new _(205,!1)}function Sn(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function gy(e){return!!e.deps}function my(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function vy(e){return typeof e=="function"||typeof e=="object"&&e instanceof C}function vc(e,n){for(let t of e)Array.isArray(t)?vc(t,n):t&&If(t)?vc(t.\u0275providers,n):n(t)}function Ve(e,n){let t;e instanceof Sr?(br(e),t=e):t=new Ti(e);let r,o=it(t),i=Se(void 0);try{return n()}finally{it(o),Se(i)}}function yy(){return Tf()!==void 0||vr()!=null}function wy(e){return typeof e=="function"}var ht=0,L=1,M=2,he=3,Ue=4,Be=5,Ri=6,Ni=7,we=8,On=9,ut=10,ce=11,Tr=12,Pd=13,$n=14,We=15,kn=16,Tn=17,Pn=18,ns=19,Lf=20,Ct=21,ec=22,Oi=23,Me=24,tc=25,lt=26,jf=1;var $t=7,ki=8,Pi=9,xe=10;function It(e){return Array.isArray(e)&&typeof e[jf]=="object"}function pt(e){return Array.isArray(e)&&e[jf]===!0}function $f(e){return(e.flags&4)!==0}function Un(e){return e.componentOffset>-1}function Xc(e){return(e.flags&1)===1}function Ge(e){return!!e.template}function Fi(e){return(e[M]&512)!==0}function Vn(e){return(e[M]&256)===256}var yc=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Uf(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Pr=(()=>{let e=()=>Vf;return e.ngInherit=!0,e})();function Vf(e){return e.type.prototype.ngOnChanges&&(e.setInput=_y),Dy}function Dy(){let e=Hf(this),n=e?.current;if(n){let t=e.previous;if(t===jt)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function _y(e,n,t,r,o){let i=this.declaredInputs[r],s=Hf(e)||by(e,{previous:jt,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new yc(u&&u.currentValue,t,c===jt),Uf(e,n,o,t)}var Bf="__ngSimpleChanges__";function Hf(e){return e[Bf]||null}function by(e,n){return e[Bf]=n}var Fd=null;var H=function(e,n=null,t){Fd?.(e,n,t)},zf="svg",Ey="math";function Ze(e){for(;Array.isArray(e);)e=e[ht];return e}function qf(e,n){return Ze(n[e])}function Qe(e,n){return Ze(n[e.index])}function Wf(e,n){return e.data[n]}function Ke(e,n){let t=n[e];return It(t)?t:t[ht]}function eu(e){return(e[M]&128)===128}function Cy(e){return pt(e[he])}function Li(e,n){return n==null?null:e[n]}function Gf(e){e[Tn]=0}function Zf(e){e[M]&1024||(e[M]|=1024,eu(e)&&os(e))}function Iy(e,n){for(;e>0;)n=n[$n],e--;return n}function rs(e){return!!(e[M]&9216||e[Me]?.dirty)}function wc(e){e[ut].changeDetectionScheduler?.notify(8),e[M]&64&&(e[M]|=1024),rs(e)&&os(e)}function os(e){e[ut].changeDetectionScheduler?.notify(0);let n=Ut(e);for(;n!==null&&!(n[M]&8192||(n[M]|=8192,!eu(n)));)n=Ut(n)}function Kf(e,n){if(Vn(e))throw new _(911,!1);e[Ct]===null&&(e[Ct]=[]),e[Ct].push(n)}function Sy(e,n){if(e[Ct]===null)return;let t=e[Ct].indexOf(n);t!==-1&&e[Ct].splice(t,1)}function Ut(e){let n=e[he];return pt(n)?n[he]:n}function Yf(e){return e[Ni]??=[]}function Qf(e){return e.cleanup??=[]}var N={lFrame:ih(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Dc=!1;function Ty(){return N.lFrame.elementDepthCount}function My(){N.lFrame.elementDepthCount++}function xy(){N.lFrame.elementDepthCount--}function Jf(){return N.bindingsEnabled}function Ay(){return N.skipHydrationRootTNode!==null}function Ry(e){return N.skipHydrationRootTNode===e}function Ny(){N.skipHydrationRootTNode=null}function Z(){return N.lFrame.lView}function He(){return N.lFrame.tView}function QA(e){return N.lFrame.contextLView=e,e[we]}function JA(e){return N.lFrame.contextLView=null,e}function Ae(){let e=Xf();for(;e!==null&&e.type===64;)e=e.parent;return e}function Xf(){return N.lFrame.currentTNode}function Oy(){let e=N.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Fr(e,n){let t=N.lFrame;t.currentTNode=e,t.isParent=n}function eh(){return N.lFrame.isParent}function ky(){N.lFrame.isParent=!1}function th(){return Dc}function Ld(e){let n=Dc;return Dc=e,n}function Py(){let e=N.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Fy(e){return N.lFrame.bindingIndex=e}function tu(){return N.lFrame.bindingIndex++}function Ly(e){let n=N.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function jy(){return N.lFrame.inI18n}function $y(e,n){let t=N.lFrame;t.bindingIndex=t.bindingRootIndex=e,_c(n)}function Uy(){return N.lFrame.currentDirectiveIndex}function _c(e){N.lFrame.currentDirectiveIndex=e}function Vy(e){let n=N.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function nh(e){N.lFrame.currentQueryIndex=e}function By(e){let n=e[L];return n.type===2?n.declTNode:n.type===1?e[Be]:null}function rh(e,n,t){if(t&A.SkipSelf){let o=n,i=e;for(;o=o.parent,o===null&&!(t&A.Host);)if(o=By(i),o===null||(i=i[$n],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=N.lFrame=oh();return r.currentTNode=n,r.lView=e,!0}function nu(e){let n=oh(),t=e[L];N.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function oh(){let e=N.lFrame,n=e===null?null:e.child;return n===null?ih(e):n}function ih(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function sh(){let e=N.lFrame;return N.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ah=sh;function ru(){let e=sh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Hy(e){return(N.lFrame.contextLView=Iy(e,N.lFrame.contextLView))[we]}function Bn(){return N.lFrame.selectedIndex}function Vt(e){N.lFrame.selectedIndex=e}function ch(){let e=N.lFrame;return Wf(e.tView,e.selectedIndex)}function XA(){N.lFrame.currentNamespace=zf}function eR(){zy()}function zy(){N.lFrame.currentNamespace=null}function qy(){return N.lFrame.currentNamespace}var uh=!0;function ou(){return uh}function iu(e){uh=e}function Wy(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=Vf(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function lh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),l!=null&&(e.destroyHooks??=[]).push(t,l)}}function bi(e,n,t){dh(e,n,3,t)}function Ei(e,n,t,r){(e[M]&3)===t&&dh(e,n,t,r)}function nc(e,n){let t=e[M];(t&3)===n&&(t&=16383,t+=1,e[M]=t)}function dh(e,n,t,r){let o=r!==void 0?e[Tn]&65535:0,i=r??-1,s=n.length-1,a=0;for(let c=o;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Tn]+=65536),(a<i||i==-1)&&(Gy(e,t,n,c),e[Tn]=(e[Tn]&4294901760)+c+2),c++}function jd(e,n){H(4,e,n);let t=k(null);try{n.call(e)}finally{k(t),H(5,e,n)}}function Gy(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=e[s];o?e[M]>>14<e[Tn]>>16&&(e[M]&3)===n&&(e[M]+=16384,jd(a,i)):jd(a,i)}var xn=-1,Bt=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Zy(e){return(e.flags&8)!==0}function Ky(e){return(e.flags&16)!==0}function Yy(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{let i=o,s=t[++r];Qy(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function fh(e){return e===3||e===4||e===6}function Qy(e){return e.charCodeAt(0)===64}function Mr(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?$d(e,t,o,null,n[++r]):$d(e,t,o,null,null))}}return e}function $d(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function hh(e){return e!==xn}function ji(e){return e&32767}function Jy(e){return e>>16}function $i(e,n){let t=Jy(e),r=n;for(;t>0;)r=r[$n],t--;return r}var bc=!0;function Ud(e){let n=bc;return bc=e,n}var Xy=256,ph=Xy-1,gh=5,ew=0,qe={};function tw(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Cr)&&(r=t[Cr]),r==null&&(r=t[Cr]=ew++);let o=r&ph,i=1<<o;n.data[e+(o>>gh)]|=i}function Ui(e,n){let t=mh(e,n);if(t!==-1)return t;let r=n[L];r.firstCreatePass&&(e.injectorIndex=n.length,rc(r.data,e),rc(n,null),rc(r.blueprint,null));let o=su(e,n),i=e.injectorIndex;if(hh(o)){let s=ji(o),a=$i(o,n),c=a[L].data;for(let u=0;u<8;u++)n[i+u]=a[s+u]|c[s+u]}return n[i+8]=o,i}function rc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function mh(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function su(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=_h(o),r===null)return xn;if(t++,o=o[$n],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xn}function Ec(e,n,t){tw(e,n,t)}function nw(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(fh(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===n)return t[o+1];o=o+2}}}return null}function vh(e,n,t){if(t&A.Optional||e!==void 0)return e;Zc(n,"NodeInjector")}function yh(e,n,t,r){if(t&A.Optional&&r===void 0&&(r=null),(t&(A.Self|A.Host))===0){let o=e[On],i=Se(void 0);try{return o?o.get(n,r,t&A.Optional):Mf(n,r,t&A.Optional)}finally{Se(i)}}return vh(r,n,t)}function wh(e,n,t,r=A.Default,o){if(e!==null){if(n[M]&2048&&!(r&A.Self)){let s=aw(e,n,t,r,qe);if(s!==qe)return s}let i=Dh(e,n,t,r,qe);if(i!==qe)return i}return yh(n,t,r,o)}function Dh(e,n,t,r,o){let i=iw(t);if(typeof i=="function"){if(!rh(n,e,r))return r&A.Host?vh(o,t,r):yh(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&A.Optional))Zc(t);else return s}finally{ah()}}else if(typeof i=="number"){let s=null,a=mh(e,n),c=xn,u=r&A.Host?n[We][Be]:null;for((a===-1||r&A.SkipSelf)&&(c=a===-1?su(e,n):n[a+8],c===xn||!Bd(r,!1)?a=-1:(s=n[L],a=ji(c),n=$i(c,n)));a!==-1;){let l=n[L];if(Vd(i,a,l.data)){let d=rw(a,n,t,s,r,u);if(d!==qe)return d}c=n[a+8],c!==xn&&Bd(r,n[L].data[a+8]===u)&&Vd(i,a,n)?(s=l,a=ji(c),n=$i(c,n)):a=-1}}return o}function rw(e,n,t,r,o,i){let s=n[L],a=s.data[e+8],c=r==null?Un(a)&&bc:r!=s&&(a.type&3)!==0,u=o&A.Host&&i===a,l=ow(a,s,t,c,u);return l!==null?Vi(n,s,l,a,o):qe}function ow(e,n,t,r,o){let i=e.providerIndexes,s=n.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(o){let f=s[c];if(f&&Ge(f)&&f.type===t)return c}return null}function Vi(e,n,t,r,o){let i=e[t],s=n.data;if(i instanceof Bt){let a=i;a.resolving&&Sf(Gv(s[t]));let c=Ud(a.canSeeViewProviders);a.resolving=!0;let u,l=a.injectImpl?Se(a.injectImpl):null,d=rh(e,r,A.Default);try{i=e[t]=a.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&Wy(t,s[t],n)}finally{l!==null&&Se(l),Ud(c),a.resolving=!1,ah()}}return i}function iw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Cr)?e[Cr]:void 0;return typeof n=="number"?n>=0?n&ph:sw:n}function Vd(e,n,t){let r=1<<e;return!!(t[n+(e>>gh)]&r)}function Bd(e,n){return!(e&A.Self)&&!(e&A.Host&&n)}var Lt=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return wh(this._tNode,this._lView,n,es(r),t)}};function sw(){return new Lt(Ae(),Z())}function au(e){return Qi(()=>{let n=e.prototype.constructor,t=n[Si]||Cc(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Si]||Cc(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Cc(e){return _f(e)?()=>{let n=Cc(fe(e));return n&&n()}:An(e)}function aw(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[M]&2048&&!Fi(s);){let a=Dh(i,s,t,r|A.Self,qe);if(a!==qe)return a;let c=i.parent;if(!c){let u=s[Lf];if(u){let l=u.get(t,qe,r);if(l!==qe)return l}c=_h(s),s=s[$n]}i=c}return o}function _h(e){let n=e[L],t=n.type;return t===2?n.declTNode:t===1?e[Be]:null}function cu(e){return nw(Ae(),e)}function Hd(e,n=null,t=null,r){let o=bh(e,n,t,r);return o.resolveInjectorInitializers(),o}function bh(e,n=null,t=null,r,o=new Set){let i=[t||Te,cy(e)];return r=r||(typeof e=="object"?void 0:ye(e)),new Sr(i,n||Jc(),r||null,o)}var St=class e{static THROW_IF_NOT_FOUND=Ft;static NULL=new Ai;static create(n,t){if(Array.isArray(n))return Hd({name:""},t,n,"");{let r=n.name??"";return Hd({name:r},n.parent,n.providers,r)}}static \u0275prov=b({token:e,providedIn:"any",factory:()=>R(Af)});static __NG_ELEMENT_ID__=-1};var cw=new C("");cw.__NG_ELEMENT_ID__=e=>{let n=Ae();if(n===null)throw new _(204,!1);if(n.type&2)return n.value;if(e&A.Optional)return null;throw new _(204,!1)};var Eh=!1,is=(()=>{class e{static __NG_ELEMENT_ID__=uw;static __NG_ENV_ID__=t=>t}return e})(),Ic=class extends is{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return Vn(t)?(n(),()=>{}):(Kf(t,n),()=>Sy(t,n))}};function uw(){return new Ic(Z())}var xr=class{},uu=new C("",{providedIn:"root",factory:()=>!1});var Ch=new C(""),Ih=new C(""),Hn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new se(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})();var Sc=class extends re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,yy()&&(this.destroyRef=v(is,{optional:!0})??void 0,this.pendingTasks=v(Hn,{optional:!0})??void 0)}emit(n){let t=k(null);try{super.next(n)}finally{k(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof Q&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ve=Sc;function Bi(...e){}function Sh(e){let n,t;function r(){e=Bi;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function zd(e){return queueMicrotask(()=>e()),()=>{e=Bi}}var lu="isAngularZone",Hi=lu+"_ID",lw=0,oe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ve(!1);onMicrotaskEmpty=new ve(!1);onStable=new ve(!1);onError=new ve(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Eh}=n;if(typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,hw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new _(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,dw,Bi,Bi);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},dw={};function du(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Sh(()=>{e.callbackScheduled=!1,Tc(e),e.isCheckStableRunning=!0,du(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Tc(e)}function hw(e){let n=()=>{fw(e)},t=lw++;e._inner=e._inner.fork({name:"angular",properties:{[lu]:!0,[Hi]:t,[Hi+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(pw(c))return r.invokeTask(i,s,a,c);try{return qd(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Wd(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return qd(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!gw(c)&&n(),Wd(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Tc(e),du(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Tc(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function qd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wd(e){e._nesting--,du(e)}var Mc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ve;onMicrotaskEmpty=new ve;onStable=new ve;onError=new ve;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function pw(e){return Th(e,"__ignore_ng_zone__")}function gw(e){return Th(e,"__scheduler_tick__")}function Th(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var dt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},mw=new C("",{providedIn:"root",factory:()=>{let e=v(oe),n=v(dt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Gd(e,n){return wf(e,n)}function vw(e){return wf(yf,e)}var Mh=(Gd.required=vw,Gd);function yw(){return ss(Ae(),Z())}function ss(e,n){return new Lr(Qe(e,n))}var Lr=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=yw}return e})();function tR(e,n){let t=ka(e,n?.equal),r=t[Pe];return t.set=o=>mr(r,o),t.update=o=>Pa(r,o),t.asReadonly=ww.bind(t),t}function ww(){let e=this[Pe];if(e.readonlyFn===void 0){let n=()=>this();n[Pe]=e,e.readonlyFn=n}return e.readonlyFn}function xh(e){return(e.flags&128)===128}var Ah=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ah||{}),Rh=new Map,Dw=0;function _w(){return Dw++}function bw(e){Rh.set(e[ns],e)}function xc(e){Rh.delete(e[ns])}var Zd="__ngContext__";function jr(e,n){It(n)?(e[Zd]=n[ns],bw(n)):e[Zd]=n}function Nh(e){return kh(e[Tr])}function Oh(e){return kh(e[Ue])}function kh(e){for(;e!==null&&!pt(e);)e=e[Ue];return e}var Ac;function Ph(e){Ac=e}function Ew(){if(Ac!==void 0)return Ac;if(typeof document<"u")return document;throw new _(210,!1)}var fu=new C("",{providedIn:"root",factory:()=>Cw}),Cw="ng",hu=new C(""),$r=new C("",{providedIn:"platform",factory:()=>"unknown"});var pu=new C("",{providedIn:"root",factory:()=>Ew().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Iw="h",Sw="b";var Fh=!1,Tw=new C("",{providedIn:"root",factory:()=>Fh});var Lh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Lh||{}),as=new C(""),Kd=new Set;function gu(e){Kd.has(e)||(Kd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Mw=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})();var xw=(e,n,t,r)=>{};function Aw(e,n,t,r){xw(e,n,t,r)}var Rw=()=>null;function jh(e,n,t=!1){return Rw(e,n,t)}function $h(e,n){let t=e.contentQueries;if(t!==null){let r=k(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=e.data[s];nh(i),a.contentQueries(2,n[s],s)}}}finally{k(r)}}}function Rc(e,n,t){nh(0);let r=k(null);try{n(e,t)}finally{k(r)}}function Uh(e,n,t){if($f(n)){let r=k(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var Ye=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ye||{});var wi;function Nw(){if(wi===void 0&&(wi=null,fc.trustedTypes))try{wi=fc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wi}function Yd(e){return Nw()?.createScriptURL(e)||e}var zi=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vf})`}};function mu(e){return e instanceof zi?e.changingThisBreaksApplicationSecurity:e}function Vh(e,n){let t=Ow(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${vf})`)}return t===n}function Ow(e){return e instanceof zi&&e.getTypeName()||null}var kw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pw(e){return e=String(e),e.match(kw)?e:"unsafe:"+e}var vu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vu||{});function Fw(e){let n=Hh();return n?n.sanitize(vu.URL,e)||"":Vh(e,"URL")?mu(e):Pw(Xi(e))}function Lw(e){let n=Hh();if(n)return Yd(n.sanitize(vu.RESOURCE_URL,e)||"");if(Vh(e,"ResourceURL"))return Yd(mu(e));throw new _(904,!1)}function jw(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Lw:Fw}function Bh(e,n,t){return jw(n,t)(e)}function Hh(){let e=Z();return e&&e[ut].sanitizer}function zh(e){return e instanceof Function?e():e}function $w(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var qh="ng-template";function Uw(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&$w(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(yu(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function yu(e){return e.type===4&&e.value!==qh}function Vw(e,n,t){let r=e.type===4&&!t?qh:e.value;return n===r}function Bw(e,n,t){let r=4,o=e.attrs,i=o!==null?qw(o):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!$e(r)&&!$e(c))return!1;if(s&&$e(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Vw(e,c,t)||c===""&&n.length===1){if($e(r))return!1;s=!0}}else if(r&8){if(o===null||!Uw(e,o,c,t)){if($e(r))return!1;s=!0}}else{let u=n[++a],l=Hw(c,o,yu(e),t);if(l===-1){if($e(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if($e(r))return!1;s=!0}}}}return $e(r)||s}function $e(e){return(e&1)===0}function Hw(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Ww(n,e)}function zw(e,n,t=!1){for(let r=0;r<n.length;r++)if(Bw(e,n[r],t))return!0;return!1}function qw(e){for(let n=0;n<e.length;n++){let t=e[n];if(fh(t))return n}return e.length}function Ww(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Qd(e,n){return e?":not("+n.trim()+")":n}function Gw(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!$e(s)&&(n+=Qd(i,o),o=""),r=s,i=i||!$e(r);t++}return o!==""&&(n+=Qd(i,o)),n}function Zw(e){return e.map(Gw).join(",")}function Kw(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!$e(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var zn={};function Yw(e,n){return e.createText(n)}function Qw(e,n,t){e.setValue(n,t)}function Wh(e,n,t){return e.createElement(n,t)}function qi(e,n,t,r,o){e.insertBefore(n,t,r,o)}function Gh(e,n,t){e.appendChild(n,t)}function Jd(e,n,t,r,o){r!==null?qi(e,n,t,r,o):Gh(e,n,t)}function Jw(e,n,t){e.removeChild(null,n,t)}function Xw(e,n,t){e.setAttribute(n,"style",t)}function eD(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Zh(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&Yy(e,n,r),o!==null&&eD(e,n,o),i!==null&&Xw(e,n,i)}function wu(e,n,t,r,o,i,s,a,c,u,l){let d=lt+r,h=d+o,f=tD(d,h),g=typeof u=="function"?u():u;return f[L]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function tD(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:zn);return t}function nD(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=wu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Du(e,n,t,r,o,i,s,a,c,u,l){let d=n.blueprint.slice();return d[ht]=o,d[M]=r|4|128|8|64|1024,(u!==null||e&&e[M]&2048)&&(d[M]|=2048),Gf(d),d[he]=d[$n]=e,d[we]=t,d[ut]=s||e&&e[ut],d[ce]=a||e&&e[ce],d[On]=c||e&&e[On]||null,d[Be]=i,d[ns]=_w(),d[Ri]=l,d[Lf]=u,d[We]=n.type==2?e[We]:d,d}function rD(e,n,t){let r=Qe(n,e),o=nD(t),i=e[ut].rendererFactory,s=_u(e,Du(e,o,null,Kh(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function Kh(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Yh(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function _u(e,n){return e[Tr]?e[Pd][Ue]=n:e[Tr]=n,e[Pd]=n,n}function nR(e=1){Qh(He(),Z(),Bn()+e,!1)}function Qh(e,n,t,r){if(!r)if((n[M]&3)===3){let i=e.preOrderCheckHooks;i!==null&&bi(n,i,t)}else{let i=e.preOrderHooks;i!==null&&Ei(n,i,0,t)}Vt(t)}var cs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cs||{});function Nc(e,n,t,r){let o=k(null);try{let[i,s,a]=e.inputs[t],c=null;(s&cs.SignalBased)!==0&&(c=n[i][Pe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,i):Uf(n,c,i,r)}finally{k(o)}}function Jh(e,n,t,r,o){let i=Bn(),s=r&2;try{Vt(-1),s&&n.length>lt&&Qh(e,n,lt,!1),H(s?2:0,o),t(r,o)}finally{Vt(i),H(s?3:1,o)}}function bu(e,n,t){lD(e,n,t),(t.flags&64)===64&&dD(e,n,t)}function Xh(e,n,t=Qe){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(n,e):e[s];e[o++]=a}}}function oD(e,n,t,r){let i=r.get(Tw,Fh)||t===Ye.ShadowDom,s=e.selectRootElement(n,i);return iD(s),s}function iD(e){sD(e)}var sD=()=>null;function aD(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function cD(e,n,t,r,o,i,s,a){if(!a&&Eu(n,e,t,r,o)){Un(n)&&uD(t,n.index);return}if(n.type&3){let c=Qe(n,t);r=aD(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(c,r,o)}else n.type&12}function uD(e,n){let t=Ke(n,e);t[M]&16||(t[M]|=64)}function lD(e,n,t){let r=t.directiveStart,o=t.directiveEnd;Un(t)&&rD(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Ui(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Vi(n,e,s,t);if(jr(c,n),i!==null&&gD(n,s-r,c,a,t,i),Ge(a)){let u=Ke(t.index,n);u[we]=Vi(n,e,s,t)}}}function dD(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=Uy();try{Vt(i);for(let a=r;a<o;a++){let c=e.data[a],u=n[a];_c(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fD(c,u)}}finally{Vt(-1),_c(s)}}function fD(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function ep(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];zw(n,i.selectors,!1)&&(r??=[],Ge(i)?r.unshift(i):r.push(i))}return r}function hD(e,n,t,r,o,i){let s=Qe(e,n);pD(n[ce],s,i,e.value,t,r,o)}function pD(e,n,t,r,o,i,s){if(i==null)e.removeAttribute(n,o,t);else{let a=s==null?Xi(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}function gD(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Nc(r,t,c,u)}}function mD(e,n){let t=e[On],r=t?t.get(dt,null):null;r&&r.handleError(n)}function Eu(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=n.data[u];Nc(d,t[u],l,o),a=!0}if(i)for(let c of i){let u=t[c],l=n.data[c];Nc(l,u,r,o),a=!0}return a}function vD(e,n){let t=Ke(n,e),r=t[L];yD(r,t);let o=t[ht];o!==null&&t[Ri]===null&&(t[Ri]=jh(o,t[On])),H(18),Cu(r,t,t[we]),H(19,t[we])}function yD(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Cu(e,n,t){nu(n);try{let r=e.viewQuery;r!==null&&Rc(1,r,t);let o=e.template;o!==null&&Jh(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Pn]?.finishViewCreation(e),e.staticContentQueries&&$h(e,n),e.staticViewQueries&&Rc(2,e.viewQuery,t);let i=e.components;i!==null&&wD(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[M]&=-5,ru()}}function wD(e,n){for(let t=0;t<n.length;t++)vD(e,n[t])}function DD(e,n,t,r){let o=k(null);try{let i=n.tView,a=e[M]&4096?4096:16,c=Du(e,i,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[n.index];c[kn]=u;let l=e[Pn];return l!==null&&(c[Pn]=l.createEmbeddedView(i)),Cu(i,c,t),c}finally{k(o)}}function Xd(e,n){return!n||n.firstChild===null||xh(e)}var _D;function Iu(e,n){return _D(e,n)}var ft=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ft||{});function tp(e){return(e.flags&32)===32}function Mn(e,n,t,r,o){if(r!=null){let i,s=!1;pt(r)?i=r:It(r)&&(s=!0,r=r[ht]);let a=Ze(r);e===0&&t!==null?o==null?Gh(n,t,a):qi(n,t,a,o||null,!0):e===1&&t!==null?qi(n,t,a,o||null,!0):e===2?Jw(n,a,s):e===3&&n.destroyNode(a),i!=null&&OD(n,e,i,t,o)}}function bD(e,n){np(e,n),n[ht]=null,n[Be]=null}function ED(e,n,t,r,o,i){r[ht]=o,r[Be]=n,us(e,r,t,1,o,i)}function np(e,n){n[ut].changeDetectionScheduler?.notify(9),us(e,n,n[ce],2,null,null)}function CD(e){let n=e[Tr];if(!n)return oc(e[L],e);for(;n;){let t=null;if(It(n))t=n[Tr];else{let r=n[xe];r&&(t=r)}if(!t){for(;n&&!n[Ue]&&n!==e;)It(n)&&oc(n[L],n),n=n[he];n===null&&(n=e),It(n)&&oc(n[L],n),t=n&&n[Ue]}n=t}}function Su(e,n){let t=e[Pi],r=t.indexOf(n);t.splice(r,1)}function rp(e,n){if(Vn(n))return;let t=n[ce];t.destroyNode&&us(e,n,t,3,null,null),CD(n)}function oc(e,n){if(Vn(n))return;let t=k(null);try{n[M]&=-129,n[M]|=256,n[Me]&&Ra(n[Me]),SD(e,n),ID(e,n),n[L].type===1&&n[ce].destroy();let r=n[kn];if(r!==null&&pt(n[he])){r!==n[he]&&Su(r,n);let o=n[Pn];o!==null&&o.detachView(e)}xc(n)}finally{k(t)}}function ID(e,n){let t=e.cleanup,r=n[Ni];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Ni]=null);let o=n[Ct];if(o!==null){n[Ct]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[Oi];if(i!==null){n[Oi]=null;for(let s of i)s.destroy()}}function SD(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof Bt)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];H(4,a,c);try{c.call(a)}finally{H(5,a,c)}}else{H(4,o,i);try{i.call(o)}finally{H(5,o,i)}}}}}function TD(e,n,t){return MD(e,n.parent,t)}function MD(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[ht];if(Un(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Ye.None||o===Ye.Emulated)return null}return Qe(r,t)}function xD(e,n,t){return RD(e,n,t)}function AD(e,n,t){return e.type&40?Qe(e,t):null}var RD=AD,ef;function Tu(e,n,t,r){let o=TD(e,r,n),i=n[ce],s=r.parent||n[Be],a=xD(s,r,n);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Jd(i,o,t[c],a,!1);else Jd(i,o,t,a,!1);ef!==void 0&&ef(i,r,n,t,o)}function Er(e,n){if(n!==null){let t=n.type;if(t&3)return Qe(n,e);if(t&4)return Oc(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Er(e,r);{let o=e[n.index];return pt(o)?Oc(-1,o):Ze(o)}}else{if(t&128)return Er(e,n.next);if(t&32)return Iu(n,e)()||Ze(e[n.index]);{let r=op(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=Ut(e[We]);return Er(o,r)}else return Er(e,n.next)}}}return null}function op(e,n){if(n!==null){let r=e[We][Be],o=n.projection;return r.projection[o]}return null}function Oc(e,n){let t=xe+e+1;if(t<n.length){let r=n[t],o=r[L].firstChild;if(o!==null)return Er(r,o)}return n[$t]}function Mu(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&n===0&&(a&&jr(Ze(a),r),t.flags|=2),!tp(t))if(c&8)Mu(e,n,t.child,r,o,i,!1),Mn(n,e,o,a,i);else if(c&32){let u=Iu(t,r),l;for(;l=u();)Mn(n,e,o,l,i);Mn(n,e,o,a,i)}else c&16?ND(e,n,r,t,o,i):Mn(n,e,o,a,i);t=s?t.projectionNext:t.next}}function us(e,n,t,r,o,i){Mu(t,r,e.firstChild,n,o,i,!1)}function ND(e,n,t,r,o,i){let s=t[We],c=s[Be].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Mn(n,e,o,l,i)}else{let u=c,l=s[he];xh(r)&&(u.flags|=128),Mu(e,n,u,l,o,i,!0)}}function OD(e,n,t,r,o){let i=t[$t],s=Ze(t);i!==s&&Mn(n,e,r,i,o);for(let a=xe;a<t.length;a++){let c=t[a];us(c[L],c,e,n,r,i)}}function kD(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:ft.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ft.Important),e.setStyle(t,r,o,i))}}function Wi(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(Ze(i)),pt(i)&&PD(i,r);let s=t.type;if(s&8)Wi(e,n,t.child,r);else if(s&32){let a=Iu(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=op(n,t);if(Array.isArray(a))r.push(...a);else{let c=Ut(n[We]);Wi(c[L],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function PD(e,n){for(let t=xe;t<e.length;t++){let r=e[t],o=r[L].firstChild;o!==null&&Wi(r[L],r,o,n)}e[$t]!==e[ht]&&n.push(e[$t])}function ip(e){if(e[tc]!==null){for(let n of e[tc])n.impl.addSequence(n);e[tc].length=0}}var sp=[];function FD(e){return e[Me]??LD(e)}function LD(e){let n=sp.pop()??Object.create($D);return n.lView=e,n}function jD(e){e.lView[Me]!==e&&(e.lView=null,sp.push(e))}var $D=q(w({},pr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{os(e.lView)},consumerOnSignalRead(){this.lView[Me]=this}});function UD(e){let n=e[Me]??Object.create(VD);return n.lView=e,n}var VD=q(w({},pr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Ut(e.lView);for(;n&&!ap(n[L]);)n=Ut(n);n&&Zf(n)},consumerOnSignalRead(){this.lView[Me]=this}});function ap(e){return e.type!==2}function cp(e){if(e[Oi]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Oi])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[M]&8192)}}var BD=100;function up(e,n=!0,t=0){let o=e[ut].rendererFactory,i=!1;i||o.begin?.();try{HD(e,t)}catch(s){throw n&&mD(e,s),s}finally{i||o.end?.()}}function HD(e,n){let t=th();try{Ld(!0),kc(e,n);let r=0;for(;rs(e);){if(r===BD)throw new _(103,!1);r++,kc(e,1)}}finally{Ld(t)}}function zD(e,n,t,r){if(Vn(n))return;let o=n[M],i=!1,s=!1;nu(n);let a=!0,c=null,u=null;i||(ap(e)?(u=FD(n),c=zo(u)):Ia()===null?(a=!1,u=UD(n),c=zo(u)):n[Me]&&(Ra(n[Me]),n[Me]=null));try{Gf(n),Fy(e.bindingStartIndex),t!==null&&Jh(e,n,t,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&bi(n,f,null)}else{let f=e.preOrderHooks;f!==null&&Ei(n,f,0,null),nc(n,0)}if(s||qD(n),cp(n),lp(n,0),e.contentQueries!==null&&$h(e,n),!i)if(l){let f=e.contentCheckHooks;f!==null&&bi(n,f)}else{let f=e.contentHooks;f!==null&&Ei(n,f,1),nc(n,1)}GD(e,n);let d=e.components;d!==null&&fp(n,d,0);let h=e.viewQuery;if(h!==null&&Rc(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&bi(n,f)}else{let f=e.viewHooks;f!==null&&Ei(n,f,2),nc(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[ec]){for(let f of n[ec])f();n[ec]=null}i||(ip(n),n[M]&=-73)}catch(l){throw i||os(n),l}finally{u!==null&&(xa(u,c),a&&jD(u)),ru()}}function lp(e,n){for(let t=Nh(e);t!==null;t=Oh(t))for(let r=xe;r<t.length;r++){let o=t[r];dp(o,n)}}function qD(e){for(let n=Nh(e);n!==null;n=Oh(n)){if(!(n[M]&2))continue;let t=n[Pi];for(let r=0;r<t.length;r++){let o=t[r];Zf(o)}}}function WD(e,n,t){H(18);let r=Ke(n,e);dp(r,t),H(19,r[we])}function dp(e,n){eu(e)&&kc(e,n)}function kc(e,n){let r=e[L],o=e[M],i=e[Me],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&Aa(i)),s||=!1,i&&(i.dirty=!1),e[M]&=-9217,s)zD(r,e,r.template,e[we]);else if(o&8192){cp(e),lp(e,1);let a=r.components;a!==null&&fp(e,a,1),ip(e)}}function fp(e,n,t){for(let r=0;r<n.length;r++)WD(e,n[r],t)}function GD(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)Vt(~o);else{let i=o,s=t[++r],a=t[++r];$y(s,i);let c=n[i];H(24,c),a(2,c),H(25,c)}}}finally{Vt(-1)}}function xu(e,n){let t=th()?64:1088;for(e[ut].changeDetectionScheduler?.notify(n);e;){e[M]|=t;let r=Ut(e);if(Fi(e)&&!r)return e;e=r}return null}function hp(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function ZD(e,n,t,r=!0){let o=n[L];if(KD(o,n,e,t),r){let s=Oc(t,e),a=n[ce],c=a.parentNode(e[$t]);c!==null&&ED(o,e[Be],a,n,c,s)}let i=n[Ri];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Pc(e,n){if(e.length<=xe)return;let t=xe+n,r=e[t];if(r){let o=r[kn];o!==null&&o!==e&&Su(o,r),n>0&&(e[t-1][Ue]=r[Ue]);let i=xi(e,xe+n);bD(r[L],r);let s=i[Pn];s!==null&&s.detachView(i[L]),r[he]=null,r[Ue]=null,r[M]&=-129}return r}function KD(e,n,t,r){let o=xe+r,i=t.length;r>0&&(t[o-1][Ue]=n),r<i-xe?(n[Ue]=t[o],xf(t,xe+r,n)):(t.push(n),n[Ue]=null),n[he]=t;let s=n[kn];s!==null&&t!==s&&pp(s,n);let a=n[Pn];a!==null&&a.insertView(e),wc(n),n[M]|=128}function pp(e,n){let t=e[Pi],r=n[he];if(It(r))e[M]|=2;else{let o=r[he][We];n[We]!==o&&(e[M]|=2)}t===null?e[Pi]=[n]:t.push(n)}var Ar=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[L];return Wi(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[we]}set context(n){this._lView[we]=n}get destroyed(){return Vn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[he];if(pt(n)){let t=n[ki],r=t?t.indexOf(this):-1;r>-1&&(Pc(n,r),xi(t,r))}this._attachedToViewContainer=!1}rp(this._lView[L],this._lView)}onDestroy(n){Kf(this._lView,n)}markForCheck(){xu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[M]&=-129}reattach(){wc(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,up(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Fi(this._lView),t=this._lView[kn];t!==null&&!n&&Su(t,this._lView),np(this._lView[L],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=n;let t=Fi(this._lView),r=this._lView[kn];r!==null&&!t&&pp(r,this._lView),wc(this._lView)}};var Au=(()=>{class e{static __NG_ELEMENT_ID__=JD}return e})(),YD=Au,QD=class extends YD{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let o=DD(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Ar(o)}};function JD(){return XD(Ae(),Z())}function XD(e,n){return e.type&4?new QD(n,e,ss(e,n)):null}function Ru(e,n,t,r,o){let i=e.data[n];if(i===null)i=e_(e,n,t,r,o),jy()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=Oy();i.injectorIndex=s===null?-1:s.injectorIndex}return Fr(i,!0),i}function e_(e,n,t,r,o){let i=Xf(),s=eh(),a=s?i:i&&i.parent,c=e.data[n]=n_(e,a,t,n,r,o);return t_(e,c,i,s),c}function t_(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function n_(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return Ay()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iR=new RegExp(`^(\\d+)*(${Sw}|${Iw})*(.*)`);var r_=()=>null;function tf(e,n){return r_(e,n)}var o_=class{},gp=class{},Fc=class{resolveComponentFactory(n){throw Error(`No component factory found for ${ye(n)}.`)}},ls=class{static NULL=new Fc},Fn=class{},ds=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>i_()}return e})();function i_(){let e=Z(),n=Ae(),t=Ke(n.index,e);return(It(t)?t:e)[ce]}var s_=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>null})}return e})();var ic={},Lc=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=es(r);let o=this.injector.get(n,ic,r);return o!==ic||t===ic?o:this.parentInjector.get(n,t,r)}};function nf(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=Md(o,a);else if(i==2){let c=a,u=n[++s];r=Md(r,c+": "+u+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function De(e,n=A.Default){let t=Z();if(t===null)return R(e,n);let r=Ae();return wh(r,t,fe(e),n)}function mp(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let a,c=null,u=null,l=c_(s);l===null?a=s:[a,c,u]=l,d_(e,n,t,a,i,c,u)}i!==null&&r!==null&&a_(t,r,i)}function a_(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new _(-301,!1);r.push(n[o],i)}}function c_(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Ge(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,u_(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,o,i]):null}function u_(e,n,t,r){let o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function l_(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function d_(e,n,t,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&Ge(f)&&(c=!0,l_(e,t,h)),Ec(Ui(t,n),e,f.type)}v_(t,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Yh(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=Mr(t.mergedAttrs,f.hostAttrs),h_(e,t,n,d,f),m_(d,f,o),s!==null&&s.has(f)){let[m,y]=s.get(f);t.directiveToIndex.set(f.type,[d,m+t.directiveStart,y+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!u&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),u=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}f_(e,t,i)}function f_(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))rf(0,n,o,r),rf(1,n,o,r),sf(n,r,!1);else{let i=t.get(o);of(0,n,i,r),of(1,n,i,r),sf(n,r,!0)}}}function rf(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),vp(n,i)}}function of(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),vp(n,s)}}function vp(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function sf(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||yu(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===n){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function h_(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=An(o.type,!0)),s=new Bt(i,Ge(o),De);e.blueprint[r]=s,t[r]=s,p_(e,n,r,Yh(e,t,o.hostVars,zn),o)}function p_(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;g_(s)!=a&&s.push(a),s.push(t,r,i)}}function g_(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function m_(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ge(n)&&(t[""]=e)}}function v_(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function yp(e,n,t,r,o,i,s,a){let c=n.consts,u=Li(c,s),l=Ru(n,e,2,r,u);return i&&mp(n,t,l,Li(c,a),o),l.mergedAttrs=Mr(l.mergedAttrs,l.attrs),l.attrs!==null&&nf(l,l.attrs,!1),l.mergedAttrs!==null&&nf(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function wp(e,n){lh(e,n),$f(n)&&e.queries.elementEnd(n)}var Gi=class extends ls{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Rn(n);return new Rr(t,this.ngModule)}};function y_(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&cs.SignalBased)!==0};return o&&(i.transform=o),i})}function w_(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function D_(e,n,t){let r=n instanceof Ee?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Lc(t,r):t}function __(e){let n=e.get(Fn,null);if(n===null)throw new _(407,!1);let t=e.get(s_,null),r=e.get(xr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function b_(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Wh(n,t,t==="svg"?zf:t==="math"?Ey:null)}var Rr=class extends gp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=y_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=w_(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Zw(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){H(22);let i=k(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:Kw(this.componentDef.selectors[0]),c=wu(0,null,null,1,0,null,null,null,null,[a],null),u=D_(s,o||this.ngModule,n),l=__(u),d=l.rendererFactory.createRenderer(null,s),h=r?oD(d,r,s.encapsulation,u):b_(s,d),f=Du(null,c,null,512|Kh(s),null,null,l,d,u,null,jh(h,u,!0));f[lt]=h,nu(f);let g=null;try{let m=yp(lt,c,f,"#host",()=>[this.componentDef],!0,0);h&&(Zh(d,h,m),jr(h,f)),bu(c,f,m),Uh(c,m,f),wp(c,m),t!==void 0&&E_(m,this.ngContentSelectors,t),g=Ke(m.index,f),f[we]=g[we],Cu(c,f,null)}catch(m){throw g!==null&&xc(g),xc(f),m}finally{H(23),ru()}return new jc(this.componentType,f)}finally{k(i)}}},jc=class extends o_{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Wf(t[L],lt),this.location=ss(this._tNode,t),this.instance=Ke(this._tNode.index,t)[we],this.hostView=this.changeDetectorRef=new Ar(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=Eu(r,o[L],o,n,t);this.previousInputValues.set(n,t);let s=Ke(r.index,o);xu(s,1)}get injector(){return new Lt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function E_(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ur=(()=>{class e{static __NG_ELEMENT_ID__=C_}return e})();function C_(){let e=Ae();return S_(e,Z())}var I_=Ur,Dp=class extends I_{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new Lt(this._hostTNode,this._hostLView)}get parentInjector(){let n=su(this._hostTNode,this._hostLView);if(hh(n)){let t=$i(n,this._hostLView),r=ji(n),o=t[L].data[r+8];return new Lt(o,t)}else return new Lt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=af(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=tf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,Xd(this._hostTNode,s)),a}createComponent(n,t,r,o,i){let s=n&&!wy(n),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?n:new Rr(Rn(n)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let m=(s?u:this.parentInjector).get(Ee,null);m&&(i=m)}let l=Rn(c.componentType??{}),d=tf(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,o,h,i);return this.insertImpl(f.hostView,a,Xd(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(Cy(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=o[he],u=new Dp(c,c[Be],c[he]);u.detach(u.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return ZD(s,o,i,r),n.attachToViewContainerRef(),xf(sc(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=af(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Pc(this._lContainer,t);r&&(xi(sc(this._lContainer),t),rp(r[L],r))}detach(n){let t=this._adjustIndex(n,-1),r=Pc(this._lContainer,t);return r&&xi(sc(this._lContainer),t)!=null?new Ar(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function af(e){return e[ki]}function sc(e){return e[ki]||(e[ki]=[])}function S_(e,n){let t,r=n[e.index];return pt(r)?t=r:(t=hp(r,n,null,e),n[e.index]=t,_u(n,t)),M_(t,n,e,r),new Dp(t,e,n)}function T_(e,n){let t=e[ce],r=t.createComment(""),o=Qe(n,e),i=t.parentNode(o);return qi(t,i,r,t.nextSibling(o),!1),r}var M_=R_,x_=()=>!1;function A_(e,n,t){return x_(e,n,t)}function R_(e,n,t,r){if(e[$t])return;let o;t.type&8?o=Ze(r):o=T_(n,t),e[$t]=o}var Ln=class{},Nu=class{};var $c=class extends Ln{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gi(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=Nf(n);this._bootstrapComponents=zh(i.bootstrap),this._r3Injector=bh(n,t,[{provide:Ln,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...r],ye(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Uc=class extends Nu{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new $c(this.moduleType,n,[])}};var Zi=class extends Ln{injector;componentFactoryResolver=new Gi(this);instance=null;constructor(n){super();let t=new Sr([...n.providers,{provide:Ln,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],n.parent||Jc(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function fs(e,n,t=null){return new Zi({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var N_=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Of(!1,t.type),o=r.length>0?fs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(R(Ee))})}return e})();function _p(e){return Qi(()=>{let n=bp(e),t=q(w({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ah.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(N_).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ye.Emulated,styles:e.styles||Te,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&gu("NgStandalone"),Ep(t);let r=e.dependencies;return t.directiveDefs=cf(r,!1),t.pipeDefs=cf(r,!0),t.id=L_(t),t})}function O_(e){return Rn(e)||sy(e)}function k_(e){return e!==null}function Vr(e){return Qi(()=>({type:e.type,bootstrap:e.bootstrap||Te,declarations:e.declarations||Te,imports:e.imports||Te,exports:e.exports||Te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function P_(e,n){if(e==null)return jt;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=cs.None,c=null),t[i]=[r,a,c],n[i]=s}return t}function F_(e){if(e==null)return jt;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Wt(e){return Qi(()=>{let n=bp(e);return Ep(n),n})}function bp(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||jt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Te,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:P_(e.inputs,n),outputs:F_(e.outputs),debugInfo:null}}function Ep(e){e.features?.forEach(n=>n(e))}function cf(e,n){if(!e)return null;let t=n?ay:O_;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(k_)}function L_(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function j_(e){return Object.getPrototypeOf(e.prototype).constructor}function $_(e){let n=j_(e.type),t=!0,r=[e];for(;n;){let o;if(Ge(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new _(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);let s=e;s.inputs=ac(e.inputs),s.declaredInputs=ac(e.declaredInputs),s.outputs=ac(e.outputs);let a=o.hostBindings;a&&z_(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&B_(e,c),u&&H_(e,u),U_(e,o),$v(e.outputs,o.outputs),Ge(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===$_&&(t=!1)}}n=Object.getPrototypeOf(n)}V_(r)}function U_(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function V_(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Mr(o.hostAttrs,t=Mr(t,o.hostAttrs))}}function ac(e){return e===jt?{}:e===Te?[]:e}function B_(e,n){let t=e.viewQuery;t?e.viewQuery=(r,o)=>{n(r,o),t(r,o)}:e.viewQuery=n}function H_(e,n){let t=e.contentQueries;t?e.contentQueries=(r,o,i)=>{n(r,o,i),t(r,o,i)}:e.contentQueries=n}function z_(e,n){let t=e.hostBindings;t?e.hostBindings=(r,o)=>{n(r,o),t(r,o)}:e.hostBindings=n}function q_(e,n,t){return e[n]=t}function W_(e,n){return e[n]}function Ht(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function uf(e,n,t,r){let o=Ht(e,n,t);return Ht(e,n+1,r)||o}function G_(e,n,t,r,o,i){let s=uf(e,n,t,r);return uf(e,n+2,o,i)||s}function Z_(e,n,t,r,o,i,s,a,c){let u=n.consts,l=Ru(n,e,4,s||null,a||null);Jf()&&mp(n,t,l,Li(u,c),ep),l.mergedAttrs=Mr(l.mergedAttrs,l.attrs),lh(n,l);let d=l.tView=wu(2,l,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return n.queries!==null&&(n.queries.template(n,l),d.queries=n.queries.embeddedTView(l)),l}function K_(e,n,t,r,o,i,s,a,c,u){let l=t+lt,d=n.firstCreatePass?Z_(l,n,e,r,o,i,s,a,c):n.data[l];Fr(d,!1);let h=Q_(n,e,d,t);ou()&&Tu(n,e,h,d),jr(h,e);let f=hp(h,e,h,d);return e[l]=f,_u(e,f),A_(f,d,e),Xc(d)&&bu(n,e,d),c!=null&&Xh(e,d,u),d}function Y_(e,n,t,r,o,i,s,a){let c=Z(),u=He(),l=Li(u.consts,i);return K_(c,u,e,n,t,r,o,l,s,a),Y_}var Q_=J_;function J_(e,n,t,r){return iu(!0),n[ce].createComment("")}var Cp=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Ip=new C("");var X_=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new Vc})}return e})(),Vc=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function Br(e){return!!e&&typeof e.then=="function"}function Sp(e){return!!e&&typeof e.subscribe=="function"}var eb=new C("");var Tp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=v(eb,{optional:!0})??[];injector=v(St);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=Ve(this.injector,o);if(Br(i))t.push(i);else if(Sp(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ou=new C("");function tb(){Oa(()=>{throw new _(600,!1)})}function nb(e){return e.isBoundToModule}var rb=10;var zt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(mw);afterRenderManager=v(Mw);zonelessEnabled=v(uu);rootEffectScheduler=v(X_);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new re;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=v(Hn).hasPendingTasks.pipe(j(t=>!t));constructor(){v(as,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=v(Ee);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=St.NULL){H(10);let i=t instanceof gp;if(!this._injector.get(Tp).done){let f="";throw new _(405,f)}let a;i?a=t:a=this._injector.get(ls).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=nb(a)?void 0:this._injector.get(Ln),u=r||a.selector,l=a.create(o,[],u,c),d=l.location.nativeElement,h=l.injector.get(Ip,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ci(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),H(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){H(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Lh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new _(101,!1);let t=k(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(t),this.afterTick.next(),H(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<rb;)H(14),this.synchronizeOnce(),H(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)ob(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>rs(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ci(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ou,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ci(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new _(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ci(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function ob(e,n,t,r){if(!t&&!rs(e))return;up(e,n,t&&!r?0:1)}function ku(e,n,t,r){let o=Z(),i=tu();if(Ht(o,i,n)){let s=He(),a=ch();hD(a,o,e,n,t,r)}return ku}function ib(e,n,t,r){return Ht(e,tu(),t)?n+Xi(t)+r:zn}function Di(e,n){return e<<17|n<<2}function qt(e){return e>>17&32767}function sb(e){return(e&2)==2}function ab(e,n){return e&131071|n<<17}function Bc(e){return e|2}function jn(e){return(e&131068)>>2}function cc(e,n){return e&-131069|n<<2}function cb(e){return(e&1)===1}function Hc(e){return e|1}function ub(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=qt(s),c=jn(s);e[r]=t;let u=!1,l;if(Array.isArray(t)){let d=t;l=d[1],(l===null||kr(d,l)>0)&&(u=!0)}else l=t;if(o)if(c!==0){let h=qt(e[a+1]);e[r+1]=Di(h,a),h!==0&&(e[h+1]=cc(e[h+1],r)),e[a+1]=ab(e[a+1],r)}else e[r+1]=Di(a,0),a!==0&&(e[a+1]=cc(e[a+1],r)),a=r;else e[r+1]=Di(c,0),a===0?a=r:e[c+1]=cc(e[c+1],r),c=r;u&&(e[r+1]=Bc(e[r+1])),lf(e,l,r,!0),lf(e,l,r,!1),lb(n,l,e,r,i),s=Di(a,c),i?n.classBindings=s:n.styleBindings=s}function lb(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&kr(i,n)>=0&&(t[r+1]=Hc(t[r+1]))}function lf(e,n,t,r){let o=e[t+1],i=n===null,s=r?qt(o):jn(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];db(c,n)&&(a=!0,e[s+1]=r?Hc(u):Bc(u)),s=r?qt(u):jn(u)}a&&(e[t+1]=r?Bc(o):Hc(o))}function db(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?kr(e,n)>=0:!1}function fb(e,n,t){let r=Z(),o=tu();if(Ht(r,o,n)){let i=He(),s=ch();cD(i,s,r,e,n,r[ce],t,!1)}return fb}function df(e,n,t,r,o){Eu(n,e,t,o?"class":"style",r)}function hb(e,n){return pb(e,n,null,!0),hb}function pb(e,n,t,r){let o=Z(),i=He(),s=Ly(2);if(i.firstUpdatePass&&mb(i,e,s,r),n!==zn&&Ht(o,s,n)){let a=i.data[Bn()];_b(i,a,o,o[ce],e,o[s+1]=bb(n,t),r,s)}}function gb(e,n){return n>=e.expandoStartIndex}function mb(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[Bn()],s=gb(e,t);Eb(i,r)&&n===null&&!s&&(n=!1),n=vb(o,i,n,r),ub(o,i,n,t,s,r)}}function vb(e,n,t,r){let o=Vy(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=uc(null,e,n,t,r),t=Nr(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=uc(o,e,n,t,r),i===null){let c=yb(e,n,r);c!==void 0&&Array.isArray(c)&&(c=uc(null,e,n,c[1],r),c=Nr(c,n.attrs,r),wb(e,n,r,c))}else i=Db(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function yb(e,n,t){let r=t?n.classBindings:n.styleBindings;if(jn(r)!==0)return e[qt(r)]}function wb(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[qt(o)]=r}function Db(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Nr(r,s,t)}return Nr(r,n.attrs,t)}function uc(e,n,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=n[a],r=Nr(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Nr(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),oy(e,s,t?!0:n[++i]))}return e===void 0?null:e}function _b(e,n,t,r,o,i,s,a){if(!(n.type&3))return;let c=e.data,u=c[a+1],l=cb(u)?ff(c,n,t,o,jn(u),s):void 0;if(!Ki(l)){Ki(i)||sb(u)&&(i=ff(c,null,t,o,a,s));let d=qf(Bn(),t);kD(r,s,d,o,i)}}function ff(e,n,t,r,o,i){let s=n===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=t[o+1];h===zn&&(h=d?Te:void 0);let f=d?Ja(h,r):l===r?h:void 0;if(u&&!Ki(f)&&(f=Ja(c,r)),Ki(f)&&(a=f,s))return a;let g=e[o+1];o=s?qt(g):jn(g)}if(n!==null){let c=i?n.residualClasses:n.residualStyles;c!=null&&(a=Ja(c,r))}return a}function Ki(e){return e!==void 0}function bb(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=ye(mu(e)))),e}function Eb(e,n){return(e.flags&(n?8:16))!==0}function Mp(e,n,t,r){let o=Z(),i=He(),s=lt+e,a=o[ce],c=i.firstCreatePass?yp(s,i,o,n,ep,Jf(),t,r):i.data[s],u=Cb(i,o,c,a,n,e);o[s]=u;let l=Xc(c);return Fr(c,!0),Zh(a,u,c),!tp(c)&&ou()&&Tu(i,o,u,c),(Ty()===0||l)&&jr(u,o),My(),l&&(bu(i,o,c),Uh(i,c,o)),r!==null&&Xh(o,c),Mp}function xp(){let e=Ae();eh()?ky():(e=e.parent,Fr(e,!1));let n=e;Ry(n)&&Ny(),xy();let t=He();return t.firstCreatePass&&wp(t,n),n.classesWithoutHost!=null&&Zy(n)&&df(t,n,Z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Ky(n)&&df(t,n,Z(),n.stylesWithoutHost,!1),xp}function Pu(e,n,t,r){return Mp(e,n,t,r),xp(),Pu}var Cb=(e,n,t,r,o,i)=>(iu(!0),Wh(r,o,qy()));function fR(){return Z()}var Yi="en-US";var Ib=Yi;function Sb(e){typeof e=="string"&&(Ib=e.toLowerCase().replace(/_/g,"-"))}function hf(e,n,t){return function r(o){if(o===Function)return t;let i=Un(e)?Ke(e.index,n):n;xu(i,5);let s=n[we],a=pf(n,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=pf(n,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function pf(e,n,t,r){let o=k(null);try{return H(6,n,t),t(r)!==!1}catch(i){return Tb(e,i),!1}finally{H(7,n,t),k(o)}}function Tb(e,n){let t=e[On],r=t?t.get(dt,null):null;r&&r.handleError(n)}function gf(e,n,t,r,o,i){let s=n[t],a=n[L],u=a.data[t].outputs[r],l=s[u],d=a.firstCreatePass?Qf(a):null,h=Yf(n),f=l.subscribe(i),g=h.length;h.push(i,f),d&&d.push(o,e.index,g,-(g+1))}function Fu(e,n,t,r){let o=Z(),i=He(),s=Ae();return xb(i,o,o[ce],s,e,n,r),Fu}function Mb(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=n[Ni],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function xb(e,n,t,r,o,i,s){let a=Xc(r),u=e.firstCreatePass?Qf(e):null,l=Yf(n),d=!0;if(r.type&3||s){let h=Qe(r,n),f=s?s(h):h,g=l.length,m=s?D=>s(Ze(D[r.index])):r.index,y=null;if(!s&&a&&(y=Mb(e,n,o,r.index)),y!==null){let D=y.__ngLastListenerFn__||y;D.__ngNextListenerFn__=i,y.__ngLastListenerFn__=i,d=!1}else{i=hf(r,n,i),Aw(n,f,o,i);let D=t.listen(f,o,i);l.push(i,D),u&&u.push(o,m,g,g+1)}}else i=hf(r,n,i);if(d){let h=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let m=f[g],y=f[g+1];gf(r,n,m,y,o,i)}if(h&&h.length)for(let g of h)gf(r,n,g,o,o,i)}}function hR(e=1){return Hy(e)}function pR(e,n=""){let t=Z(),r=He(),o=e+lt,i=r.firstCreatePass?Ru(r,o,1,n,null):r.data[o],s=Ab(r,t,i,n,e);t[o]=s,ou()&&Tu(r,t,s,i),Fr(i,!1)}var Ab=(e,n,t,r,o)=>(iu(!0),Yw(n[ce],r));function Rb(e){return Ap("",e,""),Rb}function Ap(e,n,t){let r=Z(),o=ib(r,e,n,t);return o!==zn&&Nb(r,Bn(),o),Ap}function Nb(e,n,t){let r=qf(n,e);Qw(e[ce],r,t)}function Ob(e,n,t){let r=He();if(r.firstCreatePass){let o=Ge(e);zc(t,r.data,r.blueprint,o,!0),zc(n,r.data,r.blueprint,o,!1)}}function zc(e,n,t,r,o){if(e=fe(e),Array.isArray(e))for(let i=0;i<e.length;i++)zc(e[i],n,t,r,o);else{let i=He(),s=Z(),a=Ae(),c=Nn(e)?e:fe(e.provide),u=Ff(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Nn(e)||!e.multi){let f=new Bt(u,o,De),g=dc(c,n,o?l:l+h,d);g===-1?(Ec(Ui(a,s),i,c),lc(i,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=dc(c,n,l+h,d),g=dc(c,n,l,l+h),m=f>=0&&t[f],y=g>=0&&t[g];if(o&&!y||!o&&!m){Ec(Ui(a,s),i,c);let D=Fb(o?Pb:kb,t.length,o,r,u);!o&&y&&(t[g].providerFactory=D),lc(i,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(D),s.push(D)}else{let D=Rp(t[o?g:f],u,!o&&r);lc(i,e,f>-1?f:g,D)}!o&&r&&y&&t[g].componentProviders++}}}function lc(e,n,t,r){let o=Nn(n),i=fy(n);if(o||i){let c=(i?fe(n.useClass):n).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){let l=u.indexOf(t);l===-1?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function Rp(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function dc(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function kb(e,n,t,r,o){return qc(this.multi,[])}function Pb(e,n,t,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Vi(r,r[L],this.providerFactory.index,o);s=c.slice(0,a),qc(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],qc(i,s);return s}function qc(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function Fb(e,n,t,r,o){let i=new Bt(e,t,De);return i.multi=[],i.index=n,i.componentProviders=0,Rp(i,o,r&&!t),i}function gR(e,n=[]){return t=>{t.providersResolver=(r,o)=>Ob(r,o?o(e):e,n)}}function mR(e,n,t,r,o,i,s,a){let c=Py()+e,u=Z(),l=G_(u,c,t,r,o,i);return Ht(u,c+4,s)||l?q_(u,c+5,a?n.call(a,t,r,o,i,s):n(t,r,o,i,s)):W_(u,c+5)}var Wc=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Np=(()=>{class e{compileModuleSync(t){return new Uc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=Nf(t),i=zh(o.declarations).reduce((s,a)=>{let c=Rn(a);return c&&s.push(new Rr(c)),s},[]);return new Wc(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Lb=(()=>{class e{zone=v(oe);changeDetectionScheduler=v(xr);applicationRef=v(zt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jb=new C("",{factory:()=>!1});function Op({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new oe(q(w({},kp()),{scheduleInRootZone:t})),[{provide:oe,useFactory:e},{provide:Ir,multi:!0,useFactory:()=>{let r=v(Lb,{optional:!0});return()=>r.initialize()}},{provide:Ir,multi:!0,useFactory:()=>{let r=v($b);return()=>{r.initialize()}}},n===!0?{provide:Ch,useValue:!0}:[],{provide:Ih,useValue:t??Eh}]}function vR(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Op({ngZoneFactory:()=>{let o=kp(e);return o.scheduleInRootZone=t,o.shouldCoalesceEventChangeDetection&&gu("NgZone_CoalesceEvent"),new oe(o)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return Yc([{provide:jb,useValue:!0},{provide:uu,useValue:!1},r])}function kp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var $b=(()=>{class e{subscription=new Q;initialized=!1;zone=v(oe);pendingTasks=v(Hn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ub=(()=>{class e{appRef=v(zt);taskService=v(Hn);ngZone=v(oe);zonelessEnabled=v(uu);tracing=v(as,{optional:!0});disableScheduling=v(Ch,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Q;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Ih,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Mc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?zd:Sh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vb(){return typeof $localize<"u"&&$localize.locale||Yi}var Lu=new C("",{providedIn:"root",factory:()=>v(Lu,A.Optional|A.SkipSelf)||Vb()});var Gc=new C(""),Bb=new C("");function _r(e){return!e.moduleRef}function Hb(e){let n=_r(e)?e.r3Injector:e.moduleRef.injector,t=n.get(oe);return t.run(()=>{_r(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(dt,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),_r(e)){let i=()=>n.destroy(),s=e.platformInjector.get(Gc);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Gc);s.add(i),e.moduleRef.onDestroy(()=>{Ci(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return qb(r,t,()=>{let i=n.get(Tp);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(Lu,Yi);if(Sb(s||Yi),!n.get(Bb,!0))return _r(e)?n.get(zt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(_r(e)){let c=n.get(zt);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return zb(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function zb(e,n){let t=e.injector.get(zt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new _(-403,!1);n.push(e)}function qb(e,n,t){try{let r=t();return Br(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Ii=null;function Wb(e=[],n){return St.create({name:n,providers:[{provide:ts,useValue:"platform"},{provide:Gc,useValue:new Set([()=>Ii=null])},...e]})}function Gb(e=[]){if(Ii)return Ii;let n=Wb(e);return Ii=n,tb(),Zb(n),n}function Zb(e){let n=e.get(hu,null);Ve(e,()=>{n?.forEach(t=>t())})}var hs=(()=>{class e{static __NG_ELEMENT_ID__=Kb}return e})();function Kb(e){return Yb(Ae(),Z(),(e&16)===16)}function Yb(e,n,t){if(Un(e)&&!t){let r=Ke(e.index,n);return new Ar(r,r)}else if(e.type&175){let r=n[We];return new Ar(r,n)}return null}function Pp(e){H(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,o=Gb(r),i=[Op({}),{provide:xr,useExisting:Ub},...t||[]],s=new Zi({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return Hb({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{H(9)}}function ps(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Qb(e){return Fa(e)}function yR(e,n){return Na(e,n?.equal)}var mf=class{[Pe];constructor(n){this[Pe]=n}destroy(){this[Pe].destroy()}};var le=new C("");var jp=null;function mt(){return jp}function ju(e){jp??=e}var Hr=class{},$u=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>v($p),providedIn:"platform"})}return e})();var $p=(()=>{class e extends $u{_location;_history;_doc=v(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mt().getBaseHref(this._doc)}onPopState(t){let r=mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Up(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Fp(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Tt(e){return e&&e[0]!=="?"?`?${e}`:e}var qn=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>v(Bp),providedIn:"root"})}return e})(),Vp=new C(""),Bp=(()=>{class e extends qn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Up(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Tt(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Tt(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Tt(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(R($u),R(Vp,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wn=(()=>{class e{_subject=new re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=eE(Fp(Lp(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Tt(r))}normalize(t){return e.stripTrailingSlash(Xb(this._basePath,Lp(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tt(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Tt;static joinWithSlash=Up;static stripTrailingSlash=Fp;static \u0275fac=function(r){return new(r||e)(R(qn))};static \u0275prov=b({token:e,factory:()=>Jb(),providedIn:"root"})}return e})();function Jb(){return new Wn(R(qn))}function Xb(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Lp(e){return e.replace(/\/index.html$/,"")}function eE(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Uu=/\s+/,Hp=[],tE=(()=>{class e{_ngEl;_renderer;initialClasses=Hp;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Uu):Hp}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Uu):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let o=this.stateMap.get(t);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Uu).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(De(Lr),De(ds))};static \u0275dir=Wt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var nE=(()=>{class e{_viewContainer;_context=new gs;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zp(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zp(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(De(Ur),De(Au))};static \u0275dir=Wt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),gs=class{$implicit=null;ngIf=null};function zp(e,n){if(e&&!e.createEmbeddedView)throw new _(2020,!1)}var qp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Vr({type:e});static \u0275inj=Or({})}return e})();function Vu(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var Bu="browser",Wp="server";function ms(e){return e===Wp}var zr=class{};var ws=new C(""),Wu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new _(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(R(ws),R(oe))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),qr=class{_doc;constructor(n){this._doc=n}manager},vs="ng-app-id";function Gp(e){for(let n of e)n.remove()}function Zp(e,n){let t=n.createElement("style");return t.textContent=e,t}function iE(e,n,t,r){let o=e.head?.querySelectorAll(`style[${vs}="${n}"],link[${vs}="${n}"]`);if(o)for(let i of o)i.removeAttribute(vs),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function zu(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Gu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=ms(i),iE(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,Zp);r?.forEach(o=>this.addUsage(o,this.external,zu))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Gp(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Gp(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,Zp(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,zu(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(vs,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(R(le),R(fu),R(pu,8),R($r))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zu=/%COMP%/g;var Yp="%COMP%",sE=`_nghost-${Yp}`,aE=`_ngcontent-${Yp}`,cE=!0,uE=new C("",{providedIn:"root",factory:()=>cE});function lE(e){return aE.replace(Zu,e)}function dE(e){return sE.replace(Zu,e)}function Qp(e,n){return n.map(t=>t.replace(Zu,e))}var Ku=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,c,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=ms(a),this.defaultRenderer=new Wr(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ye.ShadowDom&&(r=q(w({},r),{encapsulation:Ye.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof ys?o.applyToHost(t):o instanceof Gr&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Ye.Emulated:i=new ys(c,u,r,this.appId,l,s,a,d,h);break;case Ye.ShadowDom:return new qu(c,u,t,r,s,a,this.nonce,d,h);default:i=new Gr(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(R(Wu),R(Gu),R(fu),R(uE),R(le),R($r),R(oe),R(pu),R(as,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Wr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Hu[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Kp(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Kp(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new _(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Hu[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Hu[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(ft.DashCase|ft.Important)?n.style.setProperty(t,r,o&ft.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&ft.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=mt().getGlobalEventTarget(this.doc,n),!n))throw new _(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Kp(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qu=class extends Wr{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,a,c,u){super(n,i,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=Qp(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=zu(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gr=class extends Wr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,c,u){super(n,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?Qp(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ys=class extends Gr{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(n,t,r,i,s,a,c,u,l),this.contentAttr=lE(l),this.hostAttr=dE(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ds=class e extends Hr{supportsDOMEvents=!0;static makeCurrent(){ju(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=fE();return t==null?null:hE(t)}resetBaseElement(){Zr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Vu(document.cookie,n)}},Zr=null;function fE(){return Zr=Zr||document.head.querySelector("base"),Zr?Zr.getAttribute("href"):null}function hE(e){return new URL(e,document.baseURI).pathname}var pE=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Xp=(()=>{class e extends qr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(R(le))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Jp=["alt","control","meta","shift"],gE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},eg=(()=>{class e extends qr{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mt().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Jp.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=gE[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Jp.forEach(s=>{if(s!==o){let a=mE[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(R(le))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function vE(e,n){return Pp(w({rootComponent:e},yE(n)))}function yE(e){return{appProviders:[...EE,...e?.providers??[]],platformProviders:bE}}function wE(){Ds.makeCurrent()}function DE(){return new dt}function _E(){return Ph(document),document}var bE=[{provide:$r,useValue:Bu},{provide:hu,useValue:wE,multi:!0},{provide:le,useFactory:_E}];var EE=[{provide:ts,useValue:"root"},{provide:dt,useFactory:DE},{provide:ws,useClass:Xp,multi:!0,deps:[le]},{provide:ws,useClass:eg,multi:!0,deps:[le]},Ku,Gu,Wu,{provide:Fn,useExisting:Ku},{provide:zr,useClass:pE},[]];var tg=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(R(le))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var x="primary",co=Symbol("RouteTitle"),el=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Kt(e){return new el(e)}function ug(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function IE(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Je(e[t],n[t]))return!1;return!0}function Je(e,n){let t=e?tl(e):void 0,r=n?tl(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!lg(e[o],n[o]))return!1;return!0}function tl(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function lg(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function dg(e){return e.length>0?e[e.length-1]:null}function At(e){return Ga(e)?e:Br(e)?X(Promise.resolve(e)):T(e)}var SE={exact:hg,subset:pg},fg={exact:TE,subset:ME,ignored:()=>!0};function ng(e,n,t){return SE[t.paths](e.root,n.root,t.matrixParams)&&fg[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function TE(e,n){return Je(e,n)}function hg(e,n,t){if(!Gt(e.segments,n.segments)||!Es(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!hg(e.children[r],n.children[r],t))return!1;return!0}function ME(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>lg(e[t],n[t]))}function pg(e,n,t){return gg(e,n,n.segments,t)}function gg(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!Gt(o,t)||n.hasChildren()||!Es(o,t,r))}else if(e.segments.length===t.length){if(!Gt(e.segments,t)||!Es(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!pg(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!Gt(e.segments,o)||!Es(e.segments,o,r)||!e.children[x]?!1:gg(e.children[x],n,i,r)}}function Es(e,n,t){return n.every((r,o)=>fg[t](e[o].parameters,r.parameters))}var et=class{root;queryParams;fragment;_queryParamMap;constructor(n=new $([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kt(this.queryParams),this._queryParamMap}toString(){return RE.serialize(this)}},$=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cs(this)}},Mt=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Kt(this.parameters),this._parameterMap}toString(){return vg(this)}};function xE(e,n){return Gt(e,n)&&e.every((t,r)=>Je(t.parameters,n[r].parameters))}function Gt(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function AE(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===x&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==x&&(t=t.concat(n(o,r)))}),t}var uo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new Yt,providedIn:"root"})}return e})(),Yt=class{parse(n){let t=new rl(n);return new et(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Kr(n.root,!0)}`,r=kE(n.queryParams),o=typeof n.fragment=="string"?`#${NE(n.fragment)}`:"";return`${t}${r}${o}`}},RE=new Yt;function Cs(e){return e.segments.map(n=>vg(n)).join("/")}function Kr(e,n){if(!e.hasChildren())return Cs(e);if(n){let t=e.children[x]?Kr(e.children[x],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==x&&r.push(`${o}:${Kr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=AE(e,(r,o)=>o===x?[Kr(e.children[x],!1)]:[`${o}:${Kr(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[x]!=null?`${Cs(e)}/${t[0]}`:`${Cs(e)}/(${t.join("//")})`}}function mg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _s(e){return mg(e).replace(/%3B/gi,";")}function NE(e){return encodeURI(e)}function nl(e){return mg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Is(e){return decodeURIComponent(e)}function rg(e){return Is(e.replace(/\+/g,"%20"))}function vg(e){return`${nl(e.path)}${OE(e.parameters)}`}function OE(e){return Object.entries(e).map(([n,t])=>`;${nl(n)}=${nl(t)}`).join("")}function kE(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${_s(t)}=${_s(o)}`).join("&"):`${_s(t)}=${_s(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var PE=/^[^\/()?;#]+/;function Yu(e){let n=e.match(PE);return n?n[0]:""}var FE=/^[^\/()?;=#]+/;function LE(e){let n=e.match(FE);return n?n[0]:""}var jE=/^[^=?&#]+/;function $E(e){let n=e.match(jE);return n?n[0]:""}var UE=/^[^&#]+/;function VE(e){let n=e.match(UE);return n?n[0]:""}var rl=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[x]=new $(n,t)),r}parseSegment(){let n=Yu(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(n),new Mt(Is(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=LE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Yu(this.remaining);o&&(r=o,this.capture(r))}n[Is(t)]=Is(r)}parseQueryParam(n){let t=$E(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=VE(this.remaining);s&&(r=s,this.capture(r))}let o=rg(t),i=rg(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yu(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new _(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=x);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[x]:new $([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new _(4011,!1)}};function yg(e){return e.segments.length>0?new $([],{[x]:e}):e}function wg(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=wg(o);if(r===x&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new $(e.segments,n);return BE(t)}function BE(e){if(e.numberOfChildren===1&&e.children[x]){let n=e.children[x];return new $(e.segments.concat(n.segments),n.children)}return e}function xt(e){return e instanceof et}function Dg(e,n,t=null,r=null){let o=_g(e);return bg(o,n,t,r)}function _g(e){let n;function t(i){let s={};for(let c of i.children){let u=t(c);s[c.outlet]=u}let a=new $(i.url,s);return i===e&&(n=a),a}let r=t(e.root),o=yg(r);return n??o}function bg(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Qu(o,o,o,t,r);let i=HE(n);if(i.toRoot())return Qu(o,o,new $([],{}),t,r);let s=zE(i,o,e),a=s.processChildren?Qr(s.segmentGroup,s.index,i.commands):Cg(s.segmentGroup,s.index,i.commands);return Qu(o,s.segmentGroup,a,t,r)}function Ts(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Xr(e){return typeof e=="object"&&e!=null&&e.outlets}function Qu(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===n?s=t:s=Eg(e,n,t);let a=yg(wg(s));return new et(a,i,o)}function Eg(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=Eg(i,n,t)}),new $(e.segments,r)}var Ms=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ts(r[0]))throw new _(4003,!1);let o=r.find(Xr);if(o&&o!==dg(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HE(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ms(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Ms(t,n,r)}var Kn=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function zE(e,n,t){if(e.isAbsolute)return new Kn(n,!0,0);if(!t)return new Kn(n,!1,NaN);if(t.parent===null)return new Kn(t,!0,0);let r=Ts(e.commands[0])?0:1,o=t.segments.length-1+r;return qE(t,o,e.numberOfDoubleDots)}function qE(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new _(4005,!1);o=r.segments.length}return new Kn(r,!1,o-i)}function WE(e){return Xr(e[0])?e[0].outlets:{[x]:e}}function Cg(e,n,t){if(e??=new $([],{}),e.segments.length===0&&e.hasChildren())return Qr(e,n,t);let r=GE(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new $(e.segments.slice(0,r.pathIndex),{});return i.children[x]=new $(e.segments.slice(r.pathIndex),e.children),Qr(i,0,o)}else return r.match&&o.length===0?new $(e.segments,{}):r.match&&!e.hasChildren()?ol(e,n,t):r.match?Qr(e,0,o):ol(e,n,t)}function Qr(e,n,t){if(t.length===0)return new $(e.segments,{});{let r=WE(t),o={};if(Object.keys(r).some(i=>i!==x)&&e.children[x]&&e.numberOfChildren===1&&e.children[x].segments.length===0){let i=Qr(e.children[x],n,t);return new $(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Cg(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new $(e.segments,o)}}function GE(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],a=t[r];if(Xr(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ig(c,u,s))return i;r+=2}else{if(!ig(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function ol(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Xr(i)){let c=ZE(i.outlets);return new $(r,c)}if(o===0&&Ts(t[0])){let c=e.segments[n];r.push(new Mt(c.path,og(t[0]))),o++;continue}let s=Xr(i)?i.outlets[x]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Ts(a)?(r.push(new Mt(s,og(a))),o+=2):(r.push(new Mt(s,{})),o++)}return new $(r,{})}function ZE(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=ol(new $([],{}),0,r))}),n}function og(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function ig(e,n,t){return e==t.path&&Je(n,t.parameters)}var Ss="imperative",ie=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ie||{}),Ie=class{id;url;constructor(n,t){this.id=n,this.url=t}},Qt=class extends Ie{type=ie.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tt=class extends Ie{urlAfterRedirects;type=ie.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_e=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(_e||{}),eo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(eo||{}),Xe=class extends Ie{reason;code;type=ie.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vt=class extends Ie{reason;code;type=ie.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},Qn=class extends Ie{error;target;type=ie.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},to=class extends Ie{urlAfterRedirects;state;type=ie.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xs=class extends Ie{urlAfterRedirects;state;type=ie.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},As=class extends Ie{urlAfterRedirects;state;shouldActivate;type=ie.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rs=class extends Ie{urlAfterRedirects;state;type=ie.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ns=class extends Ie{urlAfterRedirects;state;type=ie.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Os=class{route;type=ie.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ks=class{route;type=ie.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ps=class{snapshot;type=ie.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fs=class{snapshot;type=ie.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ls=class{snapshot;type=ie.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},js=class{snapshot;type=ie.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var no=class{},Jn=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function KE(e,n){return e.providers&&!e._injector&&(e._injector=fs(e.providers,n,`Route: ${e.path}`)),e._injector??n}function ze(e){return e.outlet||x}function YE(e,n){let t=e.filter(r=>ze(r)===n);return t.push(...e.filter(r=>ze(r)!==n)),t}function lo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $s=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return lo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new tr(this.rootInjector)}},tr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $s(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(R(Ee))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Us=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=il(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=il(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=sl(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return sl(n,this._root).map(t=>t.value)}};function il(e,n){if(e===n.value)return n;for(let t of n.children){let r=il(e,t);if(r)return r}return null}function sl(e,n){if(e===n.value)return[n];for(let t of n.children){let r=sl(e,t);if(r.length)return r.unshift(n),r}return[]}var Ce=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Zn(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ro=class extends Us{snapshot;constructor(n,t){super(n),this.snapshot=t,pl(this,n)}toString(){return this.snapshot.toString()}};function Ig(e){let n=QE(e),t=new se([new Mt("",{})]),r=new se({}),o=new se({}),i=new se({}),s=new se(""),a=new yt(t,r,i,s,o,x,e,n.root);return a.snapshot=n.root,new ro(new Ce(a,[]),n)}function QE(e){let n={},t={},r={},o="",i=new Zt([],n,r,o,t,x,e,null,{});return new oo("",new Ce(i,[]))}var yt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(u=>u[co]))??T(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(n=>Kt(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(n=>Kt(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vs(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:w(w({},n.params),e.params),data:w(w({},n.data),e.data),resolve:w(w(w(w({},e.data),n.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&Tg(o)&&(r.resolve[co]=o.title),r}var Zt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[co]}constructor(n,t,r,o,i,s,a,c,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kt(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},oo=class extends Us{url;constructor(n,t){super(t),this.url=n,pl(this,t)}toString(){return Sg(this._root)}};function pl(e,n){n.value._routerState=e,n.children.forEach(t=>pl(e,t))}function Sg(e){let n=e.children.length>0?` { ${e.children.map(Sg).join(", ")} } `:"";return`${e.value}${n}`}function Ju(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Je(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Je(n.params,t.params)||e.paramsSubject.next(t.params),IE(n.url,t.url)||e.urlSubject.next(t.url),Je(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function al(e,n){let t=Je(e.params,n.params)&&xE(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||al(e.parent,n.parent))}function Tg(e){return typeof e.title=="string"||e.title===null}var Mg=new C(""),gl=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=x;activateEvents=new ve;deactivateEvents=new ve;attachEvents=new ve;detachEvents=new ve;routerOutletData=Mh(void 0);parentContexts=v(tr);location=v(Ur);changeDetector=v(hs);inputBinder=v(qs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cl(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Wt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pr]})}return e})(),cl=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===yt?this.route:n===tr?this.childContexts:n===Mg?this.outletData:this.parent.get(n,t)}},qs=new C("");var ml=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=_p({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Pu(0,"router-outlet")},dependencies:[gl],encapsulation:2})}return e})();function vl(e){let n=e.children&&e.children.map(vl),t=n?q(w({},e),{children:n}):w({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==x&&(t.component=ml),t}function JE(e,n,t){let r=io(e,n._root,t?t._root:void 0);return new ro(r,n)}function io(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=XE(e,n,t);return new Ce(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>io(e,a)),s}}let r=eC(n.value),o=n.children.map(i=>io(e,i));return new Ce(r,o)}}function XE(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return io(e,r,o);return io(e,r)})}function eC(e){return new yt(new se(e.url),new se(e.params),new se(e.queryParams),new se(e.fragment),new se(e.data),e.outlet,e.component,e)}var Xn=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},xg="ngNavigationCancelingError";function Bs(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=xt(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=Ag(!1,_e.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function Ag(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[xg]=!0,t.cancellationCode=n,t}function tC(e){return Rg(e)&&xt(e.url)}function Rg(e){return!!e&&e[xg]}var nC=(e,n,t,r)=>j(o=>(new ul(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),ul=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Ju(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=Zn(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Zn(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Zn(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=Zn(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new js(i.value.snapshot))}),n.children.length&&this.forwardEvent(new Fs(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(Ju(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ju(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Hs=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Yn=class{component;route;constructor(n,t){this.component=n,this.route=t}};function rC(e,n,t){let r=e._root,o=n?n._root:null;return Yr(r,o,t,[r.value])}function oC(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function nr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!bf(e)?e:n.get(e):r}function Yr(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Zn(n);return e.children.forEach(s=>{iC(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Jr(a,t.getContext(s),o)),o}function iC(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=sC(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Hs(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Yr(e,n,a?a.children:null,r,o):Yr(e,n,t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Yn(a.outlet.component,s))}else s&&Jr(n,a,o),o.canActivateChecks.push(new Hs(r)),i.component?Yr(e,null,a?a.children:null,r,o):Yr(e,null,t,r,o);return o}function sC(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Gt(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Gt(e.url,n.url)||!Je(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!al(e,n)||!Je(e.queryParams,n.queryParams);case"paramsChange":default:return!al(e,n)}}function Jr(e,n,t){let r=Zn(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?Jr(s,n.children.getContext(i),t):Jr(s,null,t):Jr(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Yn(n.outlet.component,o)):t.canDeactivateChecks.push(new Yn(null,o)):t.canDeactivateChecks.push(new Yn(null,o))}function fo(e){return typeof e=="function"}function aC(e){return typeof e=="boolean"}function cC(e){return e&&fo(e.canLoad)}function uC(e){return e&&fo(e.canActivate)}function lC(e){return e&&fo(e.canActivateChild)}function dC(e){return e&&fo(e.canDeactivate)}function fC(e){return e&&fo(e.canMatch)}function Ng(e){return e instanceof st||e?.name==="EmptyError"}var bs=Symbol("INITIAL_VALUE");function er(){return je(e=>mi(e.map(n=>n.pipe(at(1),Ya(bs)))).pipe(j(n=>{for(let t of n)if(t!==!0){if(t===bs)return bs;if(t===!1||hC(t))return t}return!0}),Le(n=>n!==bs),at(1)))}function hC(e){return xt(e)||e instanceof Xn}function pC(e,n){return te(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?T(q(w({},t),{guardsResult:!0})):gC(s,r,o,e).pipe(te(a=>a&&aC(a)?mC(r,i,e,n):T(a)),j(a=>q(w({},t),{guardsResult:a})))})}function gC(e,n,t,r){return X(e).pipe(te(o=>_C(o.component,o.route,t,n,r)),ct(o=>o!==!0,!0))}function mC(e,n,t,r){return X(n).pipe(Cn(o=>En(yC(o.route.parent,r),vC(o.route,r),DC(e,o.path,t),wC(e,o.route,t))),ct(o=>o!==!0,!0))}function vC(e,n){return e!==null&&n&&n(new Ls(e)),T(!0)}function yC(e,n){return e!==null&&n&&n(new Ps(e)),T(!0)}function wC(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let o=r.map(i=>vi(()=>{let s=lo(n)??t,a=nr(i,s),c=uC(a)?a.canActivate(n,e):Ve(s,()=>a(n,e));return At(c).pipe(ct())}));return T(o).pipe(er())}function DC(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>oC(s)).filter(s=>s!==null).map(s=>vi(()=>{let a=s.guards.map(c=>{let u=lo(s.node)??t,l=nr(c,u),d=lC(l)?l.canActivateChild(r,e):Ve(u,()=>l(r,e));return At(d).pipe(ct())});return T(a).pipe(er())}));return T(i).pipe(er())}function _C(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return T(!0);let s=i.map(a=>{let c=lo(n)??o,u=nr(a,c),l=dC(u)?u.canDeactivate(e,n,t,r):Ve(c,()=>u(e,n,t,r));return At(l).pipe(ct())});return T(s).pipe(er())}function bC(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return T(!0);let i=o.map(s=>{let a=nr(s,e),c=cC(a)?a.canLoad(n,t):Ve(e,()=>a(n,t));return At(c)});return T(i).pipe(er(),Og(r))}function Og(e){return Ha(ae(n=>{if(typeof n!="boolean")throw Bs(e,n)}),j(n=>n===!0))}function EC(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return T(!0);let i=o.map(s=>{let a=nr(s,e),c=fC(a)?a.canMatch(n,t):Ve(e,()=>a(n,t));return At(c)});return T(i).pipe(er(),Og(r))}var so=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ao=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Gn(e){return bn(new so(e))}function CC(e){return bn(new _(4e3,!1))}function IC(e){return bn(Ag(!1,_e.GuardRejected))}var ll=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return T(r);if(o.numberOfChildren>1||!o.children[x])return CC(`${n.redirectTo}`);o=o.children[x]}}applyRedirectCommands(n,t,r,o,i){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:l,url:d,outlet:h,params:f,data:g,title:m}=o,y=Ve(i,()=>a({params:f,data:g,queryParams:c,fragment:u,routeConfig:l,url:d,outlet:h,title:m}));if(y instanceof et)throw new ao(y);t=y}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new ao(s);return s}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new et(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new $(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new _(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}},dl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SC(e,n,t,r,o){let i=kg(e,n,t);return i.matched?(r=KE(n,r),EC(r,n,t,o).pipe(j(s=>s===!0?i:w({},dl)))):T(i)}function kg(e,n,t){if(n.path==="**")return TC(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?w({},dl):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||ug)(t,e,n);if(!o)return w({},dl);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function TC(e){return{matched:!0,parameters:e.length>0?dg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function sg(e,n,t,r){return t.length>0&&AC(e,t,r)?{segmentGroup:new $(n,xC(r,new $(t,e.children))),slicedSegments:[]}:t.length===0&&RC(e,t,r)?{segmentGroup:new $(e.segments,MC(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new $(e.segments,e.children),slicedSegments:t}}function MC(e,n,t,r){let o={};for(let i of t)if(Ws(e,n,i)&&!r[ze(i)]){let s=new $([],{});o[ze(i)]=s}return w(w({},r),o)}function xC(e,n){let t={};t[x]=n;for(let r of e)if(r.path===""&&ze(r)!==x){let o=new $([],{});t[ze(r)]=o}return t}function AC(e,n,t){return t.some(r=>Ws(e,n,r)&&ze(r)!==x)}function RC(e,n,t){return t.some(r=>Ws(e,n,r))}function Ws(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function NC(e,n,t){return n.length===0&&!e.children[t]}var fl=class{};function OC(e,n,t,r,o,i,s="emptyOnly"){return new hl(e,n,t,r,o,s,i).recognize()}var kC=31,hl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ll(this.urlSerializer,this.urlTree)}noMatchError(n){return new _(4002,`'${n.segmentGroup}'`)}recognize(){let n=sg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(j(({children:t,rootSnapshot:r})=>{let o=new Ce(r,t),i=new oo("",o),s=Dg(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new Zt([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),x,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,x,t).pipe(j(r=>({children:r,rootSnapshot:t})),bt(r=>{if(r instanceof ao)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof so?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(j(s=>s instanceof Ce?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return X(i).pipe(Cn(s=>{let a=r.children[s],c=YE(t,s);return this.processSegmentGroup(n,c,a,s,o)}),Ka((s,a)=>(s.push(...a),s)),Et(null),Za(),te(s=>{if(s===null)return Gn(r);let a=Pg(s);return PC(a),T(a)}))}processSegment(n,t,r,o,i,s,a){return X(t).pipe(Cn(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,o,i,s,a).pipe(bt(u=>{if(u instanceof so)return T(null);throw u}))),ct(c=>!!c),bt(c=>{if(Ng(c))return NC(r,o,i)?T(new fl):Gn(r);throw c}))}processSegmentAgainstRoute(n,t,r,o,i,s,a,c){return ze(r)!==s&&(s===x||!Ws(o,i,r))?Gn(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,c):Gn(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=kg(t,o,i);if(!c)return Gn(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kC&&(this.allowRedirects=!1));let f=new Zt(i,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,ag(o),ze(o),o.component??o._loadedComponent??null,o,cg(o)),g=Vs(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(o,m).pipe(te(y=>this.processSegment(n,r,t,y.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let a=SC(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(je(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(je(({routes:u})=>{let l=r._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new Zt(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,ag(r),ze(r),r.component??r._loadedComponent??null,r,cg(r)),m=Vs(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:y,slicedSegments:D}=sg(t,h,f,u);if(D.length===0&&y.hasChildren())return this.processChildren(l,u,y,g).pipe(j(K=>new Ce(g,K)));if(u.length===0&&D.length===0)return T(new Ce(g,[]));let B=ze(r)===i;return this.processSegment(l,u,y,D,B?x:i,!0,g).pipe(j(K=>new Ce(g,K instanceof Ce?[K]:[])))}))):Gn(t)))}getChildConfig(n,t,r){return t.children?T({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?T({routes:t._loadedRoutes,injector:t._loadedInjector}):bC(n,t,r,this.urlSerializer).pipe(te(o=>o?this.configLoader.loadChildren(n,t).pipe(ae(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):IC(t))):T({routes:[],injector:n})}};function PC(e){e.sort((n,t)=>n.value.outlet===x?-1:t.value.outlet===x?1:n.value.outlet.localeCompare(t.value.outlet))}function FC(e){let n=e.value.routeConfig;return n&&n.path===""}function Pg(e){let n=[],t=new Set;for(let r of e){if(!FC(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=Pg(r.children);n.push(new Ce(r.value,o))}return n.filter(r=>!t.has(r))}function ag(e){return e.data||{}}function cg(e){return e.resolve||{}}function LC(e,n,t,r,o,i){return te(s=>OC(e,n,t,r,s.extractedUrl,o,i).pipe(j(({state:a,tree:c})=>q(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function jC(e,n){return te(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return T(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of Fg(c))s.add(u);let a=0;return X(s).pipe(Cn(c=>i.has(c)?$C(c,r,e,n):(c.data=Vs(c,c.parent,e).resolve,T(void 0))),ae(()=>a++),In(1),te(c=>a===s.size?T(t):ge))})}function Fg(e){let n=e.children.map(t=>Fg(t)).flat();return[e,...n]}function $C(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!Tg(o)&&(i[co]=o.title),UC(i,e,n,r).pipe(j(s=>(e._resolvedData=s,e.data=Vs(e,e.parent,t).resolve,null)))}function UC(e,n,t,r){let o=tl(e);if(o.length===0)return T({});let i={};return X(o).pipe(te(s=>VC(e[s],n,t,r).pipe(ct(),ae(a=>{if(a instanceof Xn)throw Bs(new Yt,a);i[s]=a}))),In(1),j(()=>i),bt(s=>Ng(s)?ge:bn(s)))}function VC(e,n,t,r){let o=lo(n)??r,i=nr(e,o),s=i.resolve?i.resolve(n,t):Ve(o,()=>i(n,t));return At(s)}function Xu(e){return je(n=>{let t=e(n);return t?X(t).pipe(j(()=>n)):T(n)})}var yl=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===x);return r}getResolvedTitleForRoute(t){return t.data[co]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>v(Lg),providedIn:"root"})}return e})(),Lg=(()=>{class e extends yl{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(R(tg))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ho=new C("",{providedIn:"root",factory:()=>({})}),po=new C(""),jg=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(Np);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return T(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=At(t.loadComponent()).pipe(j(Ug),ae(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Dr(()=>{this.componentLoaders.delete(t)})),o=new _n(r,()=>new re).pipe(Dn());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=$g(r,this.compiler,t,this.onLoadEndListener).pipe(Dr(()=>{this.childrenLoaders.delete(r)})),s=new _n(i,()=>new re).pipe(Dn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $g(e,n,t,r){return At(e.loadChildren()).pipe(j(Ug),te(o=>o instanceof Nu||Array.isArray(o)?T(o):X(n.compileModuleAsync(o))),j(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(po,[],{optional:!0,self:!0}).flat()),{routes:s.map(vl),injector:i}}))}function BC(e){return e&&typeof e=="object"&&"default"in e}function Ug(e){return BC(e)?e.default:e}var Gs=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>v(HC),providedIn:"root"})}return e})(),HC=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vg=new C("");var Bg=new C(""),Hg=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new re;transitionAbortSubject=new re;configLoader=v(jg);environmentInjector=v(Ee);destroyRef=v(is);urlSerializer=v(uo);rootContexts=v(tr);location=v(Wn);inputBindingEnabled=v(qs,{optional:!0})!==null;titleStrategy=v(yl);options=v(ho,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(Gs);createViewTransition=v(Vg,{optional:!0});navigationErrorHandler=v(Bg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new Os(o)),r=o=>this.events.next(new ks(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(q(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new se(null),this.transitions.pipe(Le(r=>r!==null),je(r=>{let o=!1,i=!1;return T(r).pipe(je(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_e.SupersededByNewNavigation),ge;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?q(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new vt(s.id,this.urlSerializer.serialize(s.rawUrl),u,eo.IgnoredSameUrlNavigation)),s.resolve(!1),ge}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return T(s).pipe(je(u=>(this.events.next(new Qt(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ge:Promise.resolve(u))),LC(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ae(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=q(w({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new to(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:l,source:d,restoredState:h,extras:f}=s,g=new Qt(u,this.urlSerializer.serialize(l),d,h);this.events.next(g);let m=Ig(this.rootComponentType).snapshot;return this.currentTransition=r=q(w({},s),{targetSnapshot:m,urlAfterRedirects:l,extras:q(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,T(r)}else{let u="";return this.events.next(new vt(s.id,this.urlSerializer.serialize(s.extractedUrl),u,eo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ge}}),ae(s=>{let a=new xs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),j(s=>(this.currentTransition=r=q(w({},s),{guards:rC(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),pC(this.environmentInjector,s=>this.events.next(s)),ae(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Bs(this.urlSerializer,s.guardsResult);let a=new As(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Le(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",_e.GuardRejected),!1)),Xu(s=>{if(s.guards.canActivateChecks.length!==0)return T(s).pipe(ae(a=>{let c=new Rs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),je(a=>{let c=!1;return T(a).pipe(jC(this.paramsInheritanceStrategy,this.environmentInjector),ae({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",_e.NoDataFromResolver)}}))}),ae(a=>{let c=new Ns(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Xu(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(ae(l=>{c.component=l}),j(()=>{})));for(let l of c.children)u.push(...a(l));return u};return mi(a(s.targetSnapshot.root)).pipe(Et(null),at(1))}),Xu(()=>this.afterPreactivation()),je(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?X(c).pipe(j(()=>r)):T(r)}),j(s=>{let a=JE(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ae(()=>{this.events.next(new no)}),nC(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),at(1),ae({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Qa(this.transitionAbortSubject.pipe(ae(s=>{throw s}))),Dr(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",_e.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),bt(s=>{if(this.destroyed)return r.resolve(!1),ge;if(i=!0,Rg(s))this.events.next(new Xe(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),tC(s)?this.events.next(new Jn(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ve(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Xn){let{message:u,cancellationCode:l}=Bs(this.urlSerializer,c);this.events.next(new Xe(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Jn(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ge}))}))}cancelNavigationTransition(t,r,o){let i=new Xe(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zC(e){return e!==Ss}var zg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>v(qC),providedIn:"root"})}return e})(),zs=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},qC=(()=>{class e extends zs{static \u0275fac=(()=>{let t;return function(o){return(t||(t=au(e)))(o||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qg=(()=>{class e{urlSerializer=v(uo);options=v(ho,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(Wn);urlHandlingStrategy=v(Gs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new et;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof et?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=Ig(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>v(WC),providedIn:"root"})}return e})(),WC=(()=>{class e extends qg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Qt?this.updateStateMemento():t instanceof vt?this.commitTransition(r):t instanceof to?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof no?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Xe&&(t.code===_e.GuardRejected||t.code===_e.NoDataFromResolver)?this.restoreHistory(r):t instanceof Qn?this.restoreHistory(r,!0):t instanceof tt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=au(e)))(o||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wl(e,n){e.events.pipe(Le(t=>t instanceof tt||t instanceof Xe||t instanceof Qn||t instanceof vt),j(t=>t instanceof tt||t instanceof vt?0:(t instanceof Xe?t.code===_e.Redirect||t.code===_e.SupersededByNewNavigation:!1)?2:1),Le(t=>t!==2),at(1)).subscribe(()=>{n()})}var GC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},go=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Cp);stateManager=v(qg);options=v(ho,{optional:!0})||{};pendingTasks=v(Hn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Hg);urlSerializer=v(uo);location=v(Wn);urlHandlingStrategy=v(Gs);_events=new re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(zg);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(po,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(qs,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Q;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Xe&&r.code!==_e.Redirect&&r.code!==_e.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tt)this.navigated=!0;else if(r instanceof Jn){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zC(o.source)},s);this.scheduleNavigation(a,Ss,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}YC(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ss,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=_g(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return bg(d,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=xt(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ss,null,r)}navigate(t,r={skipLocationChange:!1}){return KC(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=w({},GC):r===!1?o=w({},ZC):o=r,xt(t))return ng(this.currentUrlTree,t,o);let i=this.parseUrl(t);return ng(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return wl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KC(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new _(4008,!1)}function YC(e){return!(e instanceof no)&&!(e instanceof Jn)}var Wg=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new re;constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof tt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xt(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Bh(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:xt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(De(go),De(yt),cu("tabindex"),De(ds),De(Lr),De(qn))};static \u0275dir=Wt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Fu("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ku("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ps],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ps],replaceUrl:[2,"replaceUrl","replaceUrl",ps],routerLink:"routerLink"},features:[Pr]})}return e})();var JC=new C("");function XC(e,...n){return Yc([{provide:po,multi:!0,useValue:e},[],{provide:yt,useFactory:eI,deps:[go]},{provide:Ou,multi:!0,useFactory:tI},n.map(t=>t.\u0275providers)])}function eI(e){return e.routerState.root}function tI(){let e=v(St);return n=>{let t=e.get(zt);if(n!==t.components[0])return;let r=e.get(go),o=e.get(nI);e.get(rI)===1&&r.initialNavigation(),e.get(oI,null,A.Optional)?.setUpPreloading(),e.get(JC,null,A.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var nI=new C("",{factory:()=>new re}),rI=new C("",{providedIn:"root",factory:()=>1});var oI=new C("");var Gg=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var mo=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Zs=class extends mo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},vo=class extends mo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},yo=class extends mo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Dl=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Dl||{});var iI=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},wo=class{constructor(n,{headers:t={},customFetch:r,region:o=Dl.Any}={}){this.url=n,this.headers=t,this.region=o,this.fetch=Gg(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return iI(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=t,a={},{region:c}=t;c||(c=this.region);let u=new URL(`${this.url}/${n}`);c&&c!=="any"&&(a["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let l;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:l}).catch(m=>{throw new Zs(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new vo(d);if(!d.ok)throw new yo(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(o){return{data:null,error:o,response:o instanceof yo||o instanceof vo?o.context:void 0}}})}};var om=rv(rm(),1),{PostgrestClient:im,PostgrestQueryBuilder:sP,PostgrestFilterBuilder:aP,PostgrestTransformBuilder:cP,PostgrestBuilder:uP,PostgrestError:gI}=om.default;var Nl=class{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},Ol=Nl;var sm="2.15.5";var am=`realtime-js/${sm}`,cm="1.0.0";var So=1e4,um=1e3,lm=100,To=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(To||{}),ne=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ne||{}),Re=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Re||{}),kl=function(e){return e.websocket="websocket",e}(kl||{}),Jt=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Jt||{});var Ys=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+o));s=s+o;let c=r.decode(n.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var or=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var W=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(W||{}),Fl=(e,n,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=mI(s,e,n,o),i),{})},mI=(e,n,t,r)=>{let o=n.find(a=>a.name===e),i=o?.type,s=t[e];return i&&!r.includes(i)?dm(i,s):Pl(s)},dm=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return DI(n,t)}switch(e){case W.bool:return vI(n);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return yI(n);case W.json:case W.jsonb:return wI(n);case W.timestamp:return _I(n);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Pl(n);default:return Pl(n)}},Pl=e=>e,vI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yI=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},wI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},DI=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>dm(n,a))}return e},_I=e=>typeof e=="string"?e.replace(" ","T"):e,Qs=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};var ir=class{constructor(n,t,r={},o=So){this.channel=n,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Mo=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,o){let i=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=l.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[u]=g),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(n,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=n[a])!==null&&u!==void 0?u:[];if(n[a]=this.cloneDeep(c),l.length>0){let d=n[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=n[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),n[a]=u,o(a,u,c),u.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let o=n[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xo=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(xo||{}),wt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(wt||{});var Ao=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ir(this,Re.join,this.params,this.timeout),this.rejoinTimer=new or(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Re.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Mo(this),this.broadcastEndpointURL=Qs(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>n?.(wt.CHANNEL_ERROR,f)),this._onClose(()=>n?.(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",g=>p(this,[g],function*({postgres_changes:f}){var m;if(this.socket.setAuth(),f===void 0){n?.(wt.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,D=(m=y?.length)!==null&&m!==void 0?m:0,B=[];for(let K=0;K<D;K++){let E=y[K],{filter:{event:z,schema:hn,table:G,filter:de}}=E,pn=f&&f[K];if(pn&&pn.event===z&&pn.schema===hn&&pn.table===G&&pn.filter===de)B.push(Object.assign(Object.assign({},E),{id:pn.id}));else{this.unsubscribe(),this.state=ne.errored,n?.(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,n&&n(wt.SUBSCRIBED);return}})).receive("error",f=>{this.state=ne.errored,n?.(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{n?.(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this.state===ne.joined&&n===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,t,r)}send(r){return p(this,arguments,function*(n,t={}){var o,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=l.body)===null||i===void 0?void 0:i.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;let l=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ne.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Re.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ir(this,Re.leave,{},n),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}_fetchWithTimeout(n,t,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ir(this,n,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>lm){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var o,i;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Re;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,y,D,B,K;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,z=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((m=t.ids)===null||m===void 0?void 0:m.includes(E))&&(z==="*"||z?.toLocaleLowerCase()===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let E=(B=(D=f?.filter)===null||D===void 0?void 0:D.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return E==="*"||E===((K=t?.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:m,table:y,commit_timestamp:D,type:B,errors:K}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:D,eventType:B,new:{},old:{},errors:K}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let o=n.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Re.close,{},n)}_onError(n){this._on(Re.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Fl(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Fl(n.columns,n.old_record)),t}};var Ll=()=>{},Js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EI=[1e3,2e3,5e3,1e4],CI=1e4,II=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ro=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=So,this.transport=null,this.heartbeatIntervalMs=Js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ll,this.ref=0,this.reconnectTimer=null,this.logger=Ll,this.conn=null,this.sendBuffer=[],this.serializer=new Ys,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-BX7VDEVO.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${kl.websocket}`,this.httpEndpoint=Qs(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ol.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cm}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},n?this.conn.close(n,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){return p(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return Jt.Connecting;case To.open:return Jt.Open;case To.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ao(`realtime:${n}`,t,this);return this.channels.push(i),i}}push(n){let{topic:t,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return p(this,null,function*(){this._authPromise=this._performAuth(n);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(um,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Js.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=t,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Re.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${n}${r}${o}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([II],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(n=null){return p(this,null,function*(){let t;n?t=n:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let o={access_token:t,version:am};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Re.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(n="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new or(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Js.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,o,i,s,a,c,u,l;if(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:So,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Js.HEARTBEAT_INTERVAL,this.worker=(i=n?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:Ll,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:d=>EI[d-1]||CI,this.encode=(u=n?.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(l=n?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};var sr=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Y(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xs=class extends sr{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xt=class extends sr{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var SI=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},ta=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},fm=()=>SI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),ea=e=>{if(Array.isArray(e))return e.map(t=>ea(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=ea(r)}),n},hm=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var en=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TI=(e,n,t)=>en(void 0,void 0,void 0,function*(){let r=yield fm();e instanceof r&&!t?.noResolveJson?e.json().then(o=>{let i=e.status||500,s=o?.statusCode||i+"";n(new Xs(jl(o),i,s))}).catch(o=>{n(new Xt(jl(o),o))}):n(new Xt(jl(e),e))}),MI=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"||!r?o:(hm(r)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(r)):o.body=r,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),t))};function No(e,n,t,r,o,i){return en(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,MI(n,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>TI(c,a,r))})})}function ar(e,n,t,r){return en(this,void 0,void 0,function*(){return No(e,"GET",n,t,r)})}function Ne(e,n,t,r,o){return en(this,void 0,void 0,function*(){return No(e,"POST",n,r,o,t)})}function Oo(e,n,t,r,o){return en(this,void 0,void 0,function*(){return No(e,"PUT",n,r,o,t)})}function pm(e,n,t,r){return en(this,void 0,void 0,function*(){return No(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function na(e,n,t,r,o){return en(this,void 0,void 0,function*(){return No(e,"DELETE",n,r,o,t)})}var pe=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},xI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ra=class{constructor(n,t={},r,o){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=ta(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,o){return pe(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},gm),o),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=yield(n=="PUT"?Oo:Ne)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Y(i))return{data:null,error:i};throw i}})}upload(n,t,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,o){return pe(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,u=Object.assign({upsert:gm.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield Oo(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Y(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield Ne(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new sr("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}update(n,t,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return pe(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Y(o))return{data:null,error:o};throw o}})}copy(n,t,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ne(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Y(o))return{data:null,error:o};throw o}})}createSignedUrl(n,t,r){return pe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield Ne(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Y(o))return{data:null,error:o};throw o}})}createSignedUrls(n,t,r){return pe(this,void 0,void 0,function*(){try{let o=yield Ne(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Y(o))return{data:null,error:o};throw o}})}download(n,t){return pe(this,void 0,void 0,function*(){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield ar(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Y(a))return{data:null,error:a};throw a}})}info(n){return pe(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield ar(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ea(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}exists(n){return pe(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield pm(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r)&&r instanceof Xt){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return pe(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}list(n,t,r){return pe(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},xI),t),{prefix:n||""});return{data:yield Ne(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Y(o))return{data:null,error:o};throw o}})}listV2(n,t){return pe(this,void 0,void 0,function*(){try{let r=Object.assign({},n);return{data:yield Ne(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var mm="2.12.1";var vm={"X-Client-Info":`storage-js/${mm}`};var cr=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},oa=class{constructor(n,t={},r,o){this.shouldThrowOnError=!1;let i=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},vm),t),this.fetch=ta(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cr(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}getBucket(n){return cr(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return cr(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return cr(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}emptyBucket(n){return cr(this,void 0,void 0,function*(){try{return{data:yield Ne(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(n){return cr(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}})}};var ko=class extends oa{constructor(n,t={},r,o){super(n,t,r,o)}from(n){return new ra(this.url,this.headers,n,this.fetch)}};var ym="2.57.4";var Po="";typeof Deno<"u"?Po="deno":typeof document<"u"?Po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Po="react-native":Po="node";var AI={"X-Client-Info":`supabase-js-${Po}/${ym}`},wm={headers:AI},Dm={schema:"public"},_m={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bm={};Yl();var RI=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},NI=e=>{let n;return e?n=e:typeof fetch>"u"?n=Zl:n=fetch,(...t)=>n(...t)},OI=()=>typeof Headers>"u"?Kl:Headers,Em=(e,n,t)=>{let r=NI(t),o=OI();return(i,s)=>RI(void 0,void 0,void 0,function*(){var a;let c=(a=yield n())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var kI=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};function PI(e){return e.endsWith("/")?e:e+"/"}function Cm(e,n){var t,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=n,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Im(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PI(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ia="2.71.1";var tn=30*1e3,sa=3,aa=sa*tn,Sm="http://localhost:9999",Tm="supabase.auth.token";var Mm={"X-Client-Info":`gotrue-js/${ia}`};var Fo="X-Supabase-Api-Version",$l={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Am=10*60*1e3;var Lo=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var ca=class extends Lo{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function Rm(e){return I(e)&&e.name==="AuthApiError"}var ur=class extends Lo{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},nt=class extends Lo{constructor(n,t,r,o){super(n,r,o),this.name=t,this.status=r}},Oe=class extends nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Nm(e){return I(e)&&e.name==="AuthSessionMissingError"}var nn=class extends nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rn=class extends nt{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},on=class extends nt{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Om(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}var jo=class extends nt{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lr=class extends nt{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function ua(e){return I(e)&&e.name==="AuthRetryableFetchError"}var $o=class extends nt{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var sn=class extends nt{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),km=` 	
\r=`.split(""),FI=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<km.length;n+=1)e[km[n].charCodeAt(0)]=-2;for(let n=0;n<la.length;n+=1)e[la[n].charCodeAt(0)]=n;return e})();function Pm(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(la[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(la[r]),n.queuedBits-=6}}function Fm(e,n,t){let r=FI[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ul(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{$I(s,r,t)};for(let s=0;s<e.length;s+=1)Fm(e.charCodeAt(s),o,i);return n.join("")}function LI(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jI(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}LI(r,n)}}function $I(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Lm(e){let n=[],t={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<e.length;o+=1)Fm(e.charCodeAt(o),t,r);return new Uint8Array(n)}function jm(e){let n=[];return jI(e,t=>n.push(t)),new Uint8Array(n)}function $m(e){let n=[],t={queue:0,queuedBits:0},r=o=>{n.push(o)};return e.forEach(o=>Pm(o,t,r)),Pm(null,t,r),n.join("")}function Um(e){return Math.round(Date.now()/1e3)+e}function Vm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var ke=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},da=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function Bm(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{n[o]=r}),n}var fa=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Hm=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cn=(e,n,t)=>p(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),Rt=(e,n)=>p(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Dt=(e,n)=>p(null,null,function*(){yield e.removeItem(n)}),Uo=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Uo.promiseConstructor=Promise;function ha(e){let n=e.split(".");if(n.length!==3)throw new sn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!xm.test(n[r]))throw new sn("JWT not in base64url format");return{header:JSON.parse(Ul(n[0])),payload:JSON.parse(Ul(n[1])),signature:Lm(n[2]),raw:{header:n[0],payload:n[1]}}}function zm(e){return p(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function qm(e,n){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!n(i,null,s)){r(s);return}}catch(s){if(!n(i,s)){o(s);return}}})})}function UI(e){return("0"+e.toString(16)).substr(-2)}function VI(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,UI).join("")}function BI(e){return p(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function HI(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield BI(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function un(e,n,t=!1){return p(this,null,function*(){let r=VI(),o=r;t&&(o+="/PASSWORD_RECOVERY"),yield cn(e,`${n}-code-verifier`,o);let i=yield HI(r);return[i,r===i?"plain":"s256"]})}var zI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wm(e){let n=e.headers.get(Fo);if(!n||!n.match(zI))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Gm(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function Zm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var qI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(e){if(!qI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pa(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vl(e){return JSON.parse(JSON.stringify(e))}var WI=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GI=[502,503,504];function Km(e){return p(this,null,function*(){var n;if(!Hm(e))throw new lr(dn(e),0);if(GI.includes(e.status))throw new lr(dn(e),e.status);let t;try{t=yield e.json()}catch(i){throw new ur(dn(i),i)}let r,o=Wm(e);if(o&&o.getTime()>=$l["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new $o(dn(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Oe}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new $o(dn(t),e.status,t.weak_password.reasons);throw new ca(dn(t),e.status||500,r)})}var ZI=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function O(e,n,t,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Fo]||(i[Fo]=$l["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield KI(e,n,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function KI(e,n,t,r,o,i){return p(this,null,function*(){let s=ZI(n,r,o,i),a;try{a=yield e(t,Object.assign({},s))}catch(c){throw console.error(c),new lr(dn(c),0)}if(a.ok||(yield Km(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Km(c)}})}function rt(e){var n;let t=null;YI(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Um(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Bl(e){let n=rt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ot(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Ym(e){return{data:e,error:null}}function Qm(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=e,s=WI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Jm(e){return e}function YI(e){return e.access_token&&e.refresh_token&&e.expires_in}var ga=["global","local","others"];var QI=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},dr=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=fa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return p(this,arguments,function*(n,t=ga[0]){if(ga.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ga.join(", ")}`);try{return yield O(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(I(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return p(this,arguments,function*(n,t={}){try{return yield O(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ot})}catch(o){if(I(o))return{data:{user:null},error:o};throw o}})}generateLink(n){return p(this,null,function*(){try{let{options:t}=n,r=QI(n,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Qm,redirectTo:t?.redirectTo})}catch(t){if(I(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return p(this,null,function*(){try{return yield O(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ot})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return p(this,null,function*(){var t,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=yield O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Jm});if(l.error)throw l.error;let d=yield l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}})}getUserById(n){return p(this,null,function*(){ln(n);try{return yield O(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ot})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return p(this,null,function*(){ln(n);try{return yield O(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:ot})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return p(this,null,function*(){ln(n);try{return yield O(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:ot})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return p(this,null,function*(){ln(n.userId);try{let{data:t,error:r}=yield O(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(I(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return p(this,null,function*(){ln(n.userId),ln(n.id);try{return{data:yield O(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}})}};function Hl(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function Xm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var fn={debug:!!(globalThis&&da()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Vo=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},ma=class extends Vo{};function zl(e,n,t){return p(this,null,function*(){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(null,null,function*(){if(o){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield t()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(n===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ma(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fn.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}Xm();var JI={url:Sm,storageKey:Tm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ev(e,n,t){return p(this,null,function*(){return yield t()})}var fr={},ql=(()=>{class e{constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},JI),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fa(i.fetch),this.lock=i.lock||ev,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ke()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=zl:this.lock=ev,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:da()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hl(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Hl(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=fr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=fr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ia}) ${new Date().toISOString()}`,...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var t;try{let r=Bm(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),ke()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Om(s)){let u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new ur("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return p(this,null,function*(){var r,o,i;try{let s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:rt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return p(this,null,function*(){var r,o,i;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield un(this.storage,this.storageKey)),s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:rt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=yield O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:rt})}else throw new rn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return p(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Bl})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Bl})}else throw new rn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new nn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return p(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return p(this,null,function*(){var r,o,i,s,a,c,u,l,d,h,f,g;let m,y;if("message"in t)m=t.message,y=t.signature;else{let{chain:D,wallet:B,statement:K,options:E}=t,z;if(ke())if(typeof B=="object")z=B;else{let G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))z=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=B}let hn=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){let G=yield z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:hn.host,uri:hn.href}),K?{statement:K}:null)),de;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")de=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)de=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in de&&"signature"in de&&(typeof de.signedMessage=="string"||de.signedMessage instanceof Uint8Array)&&de.signature instanceof Uint8Array)m=typeof de.signedMessage=="string"?de.signedMessage:new TextDecoder().decode(de.signedMessage),y=de.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${hn.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${hn.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(de=>`- ${de}`)]:[]].join(`
`);let G=yield z.signMessage(new TextEncoder().encode(m),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=G}}try{let{data:D,error:B}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:$m(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:rt});if(B)throw B;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new nn}:(D.session&&(yield this._saveSession(D.session),yield this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:B})}catch(D){if(I(D))return{data:{user:null,session:null},error:D};throw D}})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield Rt(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:rt});if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new nn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(I(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return p(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,c=yield O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rt}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new nn}:(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,o,i,s,a;try{if("email"in t){let{email:c,options:u}=t,l=null,d=null;this.flowType==="pkce"&&([l,d]=yield un(this.storage,this.storageKey));let{error:h}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){let{phone:c,options:u}=t,{data:l,error:d}=yield O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new rn("You must provide either an email or phone number.")}catch(c){if(I(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return p(this,null,function*(){var r,o;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:rt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(yield this._saveSession(u),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return p(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield un(this.storage,this.storageKey)),yield O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Ym})}catch(s){if(I(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Oe;let{error:i}=yield O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:c}=yield O(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new rn("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Rt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<aa:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){let a=yield Rt(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=pa()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,l,d)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,d))})}return{data:{session:t},error:null}}let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ot}):yield this._useSession(r=>p(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:yield O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ot})}))}catch(r){if(I(r))return Nm(r)&&(yield this._removeSession(),yield Dt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Oe;let c=s.session,u=null,l=null;this.flowType==="pkce"&&t.email!=null&&([u,l]=yield un(this.storage,this.storageKey));let{data:d,error:h}=yield O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:l}),jwt:c.access_token,xform:ot});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(I(i))return{data:{user:null},error:i};throw i}})}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Oe;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=ha(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:u}=yield this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=yield this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Oe;let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return p(this,null,function*(){try{if(!ke())throw new on("No browser detected.");if(t.error||t.error_description||t.error_code)throw new on(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new on("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jo("No code detected.");let{data:K,error:E}=yield this._exchangeCodeForSession(t.code);if(E)throw E;let z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:K.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=t;if(!s||!c||!a||!l)throw new on("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let g=f-d;g*1e3<=tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:y,error:D}=yield this._getUser(s);if(D)throw D;let B={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:t.type},error:null}}catch(o){if(I(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return p(this,null,function*(){let r=yield Rt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(Rm(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield Dt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=Vm(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield un(this.storage,this.storageKey,!0));try{return yield O(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(I(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}})}linkIdentity(t){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return yield O(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return ke()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(I(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield O(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(I(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield qm(i=>p(this,null,function*(){return i>0&&(yield zm(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&ua(s)&&Date.now()+a-o<tn})}catch(o){if(this._debug(r,"error",o),I(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),ke()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield Rt(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield Rt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield cn(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a?.user)!==null&&t!==void 0?t:pa()}else if(i&&!i.user&&!i.user){let a=yield Rt(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield Dt(this.storage,this.storageKey+"-user"),yield cn(this.storage,this.storageKey,i)):i.user=pa()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<aa;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${aa}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),ua(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,o;if(!t)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Uo;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Oe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),I(s)){let a={session:null,error:s};return ua(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(t,r)}catch(u){s.push(u)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield cn(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=Vl(i);yield cn(this.storage,this.storageKey,s)}else{let i=Vl(r);yield cn(this.storage,this.storageKey,i)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Dt(this.storage,this.storageKey),yield Dt(this.storage,this.storageKey+"-code-verifier"),yield Dt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Dt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),tn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${tn}ms, refresh threshold is ${sa} ticks`),i<=sa&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Vo)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield un(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield O(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(I(r))return{data:null,error:r};throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:l}=yield O(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})}))}catch(r){if(I(r))return{data:null,error:r};throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(I(r))return{data:null,error:r};throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield O(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(I(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=t?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(t=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=ha(i.access_token),c=null;a.aal&&(c=a.aal);let u=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return p(this,arguments,function*(t,r={keys:[]}){let i=r.keys.find(u=>u.kid===t);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(u=>u.kid===t),i&&this.jwks_cached_at+Am>s)return i;let{data:a,error:c}=yield O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(u=>u.kid===t),!i)?null:i})}getClaims(o){return p(this,arguments,function*(t,r={}){try{let i=t;if(!i){let{data:m,error:y}=yield this.getSession();if(y||!m.session)return{data:null,error:y};i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:u,payload:l}}=ha(i);r?.allowExpired||Gm(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let h=Zm(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,jm(`${u}.${l}`))))throw new sn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var XI=ql,Wl=XI;var va=class extends Wl{constructor(n){super(n)}};var eS=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},ya=class{constructor(n,t,r){var o,i,s;this.supabaseUrl=n,this.supabaseKey=t;let a=Im(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Dm,realtime:bm,auth:Object.assign(Object.assign({},_m),{storageKey:c}),global:wm},l=Cm(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=Em(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new im(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new ko(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new wo(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return eS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new va({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ro(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var tv=(e,n,t)=>new ya(e,n,t);function tS(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}tS()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Gl={production:!1,SUPABASE_URL:"https://xxgskrduziddczmeicuc.supabase.co",SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh4Z3NrcmR1emlkZGN6bWVpY3VjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0NDgzOTQsImV4cCI6MjA3MzAyNDM5NH0.GAa-eQDH-rA7Aza-kQ0usvqeNXYcHX0hCezAd1E2xGc"};var wa=class e{supabaseClient;constructor(){this.supabaseClient=tv(Gl.SUPABASE_URL,Gl.SUPABASE_KEY)}getUserProfile(n){return p(this,null,function*(){let{data:t,error:r}=yield this.supabaseClient.from("profiles").select("*").eq("id",n).single();if(r){if(r.details?.includes("Row not found"))return null;throw r}return t})}createProfile(n){return p(this,null,function*(){let{data:t,error:r}=yield this.supabaseClient.from("profiles").insert(n).select().single();if(r)throw r;return t})}getSession(){return p(this,null,function*(){let{data:n,error:t}=yield this.supabaseClient.auth.getSession();if(t)throw t;return n.session})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var nv=class e{_supabaseClient=v(wa).supabaseClient;session(){return this._supabaseClient.auth.getSession()}signUp(n){return this._supabaseClient.auth.signUp(n)}logIn(n){return this._supabaseClient.auth.signInWithPassword(n)}logOut(){return this._supabaseClient.auth.signOut()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};export{re as a,X as b,j as c,kv as d,_ as e,Df as f,b as g,Or as h,C as i,v as j,Pr as k,QA as l,JA as m,XA as n,eR as o,au as p,ve as q,Lr as r,tR as s,nR as t,ds as u,De as v,_p as w,Vr as x,Wt as y,$_ as z,Y_ as A,Br as B,ku as C,fb as D,hb as E,Mp as F,xp as G,Pu as H,fR as I,Fu as J,hR as K,pR as L,Rb as M,Ap as N,gR as O,mR as P,vR as Q,ps as R,Qb as S,yR as T,mt as U,tE as V,nE as W,qp as X,vE as Y,gl as Z,go as _,Wg as $,XC as aa,wa as ba,nv as ca};
