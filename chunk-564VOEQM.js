import{a as c}from"./chunk-AF4TJ6YQ.js";import{Ha as i,t as s}from"./chunk-CV56RX3B.js";import{h as o}from"./chunk-FK42CRUA.js";var v=(u,l)=>o(null,null,function*(){let r=s(c),e=s(i);try{let a=(yield r.getSession())?.user?.id;if(!a)return e.navigate(["/auth"]),!1;let n=yield r.getUserProfile(a);return n?n.role==="client"?!0:(e.navigate(["/internal"]),!1):(e.navigate(["/"]),!1)}catch(t){return console.error("Error en clientGuard:",t),e.navigate(["/auth"]),!1}}),m=(u,l)=>o(null,null,function*(){let r=s(c),e=s(i);try{let a=(yield r.getSession())?.user?.id;if(!a)return e.navigate(["/auth"]),!1;let n=yield r.getUserProfile(a);return n?["comercial","soporte_tecnico","logistica","admin"].includes(n.role)?!0:(e.navigate(["/client"]),!1):(e.navigate(["/"]),!1)}catch(t){return console.error("Error en internalGuard:",t),e.navigate(["/auth"]),!1}});export{v as a,m as b};
