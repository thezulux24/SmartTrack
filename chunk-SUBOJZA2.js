import{a as X}from"./chunk-4JD3ZYW5.js";import{a as N,c as U,d as z,h as G,k as R,n as q,o as Y,p as W,q as J,w as K,y as Q}from"./chunk-V2VKRV3B.js";import{f as j,j as B,p as H}from"./chunk-3OSVPALZ.js";import{$ as S,A as O,Ab as u,Bb as v,Cb as D,G as A,Ia as l,Nb as $,Ob as L,S as E,Sa as V,Xa as x,Y as y,Z as I,_ as C,cb as M,fb as T,ib as p,la as f,lb as g,mb as b,nb as n,o as k,ob as i,pb as m,qb as F,tb as h,ub as c,x as P,zb as r}from"./chunk-MBDN4FSM.js";import"./chunk-X5YLR3NI.js";import"./chunk-ODN5LVDJ.js";var Z=(o,t)=>t.value,te=(o,t)=>t.id,ie=(o,t)=>t.tipo,ne=(o,t)=>t.codigo;function oe(o,t){o&1&&(n(0,"div",16)(1,"div",39),m(2,"div",40)(3,"div",41),i(),n(4,"p",42),r(5,"Cargando movimientos..."),i()())}function ae(o,t){if(o&1){let e=F();n(0,"div",16)(1,"div",47),C(),n(2,"svg",48),m(3,"path",49),i(),S(),n(4,"p",50),r(5,"Error al cargar datos"),i(),n(6,"p",51),r(7),i()(),n(8,"button",52),h("click",function(){y(e);let d=c(2);return I(d.recargarDatos())}),r(9," Reintentar "),i()()}if(o&2){let e=c(2);l(7),u(e.error())}}function re(o,t){if(o&1&&(x(0,ae,10,1,"div",16),n(1,"div",43)(2,"div",44)(3,"div",45),r(4),i(),n(5,"div",46),r(6,"Total movimientos"),i()(),n(7,"div",44)(8,"div",45),r(9),i(),n(10,"div",46),r(11,"Entradas hoy"),i()(),n(12,"div",44)(13,"div",45),r(14),i(),n(15,"div",46),r(16,"Salidas hoy"),i()(),n(17,"div",44)(18,"div",45),r(19),i(),n(20,"div",46),r(21,"Productos afectados"),i()()()),o&2){let e=c();p(e.error()?0:-1),l(4),v(" ",e.stats().totalMovimientos.toString().padStart(2,"0")," "),l(5),v(" ",e.stats().entradasHoy.toString().padStart(2,"0")," "),l(5),v(" ",e.stats().salidasHoy.toString().padStart(2,"0")," "),l(5),v(" ",e.stats().productosAfectados.toString().padStart(2,"0")," ")}}function le(o,t){if(o&1&&(n(0,"option",32),r(1),i()),o&2){let e=t.$implicit;M("value",e.value),l(),u(e.label)}}function de(o,t){if(o&1&&(n(0,"option",32),r(1),i()),o&2){let e=t.$implicit;M("value",e.id),l(),D("",e.codigo," - ",e.nombre,"")}}function se(o,t){if(o&1&&(n(0,"option",35),r(1),i()),o&2){let e=t.$implicit;M("value",e.value),l(),u(e.label)}}function ce(o,t){if(o&1&&(n(0,"div",56)(1,"div",57),r(2),i(),n(3,"div",58),r(4),i()()),o&2){let e=t.$implicit;l(),T(e.info.color),l(),u(e.cantidad),l(2),u(e.info.label)}}function me(o,t){if(o&1&&(n(0,"div",17)(1,"div",4)(2,"div",53)(3,"h3",54),r(4,"Resumen por Tipo"),i(),m(5,"div",55),n(6,"div",43),g(7,ce,5,4,"div",56,ie),i()()()()),o&2){let e=c();l(7),b(e.getMovimientosPorTipo())}}function pe(o,t){if(o&1&&(n(0,"div",81)(1,"div",82),r(2,"Origen"),i(),n(3,"div",83),r(4),i()()),o&2){let e=c(2).$implicit,a=c(2);l(4),v(" ",a.formatUbicacion(e.ubicacion_origen)," ")}}function ve(o,t){if(o&1&&(n(0,"div",81)(1,"div",82),r(2,"Destino"),i(),n(3,"div",83),r(4),i()()),o&2){let e=c(2).$implicit,a=c(2);l(4),v(" ",a.formatUbicacion(e.ubicacion_destino)," ")}}function ue(o,t){if(o&1&&(n(0,"div",74)(1,"div",23),x(2,pe,5,1,"div",81)(3,ve,5,1,"div",81),i()()),o&2){let e=c().$implicit;l(2),p(e.ubicacion_origen?2:-1),l(),p(e.ubicacion_destino?3:-1)}}function xe(o,t){if(o&1&&(n(0,"div",84)(1,"div",82),r(2,"Motivo"),i(),n(3,"div",85),r(4),i()()),o&2){let e=c(2).$implicit;l(4),u(e.motivo)}}function fe(o,t){if(o&1&&(n(0,"div")(1,"div",82),r(2,"Observaciones"),i(),n(3,"div",85),r(4),i()()),o&2){let e=c(2).$implicit;l(4),u(e.observaciones)}}function _e(o,t){if(o&1&&(n(0,"div",75),x(1,xe,5,1,"div",84)(2,fe,5,1,"div"),i()),o&2){let e=c().$implicit;l(),p(e.motivo?1:-1),l(),p(e.observaciones?2:-1)}}function ge(o,t){if(o&1&&(n(0,"div",79),r(1),i()),o&2){let e=c().$implicit;l(),v(" ",e.referencia," ")}}function be(o,t){if(o&1&&(n(0,"div",87)(1,"span",88),r(2,"Lote:"),i(),n(3,"span",89),r(4),i()()),o&2){let e=c(2).$implicit;l(4),u(e.lote)}}function he(o,t){if(o&1&&(n(0,"div",87)(1,"span",88),r(2,"Vencimiento:"),i(),n(3,"span",89),r(4),i()()),o&2){let e=c(2).$implicit,a=c(2);l(4),u(a.formatFechaCorta(e.fecha_vencimiento))}}function Ce(o,t){if(o&1&&(n(0,"div",80)(1,"div",86),x(2,be,5,1,"div",87)(3,he,5,1,"div",87),i()()),o&2){let e=c().$implicit;l(2),p(e.lote?2:-1),l(),p(e.fecha_vencimiento?3:-1)}}function Se(o,t){if(o&1&&(n(0,"article",60)(1,"header",61)(2,"div",62)(3,"div",63)(4,"h3",64),r(5),i(),n(6,"p",65),r(7),i()(),n(8,"div",66)(9,"div",57),r(10),i(),n(11,"div",67),r(12," unidades "),i()()(),m(13,"div",68),i(),n(14,"section",69)(15,"div",70)(16,"div",63)(17,"div",71),r(18),i(),n(19,"p",65),r(20),i()(),n(21,"span",72),r(22),$(23,"titlecase"),i()(),m(24,"div",73),x(25,ue,4,2,"div",74)(26,_e,3,2,"div",75),n(27,"div",76)(28,"div",77)(29,"span",78),r(30,"Realizado por:"),i(),r(31),i(),x(32,ge,2,1,"div",79),i(),x(33,Ce,4,2,"div",80),i()()),o&2){let e=t.$implicit,a=c(2);l(5),v(" ",a.getTipoInfo(e.tipo).label," "),l(2),v(" ",a.formatFecha(e.created_at)," "),l(2),T(a.getTipoInfo(e.tipo).color),l(),D(" ",e.tipo==="salida"?"-":"+","",e.cantidad," "),l(8),v(" ",(e.producto==null?null:e.producto.nombre)||"Producto no encontrado"," "),l(2),v(" ",e.producto==null?null:e.producto.codigo," "),l(2),v(" ",L(23,14,e.producto==null?null:e.producto.categoria)," "),l(3),p(e.ubicacion_origen||e.ubicacion_destino?25:-1),l(),p(e.motivo||e.observaciones?26:-1),l(5),v(" ",(e.usuario==null?null:e.usuario.full_name)||"Usuario no encontrado"," "),l(),p(e.referencia?32:-1),l(),p(e.lote||e.fecha_vencimiento?33:-1)}}function we(o,t){if(o&1&&(n(0,"div",17)(1,"div",59),g(2,Se,34,16,"article",60,te),i()()),o&2){let e=c();l(2),b(e.filteredMovimientos())}}function Me(o,t){if(o&1){let e=F();n(0,"div",17)(1,"div",4)(2,"div",16)(3,"div",90),C(),n(4,"svg",91),m(5,"path",92),i(),S(),n(6,"h3",50),r(7,"No se encontraron movimientos"),i(),n(8,"p",93),r(9,"Intenta ajustar los filtros de b\xFAsqueda"),i()(),n(10,"button",94),h("click",function(){y(e);let d=c();return I(d.recargarDatos())}),r(11," Recargar movimientos "),i()()()()}}function Ee(o,t){if(o&1&&(n(0,"div",96)(1,"div",63)(2,"div",97),r(3),i(),n(4,"div",98),r(5),i()(),n(6,"div",66)(7,"div",99),r(8),i(),n(9,"div",100),r(10,"movimientos"),i()()()),o&2){let e=t.$implicit;l(3),u(e.producto),l(2),u(e.codigo),l(3),u(e.cantidad)}}function ye(o,t){if(o&1&&(n(0,"div",17)(1,"div",4)(2,"div",53)(3,"h3",54),r(4,"Productos con M\xE1s Movimientos"),i(),m(5,"div",55),n(6,"div",95),g(7,Ee,11,3,"div",96,ne),i()()()()),o&2){let e=c();l(7),b(e.getProductosMasMovidos())}}var ee=class o{fb=E(K);router=E(H);productosService=E(X);loading=f(!1);error=f(null);movimientos=f([]);productos=f([]);filteredMovimientos=f([]);resumen=f(null);filtrosForm=this.fb.group({fecha_desde:[""],fecha_hasta:[""],tipo:[""],producto_id:[""],ubicacion:[""],search:[""]});tiposMovimiento=this.productosService.getTiposMovimiento();ubicacionesOrganizadas=this.productosService.getUbicacionesOrganizadas();stats=f({totalMovimientos:0,entradasHoy:0,salidasHoy:0,productosAfectados:0});ngOnInit(){console.log("\u{1F680} InventarioMovimientosComponent iniciando..."),this.initializeFilters(),this.loadData(),this.setupFilterSubscription()}initializeFilters(){let t=new Date,e=new Date;e.setDate(t.getDate()-30),this.filtrosForm.patchValue({fecha_desde:e.toISOString().split("T")[0],fecha_hasta:t.toISOString().split("T")[0]})}setupFilterSubscription(){this.filtrosForm.valueChanges.pipe(A(this.filtrosForm.value),P(300),O()).subscribe(()=>{this.applyFilters()})}loadData(){this.loading.set(!0),this.error.set(null),k([this.productosService.getMovimientos(),this.productosService.getProductos()]).subscribe({next:([t,e])=>{console.log("\u2705 Datos cargados:",{movimientos:t.length,productos:e.length}),this.movimientos.set(t),this.productos.set(e),this.applyFilters(),this.calculateStats(),this.loading.set(!1)},error:t=>{console.error("\u274C Error loading data:",t),this.error.set("Error al cargar los datos: "+(t?.message||t)),this.loading.set(!1)}})}applyFilters(){let t=this.filtrosForm.value,e=[...this.movimientos()];if(t.fecha_desde&&(e=e.filter(a=>new Date(a.created_at)>=new Date(t.fecha_desde))),t.fecha_hasta){let a=new Date(t.fecha_hasta);a.setHours(23,59,59,999),e=e.filter(d=>new Date(d.created_at)<=a)}if(t.tipo&&(e=e.filter(a=>a.tipo===t.tipo)),t.producto_id&&(e=e.filter(a=>a.producto_id===t.producto_id)),t.ubicacion&&(e=e.filter(a=>a.ubicacion_origen===t.ubicacion||a.ubicacion_destino===t.ubicacion)),t.search){let a=t.search.toLowerCase();e=e.filter(d=>d.producto?.nombre?.toLowerCase().includes(a)||d.producto?.codigo?.toLowerCase().includes(a)||d.usuario?.full_name?.toLowerCase().includes(a)||d.motivo?.toLowerCase().includes(a)||d.observaciones?.toLowerCase().includes(a))}this.filteredMovimientos.set(e)}calculateStats(){let t=this.movimientos(),e=new Date().toISOString().split("T")[0],a=t.filter(_=>new Date(_.created_at).toISOString().split("T")[0]===e),d=a.filter(_=>_.tipo==="entrada").length,s=a.filter(_=>_.tipo==="salida").length,w=new Set(t.map(_=>_.producto_id)).size;this.stats.set({totalMovimientos:t.length,entradasHoy:d,salidasHoy:s,productosAfectados:w})}getTipoInfo(t){return this.tiposMovimiento.find(e=>e.value===t)||{value:t,label:t,icon:"\u2753",color:"text-gray-600"}}formatFecha(t){return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}formatFechaCorta(t){return new Date(t).toLocaleDateString("es-ES")}formatUbicacion(t){return t?{sede_principal:"Sede Principal",bodega:"Bodega",sede_secundaria:"Sede Secundaria"}[t]||t:"No especificada"}limpiarFiltros(){this.filtrosForm.reset(),this.initializeFilters()}recargarDatos(){this.loadData()}exportarMovimientos(){console.log("\u{1F4CA} Exportando movimientos...");let t=this.filteredMovimientos();if(t.length===0){alert("No hay movimientos para exportar");return}let e=this.prepararDatosCSV(t),a=new Blob([e],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),s=URL.createObjectURL(a);d.setAttribute("href",s),d.setAttribute("download",`movimientos_inventario_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}prepararDatosCSV(t){let e=["Fecha","Tipo","Producto","C\xF3digo","Categor\xEDa","Cantidad","Ubicaci\xF3n Origen","Ubicaci\xF3n Destino","Usuario","Motivo","Observaciones","Lote","Fecha Vencimiento","Referencia"],a=t.map(s=>[this.formatFecha(s.created_at),this.getTipoInfo(s.tipo).label,s.producto?.nombre||"",s.producto?.codigo||"",s.producto?.categoria||"",s.cantidad.toString(),this.formatUbicacion(s.ubicacion_origen),this.formatUbicacion(s.ubicacion_destino),s.usuario?.full_name||"",s.motivo||"",s.observaciones||"",s.lote||"",s.fecha_vencimiento?this.formatFechaCorta(s.fecha_vencimiento):"",s.referencia||""]);return[e.join(","),...a.map(s=>s.map(w=>`"${w}"`).join(","))].join(`
`)}volverAtras(){this.router.navigate(["/internal/inventario"])}verDetalleProducto(t){console.log("\u{1F50D} Ver detalle producto:",t)}getMovimientosPorTipo(){let t=this.filteredMovimientos();return this.tiposMovimiento.map(a=>a.value).map(a=>({tipo:a,cantidad:t.filter(d=>d.tipo===a).length,info:this.getTipoInfo(a)}))}getProductosMasMovidos(){let t=this.filteredMovimientos(),e={};return t.forEach(a=>{a.producto_id&&(e[a.producto_id]=(e[a.producto_id]||0)+1)}),Object.entries(e).sort(([,a],[,d])=>d-a).slice(0,5).map(([a,d])=>{let s=this.productos().find(w=>w.id===a);return{producto:s?.nombre||"Producto no encontrado",codigo:s?.codigo||"",cantidad:d}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=V({type:o,selectors:[["app-inventario-movimientos"]],decls:83,vars:6,consts:[[1,"min-h-screen","bg-white"],[1,"relative"],[1,"absolute","top-0","left-0","w-full","bg-[#10284C]","z-0",2,"height","540px","clip-path","polygon(0 0, 100% 0, 100% 90%, 0 60%)"],[1,"relative","z-10","px-4","py-6"],[1,"max-w-lg","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],["src","logo.webp","alt","Implameq",1,"h-8","brightness-0","invert"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-[#C8D900]","rounded-lg","flex","items-center","justify-center","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-[#10284C]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-[#C8D900]","mb-2"],[1,"text-white/90","text-sm"],[1,"w-full","bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","font-extrabold","py-4.5","rounded-2xl","shadow-lg","transition-colors","mb-6",3,"click"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","text-center"],[1,"px-4","pb-6"],[1,"bg-[#0098A8]","rounded-2xl","p-5","shadow-lg"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-[#10284C]","font-bold","text-lg"],[1,"text-sm","text-white","font-medium","hover:text-white/80",3,"click"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-2","gap-3"],[1,"block","text-[#10284C]","text-sm","mb-2","font-medium"],["type","date","formControlName","fecha_desde",1,"w-full","px-3","py-2","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50","text-sm"],["type","date","formControlName","fecha_hasta",1,"w-full","px-3","py-2","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50","text-sm"],["type","text","formControlName","search","placeholder","Producto, usuario, motivo...",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","placeholder-white/60","focus:outline-none","focus:ring-2","focus:ring-white/50"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","right-3","top-1/2","-translate-y-1/2","w-5","h-5","text-white/60"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["formControlName","tipo",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50"],["value",""],[3,"value"],["formControlName","producto_id",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50"],["formControlName","ubicacion",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50"],[1,"bg-[#10284C]",3,"value"],[1,"text-center","pt-2","border-t","border-white/20"],[1,"bg-[#C8D900]","text-[#10284C]","font-extrabold","text-sm","py-2","rounded-xl"],[1,"h-6"],[1,"animate-pulse","space-y-4"],[1,"h-4","bg-gray-200","rounded","w-3/4","mx-auto"],[1,"h-4","bg-gray-200","rounded","w-1/2","mx-auto"],[1,"text-sm","text-gray-500","mt-4"],[1,"grid","grid-cols-2","gap-4"],[1,"bg-[#0098A8]","rounded-2xl","p-4","shadow-lg"],[1,"text-3xl","font-bold","text-[#C8D900]","mb-1"],[1,"text-white","text-sm"],[1,"text-red-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-lg","font-bold","text-[#10284C]","mb-2"],[1,"text-sm","text-gray-600"],[1,"mt-6","w-full","bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","font-bold","px-6","py-3","rounded-xl","transition-colors",3,"click"],[1,"bg-[#10284C]","rounded-2xl","shadow-lg","p-5"],[1,"text-lg","font-bold","text-[#C8D900]","mb-1"],[1,"h-0.5","w-full","bg-[#CBDD00]","rounded","mb-4"],[1,"text-center","p-3","bg-white/5","rounded-xl","border","border-white/10"],[1,"text-2xl","font-extrabold"],[1,"text-xs","text-white/80","mt-1","font-medium"],[1,"max-w-lg","mx-auto","space-y-6"],[1,"bg-white","rounded-2xl","shadow-[0_10px_20px_rgba(16,40,76,0.08)]","border-2","border-[#0098A8]","overflow-hidden"],[1,"p-5","border-b","border-[#E5EEF1]"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"font-extrabold","text-[#10284C]","text-xl","leading-tight"],[1,"text-xs","text-gray-500","mt-1","tracking-wide"],[1,"text-right"],[1,"text-xs","text-gray-500","font-medium"],[1,"mt-3","h-0.5","w-full","bg-[#CBDD00]","rounded"],[1,"p-5"],[1,"flex","justify-between","items-start","gap-3","mb-4"],[1,"font-extrabold","text-[#10284C]","text-lg","leading-tight"],[1,"px-3","py-1","rounded-full","text-xs","font-semibold","bg-[#0098A8]/10","text-[#0098A8]"],[1,"h-0.5","w-full","bg-[#CBDD00]/70","rounded","mb-4"],[1,"mb-4"],[1,"mb-4","bg-gray-50","p-4","rounded-lg","border","border-gray-200"],[1,"mb-4","pt-3","border-t","border-[#CBDD00]/30","flex","justify-between","items-center","text-xs"],[1,"text-gray-600"],[1,"font-bold"],[1,"font-mono","text-[#0098A8]","font-bold","text-sm"],[1,"pt-3","border-t","border-[#CBDD00]/30"],[1,"bg-gray-50","p-3","rounded-lg","border","border-gray-200"],[1,"text-xs","font-bold","text-gray-500","mb-1"],[1,"text-sm","text-[#10284C]","font-semibold"],[1,"mb-2"],[1,"text-sm","text-[#10284C]"],[1,"grid","grid-cols-2","gap-3","text-xs"],[1,"bg-gray-50","p-2","rounded","border","border-gray-200"],[1,"font-bold","text-gray-500"],[1,"text-[#10284C]","ml-1","font-semibold"],[1,"text-gray-400","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20","mx-auto","mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-gray-500"],[1,"w-full","bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","font-bold","px-6","py-3","rounded-xl","transition-colors",3,"click"],[1,"space-y-3"],[1,"flex","justify-between","items-center","p-3","bg-white/5","rounded-xl","border","border-white/10"],[1,"font-extrabold","text-white"],[1,"text-sm","text-white/70"],[1,"font-extrabold","text-[#C8D900]","text-2xl"],[1,"text-xs","text-white/70"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div")(2,"div",1),m(3,"div",2),n(4,"div",3)(5,"div",4)(6,"div",5)(7,"div"),m(8,"img",6),i(),n(9,"div",7)(10,"button",8),h("click",function(){return a.volverAtras()}),C(),n(11,"svg",9),m(12,"path",10),i()(),S(),n(13,"button",8),h("click",function(){return a.recargarDatos()}),C(),n(14,"svg",9),m(15,"path",11),i()()()(),S(),n(16,"div",12)(17,"h1",13),r(18,"Movimientos de Inventario"),i(),n(19,"p",14),r(20,"Historial de entradas, salidas y transferencias"),i()(),n(21,"button",15),h("click",function(){return a.exportarMovimientos()}),r(22," Exportar Movimientos "),i(),x(23,oe,6,0,"div",16)(24,re,22,5),i()()(),n(25,"div",17)(26,"div",4)(27,"div",18)(28,"div",19)(29,"h3",20),r(30,"Filtros de B\xFAsqueda"),i(),n(31,"button",21),h("click",function(){return a.limpiarFiltros()}),r(32," Limpiar "),i()(),n(33,"form",22)(34,"div",23)(35,"div")(36,"label",24),r(37,"Fecha desde"),i(),m(38,"input",25),i(),n(39,"div")(40,"label",24),r(41,"Fecha hasta"),i(),m(42,"input",26),i()(),n(43,"div")(44,"label",24),r(45,"Buscar"),i(),n(46,"div",1),m(47,"input",27),C(),n(48,"svg",28),m(49,"path",29),i()()(),S(),n(50,"div")(51,"label",24),r(52,"Tipo de movimiento"),i(),n(53,"select",30)(54,"option",31),r(55,"Todos los tipos"),i(),g(56,le,2,2,"option",32,Z),i()(),n(58,"div")(59,"label",24),r(60,"Producto espec\xEDfico"),i(),n(61,"select",33)(62,"option",31),r(63,"Todos los productos"),i(),g(64,de,2,3,"option",32,te),i()(),n(66,"div")(67,"label",24),r(68,"Ubicaci\xF3n"),i(),n(69,"select",34)(70,"option",31),r(71,"Todas las ubicaciones"),i(),g(72,se,2,2,"option",35,Z),i()(),n(74,"div",36)(75,"div",37),r(76),i()()()()()(),x(77,me,9,0,"div",17)(78,we,4,0,"div",17)(79,Me,12,0,"div",17)(80,ye,9,0,"div",17),n(81,"div",17),m(82,"div",38),i()()()),e&2&&(l(23),p(a.loading()?23:24),l(10),M("formGroup",a.filtrosForm),l(23),b(a.tiposMovimiento),l(8),b(a.productos()),l(8),b(a.ubicacionesOrganizadas.ubicaciones),l(4),v(" ",a.filteredMovimientos().length," Movimientos Encontrados "),l(),p(a.filteredMovimientos().length>0?77:-1),l(),p(a.filteredMovimientos().length>0?78:79),l(2),p(a.getProductosMasMovidos().length>0?80:-1))},dependencies:[B,j,Q,G,W,J,N,Y,U,z,R,q],styles:[".animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.hover\\:text-blue-600[_ngcontent-%COMP%]:hover{color:#2563eb;transition:color .15s ease-in-out}.bg-white[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (prefers-color-scheme: dark){.dark\\:bg-gray-800[_ngcontent-%COMP%]{background-color:#1f2937}.dark\\:border-gray-700[_ngcontent-%COMP%]{border-color:#374151}}@media (max-width: 768px){.grid-cols-1.md\\:grid-cols-2[_ngcontent-%COMP%]{gap:.75rem}.grid-cols-1.md\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}"]})};export{ee as InventarioMovimientosComponent};
