import{a as Z}from"./chunk-SXTDX4H3.js";import{a as H,c as U,d as G,h as q,k as R,n as Q,o as Y,p as W,q as J,w as K,y as X}from"./chunk-V2VKRV3B.js";import{f as B,j as L,p as j}from"./chunk-3OSVPALZ.js";import{$ as w,A as $,Ab as m,Bb as u,Cb as k,G as A,Ia as l,Nb as V,Ob as z,S as y,Sa as N,Xa as f,Y as I,Z as T,_ as E,cb as g,fb as F,ib as v,la as b,lb as x,mb as _,nb as n,o as O,ob as i,pb as p,qb as D,tb as C,ub as c,x as P,zb as r}from"./chunk-MBDN4FSM.js";import"./chunk-X5YLR3NI.js";import"./chunk-ODN5LVDJ.js";var S=(o,t)=>t.value,te=(o,t)=>t.id,ie=(o,t)=>t.tipo,ne=(o,t)=>t.codigo;function oe(o,t){o&1&&(n(0,"div",16)(1,"div",45),p(2,"div",46)(3,"div",47),i(),n(4,"p",48),r(5,"Cargando movimientos..."),i()())}function ae(o,t){if(o&1){let e=D();n(0,"div",16)(1,"div",53),E(),n(2,"svg",54),p(3,"path",55),i(),w(),n(4,"p",56),r(5,"Error al cargar datos"),i(),n(6,"p",57),r(7),i()(),n(8,"button",58),C("click",function(){I(e);let d=c(2);return T(d.recargarDatos())}),r(9," Reintentar "),i()()}if(o&2){let e=c(2);l(7),m(e.error())}}function re(o,t){if(o&1&&(f(0,ae,10,1,"div",16),n(1,"div",49)(2,"div",50)(3,"div",51),r(4),i(),n(5,"div",52),r(6,"Total movimientos"),i()(),n(7,"div",50)(8,"div",51),r(9),i(),n(10,"div",52),r(11,"Entradas hoy"),i()(),n(12,"div",50)(13,"div",51),r(14),i(),n(15,"div",52),r(16,"Salidas hoy"),i()(),n(17,"div",50)(18,"div",51),r(19),i(),n(20,"div",52),r(21,"Productos afectados"),i()()()),o&2){let e=c();v(e.error()?0:-1),l(4),u(" ",e.stats().totalMovimientos.toString().padStart(2,"0")," "),l(5),u(" ",e.stats().entradasHoy.toString().padStart(2,"0")," "),l(5),u(" ",e.stats().salidasHoy.toString().padStart(2,"0")," "),l(5),u(" ",e.stats().productosAfectados.toString().padStart(2,"0")," ")}}function le(o,t){if(o&1&&(n(0,"option",32),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function de(o,t){if(o&1&&(n(0,"option",32),r(1),i()),o&2){let e=t.$implicit;g("value",e.id),l(),k("",e.codigo," - ",e.nombre,"")}}function se(o,t){if(o&1&&(n(0,"option",36),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function ce(o,t){if(o&1&&(n(0,"option",36),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function me(o,t){if(o&1&&(n(0,"option",36),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function pe(o,t){if(o&1&&(n(0,"option",36),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function ve(o,t){if(o&1&&(n(0,"option",36),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function ue(o,t){if(o&1&&(n(0,"option",36),r(1),i()),o&2){let e=t.$implicit;g("value",e.value),l(),m(e.label)}}function xe(o,t){if(o&1&&(n(0,"div",62)(1,"div",63),r(2),i(),n(3,"div",64),r(4),i()()),o&2){let e=t.$implicit;l(),F(e.info.color),l(),m(e.cantidad),l(2),m(e.info.label)}}function _e(o,t){if(o&1&&(n(0,"div",17)(1,"div",4)(2,"div",59)(3,"h3",60),r(4,"Resumen por Tipo"),i(),p(5,"div",61),n(6,"div",49),x(7,xe,5,4,"div",62,ie),i()()()()),o&2){let e=c();l(7),_(e.getMovimientosPorTipo())}}function fe(o,t){if(o&1&&(n(0,"div",87)(1,"div",88),r(2,"Origen"),i(),n(3,"div",89),r(4),i()()),o&2){let e=c(2).$implicit,a=c(2);l(4),u(" ",a.formatUbicacion(e.ubicacion_origen)," ")}}function ge(o,t){if(o&1&&(n(0,"div",87)(1,"div",88),r(2,"Destino"),i(),n(3,"div",89),r(4),i()()),o&2){let e=c(2).$implicit,a=c(2);l(4),u(" ",a.formatUbicacion(e.ubicacion_destino)," ")}}function be(o,t){if(o&1&&(n(0,"div",80)(1,"div",23),f(2,fe,5,1,"div",87)(3,ge,5,1,"div",87),i()()),o&2){let e=c().$implicit;l(2),v(e.ubicacion_origen?2:-1),l(),v(e.ubicacion_destino?3:-1)}}function he(o,t){if(o&1&&(n(0,"div",90)(1,"div",88),r(2,"Motivo"),i(),n(3,"div",91),r(4),i()()),o&2){let e=c(2).$implicit;l(4),m(e.motivo)}}function Ce(o,t){if(o&1&&(n(0,"div")(1,"div",88),r(2,"Observaciones"),i(),n(3,"div",91),r(4),i()()),o&2){let e=c(2).$implicit;l(4),m(e.observaciones)}}function Se(o,t){if(o&1&&(n(0,"div",81),f(1,he,5,1,"div",90)(2,Ce,5,1,"div"),i()),o&2){let e=c().$implicit;l(),v(e.motivo?1:-1),l(),v(e.observaciones?2:-1)}}function Ee(o,t){if(o&1&&(n(0,"div",85),r(1),i()),o&2){let e=c().$implicit;l(),u(" ",e.referencia," ")}}function we(o,t){if(o&1&&(n(0,"div",93)(1,"span",94),r(2,"Lote:"),i(),n(3,"span",95),r(4),i()()),o&2){let e=c(2).$implicit;l(4),m(e.lote)}}function Me(o,t){if(o&1&&(n(0,"div",93)(1,"span",94),r(2,"Vencimiento:"),i(),n(3,"span",95),r(4),i()()),o&2){let e=c(2).$implicit,a=c(2);l(4),m(a.formatFechaCorta(e.fecha_vencimiento))}}function ye(o,t){if(o&1&&(n(0,"div",86)(1,"div",92),f(2,we,5,1,"div",93)(3,Me,5,1,"div",93),i()()),o&2){let e=c().$implicit;l(2),v(e.lote?2:-1),l(),v(e.fecha_vencimiento?3:-1)}}function Ie(o,t){if(o&1&&(n(0,"article",66)(1,"header",67)(2,"div",68)(3,"div",69)(4,"h3",70),r(5),i(),n(6,"p",71),r(7),i()(),n(8,"div",72)(9,"div",63),r(10),i(),n(11,"div",73),r(12," unidades "),i()()(),p(13,"div",74),i(),n(14,"section",75)(15,"div",76)(16,"div",69)(17,"div",77),r(18),i(),n(19,"p",71),r(20),i()(),n(21,"span",78),r(22),V(23,"titlecase"),i()(),p(24,"div",79),f(25,be,4,2,"div",80)(26,Se,3,2,"div",81),n(27,"div",82)(28,"div",83)(29,"span",84),r(30,"Realizado por:"),i(),r(31),i(),f(32,Ee,2,1,"div",85),i(),f(33,ye,4,2,"div",86),i()()),o&2){let e=t.$implicit,a=c(2);l(5),u(" ",a.getTipoInfo(e.tipo).label," "),l(2),u(" ",a.formatFecha(e.created_at)," "),l(2),F(a.getTipoInfo(e.tipo).color),l(),k(" ",e.tipo==="salida"?"-":"+","",e.cantidad," "),l(8),u(" ",(e.producto==null?null:e.producto.nombre)||"Producto no encontrado"," "),l(2),u(" ",e.producto==null?null:e.producto.codigo," "),l(2),u(" ",z(23,14,e.producto==null?null:e.producto.categoria)," "),l(3),v(e.ubicacion_origen||e.ubicacion_destino?25:-1),l(),v(e.motivo||e.observaciones?26:-1),l(5),u(" ",(e.usuario==null?null:e.usuario.full_name)||"Usuario no encontrado"," "),l(),v(e.referencia?32:-1),l(),v(e.lote||e.fecha_vencimiento?33:-1)}}function Te(o,t){if(o&1&&(n(0,"div",17)(1,"div",65),x(2,Ie,34,16,"article",66,te),i()()),o&2){let e=c();l(2),_(e.filteredMovimientos())}}function Fe(o,t){if(o&1){let e=D();n(0,"div",17)(1,"div",4)(2,"div",16)(3,"div",96),E(),n(4,"svg",97),p(5,"path",98),i(),w(),n(6,"h3",56),r(7,"No se encontraron movimientos"),i(),n(8,"p",99),r(9,"Intenta ajustar los filtros de b\xFAsqueda"),i()(),n(10,"button",100),C("click",function(){I(e);let d=c();return T(d.recargarDatos())}),r(11," Recargar movimientos "),i()()()()}}function De(o,t){if(o&1&&(n(0,"div",102)(1,"div",69)(2,"div",103),r(3),i(),n(4,"div",104),r(5),i()(),n(6,"div",72)(7,"div",105),r(8),i(),n(9,"div",106),r(10,"movimientos"),i()()()),o&2){let e=t.$implicit;l(3),m(e.producto),l(2),m(e.codigo),l(3),m(e.cantidad)}}function ke(o,t){if(o&1&&(n(0,"div",17)(1,"div",4)(2,"div",59)(3,"h3",60),r(4,"Productos con M\xE1s Movimientos"),i(),p(5,"div",61),n(6,"div",101),x(7,De,11,3,"div",102,ne),i()()()()),o&2){let e=c();l(7),_(e.getProductosMasMovidos())}}var ee=class o{fb=y(K);router=y(j);productosService=y(Z);loading=b(!1);error=b(null);movimientos=b([]);productos=b([]);filteredMovimientos=b([]);resumen=b(null);filtrosForm=this.fb.group({fecha_desde:[""],fecha_hasta:[""],tipo:[""],producto_id:[""],ubicacion:[""],search:[""]});tiposMovimiento=this.productosService.getTiposMovimiento();ubicacionesOrganizadas=this.productosService.getUbicacionesOrganizadas();stats=b({totalMovimientos:0,entradasHoy:0,salidasHoy:0,productosAfectados:0});ngOnInit(){console.log("\u{1F680} InventarioMovimientosComponent iniciando..."),this.initializeFilters(),this.loadData(),this.setupFilterSubscription()}initializeFilters(){let t=new Date,e=new Date;e.setDate(t.getDate()-30),this.filtrosForm.patchValue({fecha_desde:e.toISOString().split("T")[0],fecha_hasta:t.toISOString().split("T")[0]})}setupFilterSubscription(){this.filtrosForm.valueChanges.pipe(A(this.filtrosForm.value),P(300),$()).subscribe(()=>{this.applyFilters()})}loadData(){this.loading.set(!0),this.error.set(null),O([this.productosService.getMovimientos(),this.productosService.getProductos()]).subscribe({next:([t,e])=>{console.log("\u2705 Datos cargados:",{movimientos:t.length,productos:e.length}),this.movimientos.set(t),this.productos.set(e),this.applyFilters(),this.calculateStats(),this.loading.set(!1)},error:t=>{console.error("\u274C Error loading data:",t),this.error.set("Error al cargar los datos: "+(t?.message||t)),this.loading.set(!1)}})}applyFilters(){let t=this.filtrosForm.value,e=[...this.movimientos()];if(t.fecha_desde&&(e=e.filter(a=>new Date(a.created_at)>=new Date(t.fecha_desde))),t.fecha_hasta){let a=new Date(t.fecha_hasta);a.setHours(23,59,59,999),e=e.filter(d=>new Date(d.created_at)<=a)}if(t.tipo&&(e=e.filter(a=>a.tipo===t.tipo)),t.producto_id&&(e=e.filter(a=>a.producto_id===t.producto_id)),t.ubicacion&&(e=e.filter(a=>a.ubicacion_origen===t.ubicacion||a.ubicacion_destino===t.ubicacion)),t.search){let a=t.search.toLowerCase();e=e.filter(d=>d.producto?.nombre?.toLowerCase().includes(a)||d.producto?.codigo?.toLowerCase().includes(a)||d.usuario?.full_name?.toLowerCase().includes(a)||d.motivo?.toLowerCase().includes(a)||d.observaciones?.toLowerCase().includes(a))}this.filteredMovimientos.set(e)}calculateStats(){let t=this.movimientos(),e=new Date().toISOString().split("T")[0],a=t.filter(h=>new Date(h.created_at).toISOString().split("T")[0]===e),d=a.filter(h=>h.tipo==="entrada").length,s=a.filter(h=>h.tipo==="salida").length,M=new Set(t.map(h=>h.producto_id)).size;this.stats.set({totalMovimientos:t.length,entradasHoy:d,salidasHoy:s,productosAfectados:M})}getTipoInfo(t){return this.tiposMovimiento.find(e=>e.value===t)||{value:t,label:t,icon:"\u2753",color:"text-gray-600"}}formatFecha(t){return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}formatFechaCorta(t){return new Date(t).toLocaleDateString("es-ES")}formatUbicacion(t){return t?{sede_principal_norte:"Sede Principal Norte",sede_principal_sur:"Sede Principal Sur",sede_secundaria_este:"Sede Secundaria Este",sede_secundaria_oeste:"Sede Secundaria Oeste",bodega_central:"Bodega Central",bodega_norte:"Bodega Norte",bodega_sur:"Bodega Sur",quirofano_sede_norte_1:"Quir\xF3fano Norte 1",quirofano_sede_norte_2:"Quir\xF3fano Norte 2",quirofano_sede_sur_1:"Quir\xF3fano Sur 1",quirofano_sede_sur_2:"Quir\xF3fano Sur 2",emergencia_norte:"Emergencia Norte",emergencia_sur:"Emergencia Sur",esterilizacion_central:"Esterilizaci\xF3n Central"}[t]||t:"No especificada"}limpiarFiltros(){this.filtrosForm.reset(),this.initializeFilters()}recargarDatos(){this.loadData()}exportarMovimientos(){console.log("\u{1F4CA} Exportando movimientos...");let t=this.filteredMovimientos();if(t.length===0){alert("No hay movimientos para exportar");return}let e=this.prepararDatosCSV(t),a=new Blob([e],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),s=URL.createObjectURL(a);d.setAttribute("href",s),d.setAttribute("download",`movimientos_inventario_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}prepararDatosCSV(t){let e=["Fecha","Tipo","Producto","C\xF3digo","Categor\xEDa","Cantidad","Ubicaci\xF3n Origen","Ubicaci\xF3n Destino","Usuario","Motivo","Observaciones","Lote","Fecha Vencimiento","Referencia"],a=t.map(s=>[this.formatFecha(s.created_at),this.getTipoInfo(s.tipo).label,s.producto?.nombre||"",s.producto?.codigo||"",s.producto?.categoria||"",s.cantidad.toString(),this.formatUbicacion(s.ubicacion_origen),this.formatUbicacion(s.ubicacion_destino),s.usuario?.full_name||"",s.motivo||"",s.observaciones||"",s.lote||"",s.fecha_vencimiento?this.formatFechaCorta(s.fecha_vencimiento):"",s.referencia||""]);return[e.join(","),...a.map(s=>s.map(M=>`"${M}"`).join(","))].join(`
`)}volverAtras(){this.router.navigate(["/internal/inventario"])}verDetalleProducto(t){console.log("\u{1F50D} Ver detalle producto:",t)}getMovimientosPorTipo(){let t=this.filteredMovimientos();return this.tiposMovimiento.map(a=>a.value).map(a=>({tipo:a,cantidad:t.filter(d=>d.tipo===a).length,info:this.getTipoInfo(a)}))}getProductosMasMovidos(){let t=this.filteredMovimientos(),e={};return t.forEach(a=>{a.producto_id&&(e[a.producto_id]=(e[a.producto_id]||0)+1)}),Object.entries(e).sort(([,a],[,d])=>d-a).slice(0,5).map(([a,d])=>{let s=this.productos().find(M=>M.id===a);return{producto:s?.nombre||"Producto no encontrado",codigo:s?.codigo||"",cantidad:d}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["app-inventario-movimientos"]],decls:99,vars:6,consts:[[1,"min-h-screen","bg-white"],[1,"relative"],[1,"absolute","top-0","left-0","w-full","bg-[#10284C]","z-0",2,"height","540px","clip-path","polygon(0 0, 100% 0, 100% 90%, 0 60%)"],[1,"relative","z-10","px-4","py-6"],[1,"max-w-lg","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],["src","https://www.implameq.com/wp-content/uploads/logotipo-impla-300x78.png.webp","alt","Implameq",1,"h-8","brightness-0","invert"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-[#C8D900]","rounded-lg","flex","items-center","justify-center","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-[#10284C]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","mb-8"],[1,"text-3xl","font-bold","text-[#C8D900]","mb-2"],[1,"text-white/90","text-sm"],[1,"w-full","bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","font-extrabold","py-4.5","rounded-2xl","shadow-lg","transition-colors","mb-6",3,"click"],[1,"bg-white","rounded-2xl","shadow-lg","p-8","text-center"],[1,"px-4","pb-6"],[1,"bg-[#0098A8]","rounded-2xl","p-5","shadow-lg"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-[#10284C]","font-bold","text-lg"],[1,"text-sm","text-white","font-medium","hover:text-white/80",3,"click"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-2","gap-3"],[1,"block","text-[#10284C]","text-sm","mb-2","font-medium"],["type","date","formControlName","fecha_desde",1,"w-full","px-3","py-2","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50","text-sm"],["type","date","formControlName","fecha_hasta",1,"w-full","px-3","py-2","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50","text-sm"],["type","text","formControlName","search","placeholder","Producto, usuario, motivo...",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","placeholder-white/60","focus:outline-none","focus:ring-2","focus:ring-white/50"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","right-3","top-1/2","-translate-y-1/2","w-5","h-5","text-white/60"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["formControlName","tipo",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50"],["value",""],[3,"value"],["formControlName","producto_id",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50"],["formControlName","ubicacion",1,"w-full","px-4","py-2.5","bg-[#0098A8]/50","border","border-white/30","rounded-lg","text-white","focus:outline-none","focus:ring-2","focus:ring-white/50"],["label","Sedes Principales",1,"bg-[#10284C]"],[1,"bg-[#10284C]",3,"value"],["label","Sedes Secundarias",1,"bg-[#10284C]"],["label","Bodegas",1,"bg-[#10284C]"],["label","Quir\xF3fanos",1,"bg-[#10284C]"],["label","Emergencias",1,"bg-[#10284C]"],["label","Especiales",1,"bg-[#10284C]"],[1,"text-center","pt-2","border-t","border-white/20"],[1,"bg-[#C8D900]","text-[#10284C]","font-extrabold","text-sm","py-2","rounded-xl"],[1,"h-6"],[1,"animate-pulse","space-y-4"],[1,"h-4","bg-gray-200","rounded","w-3/4","mx-auto"],[1,"h-4","bg-gray-200","rounded","w-1/2","mx-auto"],[1,"text-sm","text-gray-500","mt-4"],[1,"grid","grid-cols-2","gap-4"],[1,"bg-[#0098A8]","rounded-2xl","p-4","shadow-lg"],[1,"text-3xl","font-bold","text-[#C8D900]","mb-1"],[1,"text-white","text-sm"],[1,"text-red-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-lg","font-bold","text-[#10284C]","mb-2"],[1,"text-sm","text-gray-600"],[1,"mt-6","w-full","bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","font-bold","px-6","py-3","rounded-xl","transition-colors",3,"click"],[1,"bg-[#10284C]","rounded-2xl","shadow-lg","p-5"],[1,"text-lg","font-bold","text-[#C8D900]","mb-1"],[1,"h-0.5","w-full","bg-[#CBDD00]","rounded","mb-4"],[1,"text-center","p-3","bg-white/5","rounded-xl","border","border-white/10"],[1,"text-2xl","font-extrabold"],[1,"text-xs","text-white/80","mt-1","font-medium"],[1,"max-w-lg","mx-auto","space-y-6"],[1,"bg-white","rounded-2xl","shadow-[0_10px_20px_rgba(16,40,76,0.08)]","border-2","border-[#0098A8]","overflow-hidden"],[1,"p-5","border-b","border-[#E5EEF1]"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"font-extrabold","text-[#10284C]","text-xl","leading-tight"],[1,"text-xs","text-gray-500","mt-1","tracking-wide"],[1,"text-right"],[1,"text-xs","text-gray-500","font-medium"],[1,"mt-3","h-0.5","w-full","bg-[#CBDD00]","rounded"],[1,"p-5"],[1,"flex","justify-between","items-start","gap-3","mb-4"],[1,"font-extrabold","text-[#10284C]","text-lg","leading-tight"],[1,"px-3","py-1","rounded-full","text-xs","font-semibold","bg-[#0098A8]/10","text-[#0098A8]"],[1,"h-0.5","w-full","bg-[#CBDD00]/70","rounded","mb-4"],[1,"mb-4"],[1,"mb-4","bg-gray-50","p-4","rounded-lg","border","border-gray-200"],[1,"mb-4","pt-3","border-t","border-[#CBDD00]/30","flex","justify-between","items-center","text-xs"],[1,"text-gray-600"],[1,"font-bold"],[1,"font-mono","text-[#0098A8]","font-bold","text-sm"],[1,"pt-3","border-t","border-[#CBDD00]/30"],[1,"bg-gray-50","p-3","rounded-lg","border","border-gray-200"],[1,"text-xs","font-bold","text-gray-500","mb-1"],[1,"text-sm","text-[#10284C]","font-semibold"],[1,"mb-2"],[1,"text-sm","text-[#10284C]"],[1,"grid","grid-cols-2","gap-3","text-xs"],[1,"bg-gray-50","p-2","rounded","border","border-gray-200"],[1,"font-bold","text-gray-500"],[1,"text-[#10284C]","ml-1","font-semibold"],[1,"text-gray-400","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20","mx-auto","mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-gray-500"],[1,"w-full","bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","font-bold","px-6","py-3","rounded-xl","transition-colors",3,"click"],[1,"space-y-3"],[1,"flex","justify-between","items-center","p-3","bg-white/5","rounded-xl","border","border-white/10"],[1,"font-extrabold","text-white"],[1,"text-sm","text-white/70"],[1,"font-extrabold","text-[#C8D900]","text-2xl"],[1,"text-xs","text-white/70"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div")(2,"div",1),p(3,"div",2),n(4,"div",3)(5,"div",4)(6,"div",5)(7,"div"),p(8,"img",6),i(),n(9,"div",7)(10,"button",8),C("click",function(){return a.volverAtras()}),E(),n(11,"svg",9),p(12,"path",10),i()(),w(),n(13,"button",8),C("click",function(){return a.recargarDatos()}),E(),n(14,"svg",9),p(15,"path",11),i()()()(),w(),n(16,"div",12)(17,"h1",13),r(18,"Movimientos de Inventario"),i(),n(19,"p",14),r(20,"Historial de entradas, salidas y transferencias"),i()(),n(21,"button",15),C("click",function(){return a.exportarMovimientos()}),r(22," Exportar Movimientos "),i(),f(23,oe,6,0,"div",16)(24,re,22,5),i()()(),n(25,"div",17)(26,"div",4)(27,"div",18)(28,"div",19)(29,"h3",20),r(30,"Filtros de B\xFAsqueda"),i(),n(31,"button",21),C("click",function(){return a.limpiarFiltros()}),r(32," Limpiar "),i()(),n(33,"form",22)(34,"div",23)(35,"div")(36,"label",24),r(37,"Fecha desde"),i(),p(38,"input",25),i(),n(39,"div")(40,"label",24),r(41,"Fecha hasta"),i(),p(42,"input",26),i()(),n(43,"div")(44,"label",24),r(45,"Buscar"),i(),n(46,"div",1),p(47,"input",27),E(),n(48,"svg",28),p(49,"path",29),i()()(),w(),n(50,"div")(51,"label",24),r(52,"Tipo de movimiento"),i(),n(53,"select",30)(54,"option",31),r(55,"Todos los tipos"),i(),x(56,le,2,2,"option",32,S),i()(),n(58,"div")(59,"label",24),r(60,"Producto espec\xEDfico"),i(),n(61,"select",33)(62,"option",31),r(63,"Todos los productos"),i(),x(64,de,2,3,"option",32,te),i()(),n(66,"div")(67,"label",24),r(68,"Ubicaci\xF3n"),i(),n(69,"select",34)(70,"option",31),r(71,"Todas las ubicaciones"),i(),n(72,"optgroup",35),x(73,se,2,2,"option",36,S),i(),n(75,"optgroup",37),x(76,ce,2,2,"option",36,S),i(),n(78,"optgroup",38),x(79,me,2,2,"option",36,S),i(),n(81,"optgroup",39),x(82,pe,2,2,"option",36,S),i(),n(84,"optgroup",40),x(85,ve,2,2,"option",36,S),i(),n(87,"optgroup",41),x(88,ue,2,2,"option",36,S),i()()(),n(90,"div",42)(91,"div",43),r(92),i()()()()()(),f(93,_e,9,0,"div",17)(94,Te,4,0,"div",17)(95,Fe,12,0,"div",17)(96,ke,9,0,"div",17),n(97,"div",17),p(98,"div",44),i()()()),e&2&&(l(23),v(a.loading()?23:24),l(10),g("formGroup",a.filtrosForm),l(23),_(a.tiposMovimiento),l(8),_(a.productos()),l(9),_(a.ubicacionesOrganizadas.sedes_principales),l(3),_(a.ubicacionesOrganizadas.sedes_secundarias),l(3),_(a.ubicacionesOrganizadas.bodegas),l(3),_(a.ubicacionesOrganizadas.quirofanos),l(3),_(a.ubicacionesOrganizadas.emergencias),l(3),_(a.ubicacionesOrganizadas.especiales),l(4),u(" ",a.filteredMovimientos().length," Movimientos Encontrados "),l(),v(a.filteredMovimientos().length>0?93:-1),l(),v(a.filteredMovimientos().length>0?94:95),l(2),v(a.getProductosMasMovidos().length>0?96:-1))},dependencies:[L,B,X,q,W,J,H,Y,U,G,R,Q],styles:[".animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.hover\\:text-blue-600[_ngcontent-%COMP%]:hover{color:#2563eb;transition:color .15s ease-in-out}.bg-white[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (prefers-color-scheme: dark){.dark\\:bg-gray-800[_ngcontent-%COMP%]{background-color:#1f2937}.dark\\:border-gray-700[_ngcontent-%COMP%]{border-color:#374151}}@media (max-width: 768px){.grid-cols-1.md\\:grid-cols-2[_ngcontent-%COMP%]{gap:.75rem}.grid-cols-1.md\\:grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}"]})};export{ee as InventarioMovimientosComponent};
