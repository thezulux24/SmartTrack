import{a as me,b as ue}from"./chunk-T6LFOFVE.js";import{a as pe}from"./chunk-XSDINV7M.js";import{a as se}from"./chunk-C4VFUW4K.js";import{a as X,c as Y,g as Z,i as ee,j as te,o as ie,p as ne,q as oe,r as ae,s as re,w as le,x as de,y as ce}from"./chunk-V2VKRV3B.js";import{c as H,g as Q,j as B,n as N,p as $,q as G,t as O,u as A,v as J}from"./chunk-3OSVPALZ.js";import{$ as C,Ab as f,Bb as q,Cb as R,Eb as M,Fb as V,Gb as T,Ia as c,Kb as j,Nb as U,Pb as W,S as k,Sa as z,Xa as S,Y as _,Yb as I,Z as g,_ as b,cb as m,ib as v,la as x,lb as L,mb as F,nb as i,ob as n,pb as p,qb as D,tb as P,ub as u,zb as l}from"./chunk-MBDN4FSM.js";import"./chunk-X5YLR3NI.js";import{i as y}from"./chunk-ODN5LVDJ.js";var be=(d,t,e)=>({"bg-red-500/20 text-red-300":d,"bg-orange-500/20 text-orange-300":t,"bg-green-500/20 text-green-300":e}),ge=(d,t)=>t.id;function ve(d,t){d&1&&(i(0,"div",25),p(1,"div",28),n())}function he(d,t){if(d&1){let e=D();i(0,"div",26)(1,"div",29)(2,"div",22)(3,"div",30),b(),i(4,"svg",31),p(5,"path",32),n()(),C(),i(6,"h2",33),l(7,"Kit Preparado!"),n(),i(8,"p",34),l(9,"El kit esta listo para despacho"),n(),i(10,"div",35)(11,"div",22),p(12,"qrcode",36),i(13,"p",37),l(14),n(),i(15,"p",38),l(16,"Escanea este c\xF3digo para validar la entrega"),n()()(),i(17,"div",39)(18,"button",40),P("click",function(){_(e);let a=u();return g(a.imprimirQR())}),b(),i(19,"svg",19),p(20,"path",41),n(),l(21," Imprimir QR "),n(),C(),i(22,"button",42),P("click",function(){_(e);let a=u();return g(a.volverAListado())}),l(23," Volver al Listado "),n()()()()()}if(d&2){let e=u();c(12),m("qrdata",e.qrUrl())("width",256)("errorCorrectionLevel","M")("elementType","canvas")("cssClass","mx-auto"),c(2),f(e.qrCode())}}function Ce(d,t){if(d&1){let e=D();i(0,"div",43)(1,"h2",60),b(),i(2,"svg",61),p(3,"path",62),n(),l(4," C\xF3digo QR de Validaci\xF3n "),n(),C(),i(5,"div",63)(6,"div",64),p(7,"qrcode",65),n(),i(8,"div",66)(9,"p",67),l(10,"Este c\xF3digo QR permite al cliente validar la recepci\xF3n del kit sin necesidad de iniciar sesi\xF3n."),n(),i(11,"div",68)(12,"p",45),l(13,"C\xF3digo:"),n(),i(14,"p",69),l(15),n()(),i(16,"div",68)(17,"p",45),l(18,"URL de validaci\xF3n:"),n(),i(19,"p",70),l(20),n()(),i(21,"button",71),P("click",function(){_(e);let a=u(3);return g(a.imprimirQR())}),b(),i(22,"svg",19),p(23,"path",41),n(),l(24," Imprimir QR "),n()()()()}if(d&2){let e=u(3);c(7),m("qrdata",e.qrUrl())("width",256)("errorCorrectionLevel","M")("elementType","canvas"),c(8),f(e.qrCode()),c(5),f(e.qrUrl())}}function we(d,t){if(d&1&&(i(0,"div",54)(1,"div",55),b(),i(2,"svg",56),p(3,"path",57),n(),C(),i(4,"div")(5,"p",58),l(6,"Kit Preparado - Modo Solo Lectura"),n(),i(7,"p",59),l(8,"Este kit ya fue completamente preparado y esta listo para envio"),n()()()(),S(9,Ce,25,6,"div",43)),d&2){let e=u(2);c(9),v(e.qrUrl()?9:-1)}}function ye(d,t){d&1&&(i(0,"div",22),p(1,"p",72),i(2,"p",49),l(3,"Alertas Activas"),n()())}function ke(d,t){if(d&1&&(i(0,"option",86),l(1),n()),d&2){let e=t.$implicit;m("value",e.ubicacion),c(),R("",e.ubicacion," (",e.cantidad," unidades)")}}function Se(d,t){if(d&1){let e=D();i(0,"div",43)(1,"div",73)(2,"div",74)(3,"h3",75),l(4),n(),i(5,"p",76),l(6),n(),i(7,"div",77)(8,"span",78),l(9),n()()(),i(10,"div",79)(11,"p",80),l(12,"Solicitado"),n(),i(13,"p",81),l(14),n()()(),i(15,"div",44)(16,"div")(17,"label",82),l(18,"Cantidad a Preparar *"),n(),i(19,"input",83),T("ngModelChange",function(a){let r=_(e).$implicit;return V(r.cantidad_preparada,a)||(r.cantidad_preparada=a),g(a)}),P("ngModelChange",function(){let a=_(e).$implicit,r=u(2);return g(r.validarCantidad(a))}),n(),i(20,"p",84),l(21),n()(),i(22,"div")(23,"label",82),l(24,"Ubicacion"),n(),i(25,"select",85),T("ngModelChange",function(a){let r=_(e).$implicit;return V(r.ubicacion_seleccionada,a)||(r.ubicacion_seleccionada=a),g(a)}),L(26,ke,2,3,"option",86,ge),n()(),i(28,"div")(29,"label",82),l(30,"Lote"),n(),i(31,"input",87),T("ngModelChange",function(a){let r=_(e).$implicit;return V(r.lote,a)||(r.lote=a),g(a)}),n()(),i(32,"div")(33,"label",82),l(34,"Vencimiento"),n(),i(35,"input",88),T("ngModelChange",function(a){let r=_(e).$implicit;return V(r.fecha_vencimiento,a)||(r.fecha_vencimiento=a),g(a)}),n()()(),i(36,"div",89)(37,"label",82),l(38,"Observaciones"),n(),i(39,"textarea",90),T("ngModelChange",function(a){let r=_(e).$implicit;return V(r.observaciones,a)||(r.observaciones=a),g(a)}),n()()()}if(d&2){let e=t.$implicit,o=u(2);c(4),f(e.nombre),c(2),q("Codigo: ",e.codigo,""),c(2),m("ngClass",j(17,be,e.alerta_stock,e.alerta_vencimiento&&!e.alerta_stock,!e.alerta_stock&&!e.alerta_vencimiento)),c(),q(" ",o.obtenerMensajeAlerta(e)," "),c(5),f(e.cantidad_solicitada),c(5),M("ngModel",e.cantidad_preparada),m("max",e.stock_disponible)("disabled",o.modoVista()),c(2),q("Disponible: ",e.stock_disponible,""),c(4),M("ngModel",e.ubicacion_seleccionada),m("disabled",o.modoVista()),c(),F(e.inventarios),c(5),M("ngModel",e.lote),m("disabled",o.modoVista()),c(4),M("ngModel",e.fecha_vencimiento),m("disabled",o.modoVista()),c(4),M("ngModel",e.observaciones),m("disabled",o.modoVista())}}function Ee(d,t){d&1&&(p(0,"div",92),i(1,"span"),l(2,"Procesando..."),n())}function Pe(d,t){d&1&&(b(),i(0,"svg",61),p(1,"path",57),n(),C(),i(2,"span"),l(3,"Finalizar Preparacion"),n())}function Me(d,t){if(d&1){let e=D();i(0,"div",53)(1,"button",91),P("click",function(){_(e);let a=u(2);return g(a.finalizarPreparacion())}),S(2,Ee,3,0)(3,Pe,4,0),n()()}if(d&2){let e=u(2);c(),m("disabled",e.procesando()),c(),v(e.procesando()?2:3)}}function Ve(d,t){if(d&1&&(S(0,we,10,1),i(1,"div",43)(2,"div",44)(3,"div")(4,"p",45),l(5,"Kit #"),n(),i(6,"p",46),l(7),n()(),i(8,"div")(9,"p",45),l(10,"Cirugia"),n(),i(11,"p",46),l(12),n()(),i(13,"div")(14,"p",45),l(15,"Hospital"),n(),i(16,"p",46),l(17),n()(),i(18,"div")(19,"p",45),l(20,"Fecha Cirugia"),n(),i(21,"p",46),l(22),U(23,"date"),n()()(),i(24,"div",47)(25,"div",22)(26,"p",48),l(27),n(),i(28,"p",49),l(29,"Productos Completos"),n()(),S(30,ye,4,0,"div",22),n()(),i(31,"div",50),L(32,Se,40,21,"div",43,ge),n(),i(34,"div",43)(35,"label",51),l(36,"Observaciones Generales del Kit"),n(),p(37,"textarea",52),n(),S(38,Me,4,2,"div",53)),d&2){let e,o,a,r,s=u();v(s.modoVista()?0:-1),c(7),f((e=s.kit())==null?null:e.numero_kit),c(5),f((o=s.kit())==null||o.cirugia==null?null:o.cirugia.numero_cirugia),c(5),f((a=s.kit())==null||a.cirugia==null||a.cirugia.hospital==null?null:a.cirugia.hospital.nombre),c(5),f(W(23,11,(r=s.kit())==null||r.cirugia==null?null:r.cirugia.fecha_programada,"dd/MM/yyyy")),c(5),R("",s.productosCompletos(),"/",s.totalProductos(),""),c(3),v(s.tieneAlertas()?30:-1),c(2),F(s.productos()),c(5),m("formControl",s.preparacionForm.controls.observaciones)("disabled",s.modoVista()),c(),v(s.modoVista()?-1:38)}}var _e=class d{route=k(N);router=k($);fb=k(le);kitService=k(pe);supabase=k(J);notificationService=k(se);kitId=x("");kit=x(null);productos=x([]);loading=x(!0);procesando=x(!1);mostrarQR=x(!1);qrCode=x("");qrUrl=x("");modoVista=x(!1);totalProductos=I(()=>this.productos().length);productosCompletos=I(()=>this.productos().filter(t=>t.cantidad_preparada>=t.cantidad_solicitada).length);tieneAlertas=I(()=>this.productos().some(t=>t.alerta_stock||t.alerta_vencimiento));preparacionForm=this.fb.group({observaciones:[""]});ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.kitId.set(t),this.route.queryParams.subscribe(e=>{e.modo==="ver"&&this.modoVista.set(!0)}),this.cargarKit(t))}cargarKit(t){return y(this,null,function*(){try{this.loading.set(!0);let{data:e,error:o}=yield this.supabase.client.from("kits_cirugia").select(`
          *,
          cirugia:cirugias(
            numero_cirugia,
            medico_cirujano,
            fecha_programada,
            hospital:hospitales(nombre),
            cliente:clientes(nombre, apellido)
          ),
          productos:kit_productos(
            *,
            producto:productos(
              id,
              codigo,
              nombre,
              categoria,
              stock_minimo,
              inventario(
                id,
                cantidad,
                ubicacion,
                estado,
                fecha_vencimiento
              )
            )
          )
        `).eq("id",t).single();if(o)throw o;this.kit.set(e),e.qr_code&&(this.qrCode.set(e.qr_code),this.qrUrl.set(`${A.PUBLIC_URL}/qr/${e.qr_code}`));let a=(e.productos||[]).map(r=>{let s=(r.producto?.inventario||[]).filter(w=>w.estado==="disponible"&&w.cantidad>0),h=s.reduce((w,K)=>w+K.cantidad,0),E=h<r.cantidad_solicitada,xe=new Date,fe=s.some(w=>{if(!w.fecha_vencimiento)return!1;let K=Math.ceil((new Date(w.fecha_vencimiento).getTime()-xe.getTime())/(1e3*60*60*24));return K<=30&&K>=0});return{id:r.id,producto_id:r.producto.id,nombre:r.producto.nombre,codigo:r.producto.codigo,cantidad_solicitada:r.cantidad_solicitada,cantidad_preparada:r.cantidad_preparada||0,stock_disponible:h,cantidad_minima:r.producto.stock_minimo||0,lote:r.lote||"",fecha_vencimiento:r.fecha_vencimiento||"",ubicacion_seleccionada:s[0]?.ubicacion||"",observaciones:r.observaciones||"",alerta_stock:E,alerta_vencimiento:fe,inventarios:s}});this.productos.set(a),this.loading.set(!1)}catch(e){console.error("Error cargando kit:",e),alert("Error al cargar el kit"),this.router.navigate(["/internal/logistica/kits-pendientes"])}})}validarCantidad(t){t.cantidad_preparada>t.stock_disponible&&(t.cantidad_preparada=t.stock_disponible,alert(`Stock insuficiente. M\xE1ximo disponible: ${t.stock_disponible}`)),t.cantidad_preparada<0&&(t.cantidad_preparada=0)}finalizarPreparacion(){return y(this,null,function*(){if(!this.productos().some(o=>o.cantidad_preparada>0)){alert("Debes preparar al menos un producto");return}let e=this.productos().filter(o=>o.cantidad_preparada<o.cantidad_solicitada);if(!(e.length>0&&!confirm(`Hay ${e.length} producto(s) con cantidad incompleta. \xBFDeseas continuar?`)))try{this.procesando.set(!0);let o=(yield this.supabase.client.auth.getUser()).data.user?.id;if(!o)throw new Error("Usuario no autenticado");for(let s of this.productos())if(s.cantidad_preparada>0){let{error:h}=yield this.supabase.client.from("kit_productos").update({cantidad_preparada:s.cantidad_preparada,lote:s.lote||null,fecha_vencimiento:s.fecha_vencimiento||null,observaciones:s.observaciones||null}).eq("id",s.id);if(h)throw h;yield this.registrarMovimientoInventario(s,o)}let a=yield this.generarQR(),{error:r}=yield this.supabase.client.from("kits_cirugia").update({estado:"listo_envio",fecha_preparacion:new Date().toISOString(),logistica_id:o,qr_code:a,ubicacion_actual:"bodega_principal",observaciones:this.preparacionForm.value.observaciones||null}).eq("id",this.kitId());if(r)throw r;yield this.registrarTrazabilidad("Listo para despacho","preparando","listo_envio",o),this.qrCode.set(a),this.qrUrl.set(`${A.PUBLIC_URL}/qr/${a}`),this.mostrarQR.set(!0)}catch(o){console.error("Error finalizando preparaci\xF3n:",o),alert("Error al finalizar la preparaci\xF3n")}finally{this.procesando.set(!1)}})}registrarMovimientoInventario(t,e){return y(this,null,function*(){let o=t.inventarios?.find(E=>E.ubicacion===t.ubicacion_seleccionada);if(!o)return;let{error:a}=yield this.supabase.client.from("movimientos_inventario").insert({inventario_id:o.id,producto_id:t.producto_id,tipo:"salida",cantidad:t.cantidad_preparada,motivo:"Kit quir\xFArgico",usuario_id:e,ubicacion_origen:t.ubicacion_seleccionada,referencia:this.kit()?.numero_kit,lote:t.lote||null,fecha_vencimiento:t.fecha_vencimiento||null,observaciones:`Kit ${this.kit()?.numero_kit} - Preparaci\xF3n para cirug\xEDa`});if(a)throw a;let r=o.cantidad-t.cantidad_preparada,s=r<=0?"agotado":"disponible",{error:h}=yield this.supabase.client.from("inventario").update({cantidad:r,estado:s}).eq("id",o.id);if(h)throw h;if(r<=t.cantidad_minima){console.log("\u26A0\uFE0F Stock cr\xEDtico detectado despu\xE9s de preparar kit:",{producto:t.nombre,nuevaCantidad:r,cantidad_minima:t.cantidad_minima});let E=yield this.getLogisticaUsers();E.length>0&&(yield this.notificationService.notifyLowStock(E,t.producto_id,t.nombre,r,t.cantidad_minima))}})}generarQR(){return y(this,null,function*(){let t=Date.now(),e=Math.random().toString(36).substring(2,8).toUpperCase(),o=`KIT-${this.kit()?.numero_kit}-${e}-${t}`,{error:a}=yield this.supabase.client.from("qr_codes").insert({codigo:o,tipo:"kit",referencia_id:this.kitId(),kit_id:this.kitId(),tipo_validacion:"entrega_cliente",es_activo:!0});if(a)throw a;return o})}registrarTrazabilidad(t,e,o,a){return y(this,null,function*(){let{error:r}=yield this.supabase.client.from("kit_trazabilidad").insert({kit_id:this.kitId(),accion:t,estado_anterior:e,estado_nuevo:o,usuario_id:a,ubicacion:"bodega_principal",observaciones:this.preparacionForm.value.observaciones||null});if(r)throw r})}imprimirQR(){window.print()}volverAListado(){this.router.navigate(["/internal/logistica/kits-pendientes"])}getLogisticaUsers(){return y(this,null,function*(){try{let{data:t,error:e}=yield this.supabase.client.from("profiles").select("id").eq("role","logistica").eq("is_active",!0);return e?(console.error("\u274C Error fetching logistica users:",e),[]):(t||[]).map(o=>o.id)}catch(t){return console.error("\u274C Exception getting logistica users:",t),[]}})}obtenerColorAlerta(t){return t.alerta_stock?"red":t.alerta_vencimiento?"orange":"green"}obtenerMensajeAlerta(t){return t.alerta_stock?`\u26A0\uFE0F Stock insuficiente (Disponible: ${t.stock_disponible})`:t.alerta_vencimiento?"\u26A0\uFE0F Producto pr\xF3ximo a vencer (< 30 d\xEDas)":"\u2713 Stock suficiente"}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=z({type:d,selectors:[["app-kit-preparacion"]],decls:32,vars:3,consts:[[1,"min-h-screen","relative","overflow-hidden"],[1,"absolute","inset-0","z-0"],[1,"absolute","inset-0","bg-[#10284C]"],["xmlns","http://www.w3.org/2000/svg",1,"absolute","w-full","h-full"],["cx","10%","cy","15%","r","120","fill","#0098A8","opacity","0.1"],["cx","85%","cy","25%","r","180","fill","#C8D900","opacity","0.08"],["cx","50%","cy","80%","r","150","fill","#0098A8","opacity","0.12"],["x","60%","y","5%","width","200","height","200","fill","#0098A8","opacity","0.06","transform","rotate(45 70 15)"],["x","15%","y","65%","width","160","height","160","fill","#C8D900","opacity","0.08","transform","rotate(30 20 70)"],["x1","0%","y1","30%","x2","100%","y2","35%","stroke","#0098A8","stroke-width","2","opacity","0.1"],["x1","0%","y1","60%","x2","100%","y2","55%","stroke","#C8D900","stroke-width","2","opacity","0.08"],["points","90,10 95,25 85,25","fill","#0098A8","opacity","0.1","transform","scale(8)"],["points","5,85 12,95 2,98","fill","#C8D900","opacity","0.09","transform","scale(10)"],[1,"absolute","inset-0","bg-gradient-to-b","from-[#10284C]/50","via-[#10284C]/80","to-[#10284C]/95"],[1,"relative","z-10","px-4","py-6"],[1,"max-w-6xl","mx-auto","space-y-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4"],["src","https://www.implameq.com/wp-content/uploads/logotipo-impla-300x78.png.webp","alt","Implameq",1,"h-10","w-auto","brightness-0","invert"],["routerLink","/internal/logistica/kits-pendientes",1,"px-4","py-2","bg-[#C8D900]","text-[#10284C]","rounded-lg","hover:bg-[#d4e820]","transition-colors","font-medium","flex","items-center","gap-2","active:scale-95"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"hidden","sm:inline"],[1,"text-center"],[1,"text-3xl","sm:text-4xl","font-bold","text-[#C8D900]","mb-2"],[1,"text-white/80","text-sm"],[1,"flex","justify-center","items-center","py-20"],[1,"fixed","inset-0","bg-black/80","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4"],[1,"h-6"],[1,"w-16","h-16","border-4","border-[#C8D900]","border-t-transparent","rounded-full","animate-spin"],[1,"bg-[#10284C]","border-2","border-[#C8D900]","rounded-2xl","p-8","max-w-md","w-full"],[1,"w-16","h-16","bg-[#C8D900]","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-[#10284C]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-bold","text-[#C8D900]","mb-2"],[1,"text-white/70","mb-6"],[1,"bg-[#ffffff]","p-6","rounded-xl","mb-6"],[3,"qrdata","width","errorCorrectionLevel","elementType","cssClass"],[1,"text-xs","text-gray-600","mt-3","font-mono","break-all"],[1,"text-xs","text-gray-500","mt-1"],[1,"space-y-3"],[1,"w-full","px-6","py-3","bg-[#C8D900]","text-[#10284C]","rounded-lg","hover:bg-[#d4e820]","transition-all","font-bold","flex","items-center","justify-center","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"],[1,"w-full","px-6","py-3","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","font-bold","border","border-white/20",3,"click"],[1,"bg-[#0098A8]/20","backdrop-blur-md","rounded-2xl","border","border-white/20","p-6","shadow-xl"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"text-white/60","text-xs","mb-1"],[1,"text-white","font-bold"],[1,"mt-6","pt-6","border-t","border-white/10","flex","items-center","justify-center","gap-8"],[1,"text-3xl","font-bold","text-[#C8D900]"],[1,"text-white/60","text-xs","mt-1"],[1,"space-y-4"],[1,"block","text-white","font-bold","mb-3"],["rows","3","placeholder","Notas adicionales sobre la preparacion del kit...",1,"w-full","px-4","py-3","bg-[#10284C]/50","border","border-white/20","rounded-lg","text-white","placeholder-white/30","focus:outline-none","focus:border-[#C8D900]","resize-none","disabled:opacity-50","disabled:cursor-not-allowed",3,"formControl","disabled"],[1,"flex","justify-center","pt-6"],[1,"bg-green-500/20","backdrop-blur-md","rounded-2xl","border","border-green-400/30","p-4","shadow-xl"],[1,"flex","items-center","gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-300","font-bold"],[1,"text-green-200/70","text-sm"],[1,"text-xl","font-bold","text-[#C8D900]","mb-4","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"],[1,"flex","flex-col","lg:flex-row","items-center","gap-6"],[1,"bg-[#ffffff]","p-6","rounded-xl"],[3,"qrdata","width","errorCorrectionLevel","elementType"],[1,"flex-1","space-y-3"],[1,"text-white/80"],[1,"bg-[#10284C]/50","p-4","rounded-lg"],[1,"text-white","font-mono","text-sm","break-all"],[1,"text-[#C8D900]","font-mono","text-xs","break-all"],[1,"px-4","py-2","bg-[#C8D900]","text-[#10284C]","rounded-lg","hover:bg-[#d4e820]","transition-all","font-bold","flex","items-center","gap-2",3,"click"],[1,"text-3xl","font-bold","text-orange-400"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex-1"],[1,"text-lg","font-bold","text-white","mb-1"],[1,"text-white/60","text-sm"],[1,"mt-2"],[1,"text-xs","px-3","py-1","rounded-full",3,"ngClass"],[1,"text-right"],[1,"text-white/60","text-xs"],[1,"text-2xl","font-bold","text-[#C8D900]"],[1,"block","text-white/80","text-sm","mb-2"],["type","number","min","0",1,"w-full","px-4","py-2","bg-[#10284C]/50","border","border-white/20","rounded-lg","text-white","focus:outline-none","focus:border-[#C8D900]","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","max","disabled"],[1,"text-white/40","text-xs","mt-1"],[1,"w-full","px-4","py-2","bg-[#10284C]/50","border","border-white/20","rounded-lg","text-white","focus:outline-none","focus:border-[#C8D900]","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[3,"value"],["type","text","placeholder","Ej: LOTE-2025-001",1,"w-full","px-4","py-2","bg-[#10284C]/50","border","border-white/20","rounded-lg","text-white","placeholder-white/30","focus:outline-none","focus:border-[#C8D900]","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],["type","date",1,"w-full","px-4","py-2","bg-[#10284C]/50","border","border-white/20","rounded-lg","text-white","focus:outline-none","focus:border-[#C8D900]","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[1,"mt-4"],["rows","2","placeholder","Notas sobre este producto...",1,"w-full","px-4","py-2","bg-[#10284C]/50","border","border-white/20","rounded-lg","text-white","placeholder-white/30","focus:outline-none","focus:border-[#C8D900]","resize-none","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[1,"px-12","py-4","bg-[#C8D900]","text-[#10284C]","rounded-xl","hover:bg-[#d4e820]","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","shadow-2xl","font-bold","text-lg","flex","items-center","gap-3","active:scale-95",3,"click","disabled"],[1,"w-5","h-5","border-3","border-[#10284C]","border-t-transparent","rounded-full","animate-spin"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),b(),i(3,"svg",3),p(4,"circle",4)(5,"circle",5)(6,"circle",6)(7,"rect",7)(8,"rect",8)(9,"line",9)(10,"line",10)(11,"polygon",11)(12,"polygon",12),n()(),C(),p(13,"div",13),n(),i(14,"main",14)(15,"div",15)(16,"div",16),p(17,"img",17),i(18,"a",18),b(),i(19,"svg",19),p(20,"path",20),n(),C(),i(21,"span",21),l(22,"Volver"),n()()(),i(23,"div",22)(24,"h1",23),l(25,"Preparacion de Kit"),n(),i(26,"p",24),l(27,"Proceso de picking y alistamiento"),n()(),S(28,ve,2,0,"div",25)(29,he,24,6,"div",26)(30,Ve,39,14),p(31,"div",27),n()()()),e&2&&(c(28),v(o.loading()?28:-1),c(),v(o.mostrarQR()?29:-1),c(),v(!o.loading()&&o.kit()?30:-1))},dependencies:[B,H,Q,O,G,de,ne,oe,X,ee,ie,Y,re,ae,Z,ce,te,ue,me],encapsulation:2})};export{_e as KitPreparacionComponent};
