import{a as A}from"./chunk-PMF4DKDM.js";import{f as M,j as I}from"./chunk-U6NWDCIK.js";import{j as P,n as T,q as L}from"./chunk-KK7RVAAD.js";import{$ as x,Ab as f,Ia as o,Lb as D,Nb as K,S as v,Sa as w,Xa as g,Y as C,Z as _,_ as d,cb as y,hb as m,kb as k,la as b,lb as S,mb as t,nb as i,ob as s,pb as E,sb as h,tb as c,yb as a,zb as p}from"./chunk-D2JNWC2G.js";import"./chunk-X5YLR3NI.js";import"./chunk-ODN5LVDJ.js";var V=(r,n)=>n.id;function H(r,n){r&1&&(t(0,"div",25),s(1,"div",27),i())}function R(r,n){r&1&&(t(0,"div",28),d(),t(1,"svg",30),s(2,"path",31),i(),x(),t(3,"h3",32),a(4,"No hay kits en preparacion"),i(),t(5,"p",33),a(6,"Todos los kits estan listos o pendientes de aprobacion"),i()())}function $(r,n){if(r&1&&(t(0,"div",45)(1,"p",42),a(2,"Observaciones"),i(),t(3,"p",24),a(4),i()()),r&2){let e=c().$implicit;o(4),p(e.observaciones)}}function F(r,n){if(r&1){let e=E();t(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div")(5,"h3",38),a(6),i(),t(7,"p",39),a(8),i()(),t(9,"span",40),a(10," En Preparacion "),i()(),t(11,"div",41)(12,"div")(13,"p",42),a(14,"Paciente"),i(),t(15,"p",43),a(16),i()(),t(17,"div")(18,"p",42),a(19,"Hospital"),i(),t(20,"p",43),a(21),i()(),t(22,"div")(23,"p",42),a(24,"Fecha Programada"),i(),t(25,"p",43),a(26),D(27,"date"),i()(),t(28,"div")(29,"p",42),a(30,"Dias Restantes"),i(),t(31,"p",44),a(32),i()()(),g(33,$,5,1,"div",45),i(),t(34,"div",46)(35,"button",47),h("click",function(){let u=C(e).$implicit,N=c(3);return _(N.verDetalle(u.id))}),d(),t(36,"svg",19),s(37,"path",48)(38,"path",49),i(),a(39," Ver Detalle "),i()()()()}if(r&2){let e=n.$implicit,l=c(3);o(6),f("Kit #",e.numero_kit,""),o(2),f("Cirugia: ",e.cirugia==null?null:e.cirugia.numero_cirugia,""),o(8),p(l.obtenerNombreCliente(e)),o(5),p(l.obtenerNombreHospital(e)),o(5),p(K(27,8,e.cirugia==null?null:e.cirugia.fecha_programada,"dd/MM/yyyy")),o(5),y("ngClass",l.obtenerColorUrgencia(l.calcularDiasRestantes((e.cirugia==null?null:e.cirugia.fecha_programada)||""))),o(),f(" ",l.calcularDiasRestantes((e.cirugia==null?null:e.cirugia.fecha_programada)||"")," dias "),o(),m(e.observaciones?33:-1)}}function q(r,n){if(r&1&&(t(0,"div",29),k(1,F,40,11,"div",34,V),i()),r&2){let e=c(2);o(),S(e.kitsPreparacion())}}function z(r,n){if(r&1&&g(0,R,7,0,"div",28)(1,q,3,0,"div",29),r&2){let e=c();m(e.kitsPreparacion().length===0?0:1)}}var j=class r{router=v(M);kitService=v(A);kitsPreparacion=b([]);loading=b(!0);ngOnInit(){this.cargarKits()}cargarKits(){this.loading.set(!0),this.kitService.getKitsPorEstado("preparando").subscribe({next:n=>{this.kitsPreparacion.set(n),this.loading.set(!1)},error:n=>{console.error("Error cargando kits:",n),this.loading.set(!1)}})}verDetalle(n){this.router.navigate(["/internal/logistica/kit-preparacion",n])}volver(){this.router.navigate(["/internal/logistica"])}obtenerNombreCliente(n){let e=n.cirugia;return e?.cliente?`${e.cliente.nombre} ${e.cliente.apellido}`:"N/A"}obtenerNombreHospital(n){return n.cirugia?.hospital?.nombre||"N/A"}calcularDiasRestantes(n){let e=new Date,u=new Date(n).getTime()-e.getTime();return Math.ceil(u/(1e3*60*60*24))}obtenerColorUrgencia(n){return n<=1?"text-red-400":n<=3?"text-orange-400":"text-white"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=w({type:r,selectors:[["app-kits-preparacion-list"]],decls:31,vars:2,consts:[[1,"min-h-screen","relative","overflow-hidden"],[1,"absolute","inset-0","z-0"],[1,"absolute","inset-0","bg-[#10284C]"],["xmlns","http://www.w3.org/2000/svg",1,"absolute","w-full","h-full"],["cx","10%","cy","15%","r","120","fill","#0098A8","opacity","0.1"],["cx","85%","cy","25%","r","180","fill","#C8D900","opacity","0.08"],["cx","50%","cy","80%","r","150","fill","#0098A8","opacity","0.12"],["x","60%","y","5%","width","200","height","200","fill","#0098A8","opacity","0.06","transform","rotate(45 70 15)"],["x","15%","y","65%","width","160","height","160","fill","#C8D900","opacity","0.08","transform","rotate(30 20 70)"],["x1","0%","y1","30%","x2","100%","y2","35%","stroke","#0098A8","stroke-width","2","opacity","0.1"],["x1","0%","y1","60%","x2","100%","y2","55%","stroke","#C8D900","stroke-width","2","opacity","0.08"],["points","90,10 95,25 85,25","fill","#0098A8","opacity","0.1","transform","scale(8)"],["points","5,85 12,95 2,98","fill","#C8D900","opacity","0.09","transform","scale(10)"],[1,"absolute","inset-0","bg-gradient-to-b","from-[#10284C]/50","via-[#10284C]/80","to-[#10284C]/95"],[1,"relative","z-10","px-4","py-6"],[1,"max-w-6xl","mx-auto","space-y-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4"],["src","https://www.implameq.com/wp-content/uploads/logotipo-impla-300x78.png.webp","alt","Implameq",1,"h-10","w-auto","brightness-0","invert"],[1,"px-4","py-2","bg-[#C8D900]","text-[#10284C]","rounded-lg","hover:bg-[#d4e820]","transition-colors","font-medium","flex","items-center","gap-2","active:scale-95",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"hidden","sm:inline"],[1,"text-center"],[1,"text-3xl","sm:text-4xl","font-bold","text-[#C8D900]","mb-2"],[1,"text-white/80","text-sm"],[1,"flex","justify-center","items-center","py-20"],[1,"h-6"],[1,"w-16","h-16","border-4","border-[#C8D900]","border-t-transparent","rounded-full","animate-spin"],[1,"bg-[#0098A8]/20","backdrop-blur-md","rounded-2xl","border","border-white/20","p-12","shadow-xl","text-center"],[1,"space-y-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-24","h-24","mx-auto","text-white/30","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"text-xl","font-bold","text-white","mb-2"],[1,"text-white/60"],[1,"bg-[#0098A8]/20","backdrop-blur-md","rounded-2xl","border","border-white/20","p-6","shadow-xl","hover:bg-[#0098A8]/30","transition-all"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"flex-1","space-y-3"],[1,"flex","items-start","justify-between"],[1,"text-xl","font-bold","text-[#C8D900]","mb-1"],[1,"text-white/60","text-sm"],[1,"px-3","py-1","bg-blue-500/20","text-blue-300","rounded-full","text-xs","font-semibold"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"text-white/50","text-xs","mb-1"],[1,"text-white","font-medium"],[1,"font-bold","text-lg",3,"ngClass"],[1,"mt-3"],[1,"lg:w-48"],[1,"w-full","px-6","py-3","bg-[#C8D900]","text-[#10284C]","rounded-xl","hover:bg-[#d4e820]","transition-all","shadow-lg","font-bold","flex","items-center","justify-center","gap-2","active:scale-95",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),d(),t(3,"svg",3),s(4,"circle",4)(5,"circle",5)(6,"circle",6)(7,"rect",7)(8,"rect",8)(9,"line",9)(10,"line",10)(11,"polygon",11)(12,"polygon",12),i()(),x(),s(13,"div",13),i(),t(14,"main",14)(15,"div",15)(16,"div",16),s(17,"img",17),t(18,"button",18),h("click",function(){return l.volver()}),d(),t(19,"svg",19),s(20,"path",20),i(),x(),t(21,"span",21),a(22,"Volver"),i()()(),t(23,"div",22)(24,"h1",23),a(25,"Kits en Preparacion"),i(),t(26,"p",24),a(27,"Kits que estan siendo preparados por el equipo de logistica"),i()(),g(28,H,2,0,"div",25)(29,z,2,1),s(30,"div",26),i()()()),e&2&&(o(28),m(l.loading()?28:-1),o(),m(l.loading()?-1:29))},dependencies:[L,P,T,I],encapsulation:2})};export{j as KitsPreparacionListComponent};
