import{a as W}from"./chunk-CUSICNO3.js";import"./chunk-SJQHPYOF.js";import"./chunk-Q6XZXIU7.js";import{$ as S,Ba as G,E,Ea as P,G as l,J as N,Ja as U,N as D,Q as V,S as x,T as C,V as F,W as f,X as w,Y as n,Z as i,_ as c,aa as v,ba as d,da as s,ea as h,fa as m,ga as $,ma as A,oa as z,qa as B,u as j,va as H,w as u,x as _,y as g,z as b}from"./chunk-NR6UGQL3.js";import"./chunk-LJ5XHLMQ.js";import"./chunk-FK42CRUA.js";var R=()=>["/internal/agenda"],J=()=>({month:"short"}),Y=()=>["/internal/agenda/nueva"],K=(a,t)=>t.titulo,Q=(a,t)=>t.date.getTime(),M=(a,t)=>t.id,I=(a,t)=>t.getTime();function X(a,t){a&1&&(n(0,"div",4)(1,"div",8)(2,"div",9),c(3,"div",10)(4,"div",11),i(),n(5,"p",12),s(6,"Cargando calendario..."),i()()())}function Z(a,t){if(a&1){let e=S();n(0,"div",5)(1,"div",13)(2,"div",14),g(),n(3,"svg",15),c(4,"path",16),i(),b(),n(5,"p",17),s(6),i()(),n(7,"button",18),v("click",function(){u(e);let o=d();return _(o.refreshData())}),s(8," Reintentar "),i()()()}if(a&2){let e=d();l(6),h(e.error())}}function ee(a,t){a&1&&(g(),n(0,"svg",49),c(1,"path",54),i())}function te(a,t){a&1&&(g(),n(0,"svg",49),c(1,"path",55),i())}function ne(a,t){a&1&&(g(),n(0,"svg",49),c(1,"path",55),i())}function ie(a,t){if(a&1&&(n(0,"div",46)(1,"div",47)(2,"div",48),D(3,ee,2,0,":svg:svg",49)(4,te,2,0,":svg:svg",49)(5,ne,2,0,":svg:svg",49),i(),n(6,"div",50)(7,"p",51),s(8),i(),n(9,"p",52),s(10),i()(),n(11,"span",53),s(12),i()()()),a&2){let e=t.$implicit;x(e.tipo==="urgente"?"bg-red-500/20 border-red-400/50":e.tipo==="advertencia"?"bg-yellow-500/20 border-yellow-400/50":"bg-blue-500/20 border-blue-400/50"),l(2),x(e.tipo==="urgente"?"text-red-400":e.tipo==="advertencia"?"text-yellow-400":"text-blue-400"),l(),C(e.tipo==="urgente"?3:e.tipo==="advertencia"?4:5),l(5),m(" ",e.titulo," "),l(2),m(" ",e.mensaje," "),l(2),m(" ",e.tiempo," ")}}function ae(a,t){if(a&1&&(n(0,"div",37)(1,"div",39)(2,"h3",43),s(3,"Alertas"),i(),n(4,"div",44),f(5,ie,13,8,"div",45,K),i()()()),a&2){let e=d(2);l(5),w(e.alerts())}}function re(a,t){if(a&1&&(n(0,"div",57),s(1),i()),a&2){let e=t.$implicit;l(),m(" ",e," ")}}function oe(a,t){if(a&1){let e=S();n(0,"button",65),v("click",function(){u(e);let o=d().$implicit,p=d(5);return _(p.selectEvent(o))}),s(1," Evento "),i()}if(a&2){let e=d().$implicit,r=d(5);x(r.getTipoUrgencia(e)==="urgente"?"bg-[#E91E63]":e.estado==="en_curso"?"bg-[#FF9800]":e.estado==="completada"?"bg-[#4CAF50]":"bg-[#2196F3]")}}function le(a,t){if(a&1&&D(0,oe,2,2,"button",64),a&2){let e=t.$index;C(e<2?0:-1)}}function se(a,t){if(a&1&&(n(0,"div",63),s(1),i()),a&2){let e=d(2).$implicit;l(),m("+",e.events.length-2,"")}}function de(a,t){if(a&1&&(n(0,"div",61),s(1),i(),n(2,"div",62),f(3,le,1,1,null,null,M),D(5,se,2,1,"div",63),i()),a&2){let e=d().$implicit;x(e.isToday?"text-[#C8D900]":"text-white/70"),l(),m(" ",e.date.getDate().toString().padStart(2,"0")," "),l(2),w(e.events),l(2),C(e.events.length>2?5:-1)}}function ce(a,t){if(a&1&&(n(0,"div",60),D(1,de,6,4),i()),a&2){let e=t.$implicit;x(e.isCurrentMonth?"bg-[#0D5F6A] border border-[#0098A8]/50":"bg-transparent"),l(),C(e.isCurrentMonth||e.events.length>0?1:-1)}}function me(a,t){if(a&1&&(n(0,"div",38)(1,"div",56),f(2,re,2,1,"div",57,F),i(),n(4,"div",58),f(5,ce,2,3,"div",59,Q),i()()),a&2){let e=d(2);l(2),w(e.weekDays),l(3),w(e.calendarDays())}}function pe(a,t){if(a&1&&(n(0,"div",68)(1,"div"),s(2),i(),n(3,"div",73),s(4),i()()),a&2){let e=t.$implicit,r=t.$index,o=d(3);l(),x(o.isToday(e)?"text-[#C8D900]":"text-white"),l(),m(" ",o.weekDays[r]," "),l(),x(o.isToday(e)?"text-[#C8D900]":"text-white/60"),l(),m(" ",e.getDate()," ")}}function xe(a,t){if(a&1){let e=S();n(0,"button",77),v("click",function(){let o=u(e).$implicit,p=d(5);return _(p.selectEvent(o))}),n(1,"div",78),s(2),i(),n(3,"div",79),s(4),i()()}if(a&2){let e=t.$implicit,r=d(5);x(r.getTipoUrgencia(e)==="urgente"?"bg-[#E91E63]":e.estado==="en_curso"?"bg-[#FF9800]":e.estado==="completada"?"bg-[#4CAF50]":"bg-[#2196F3]"),l(2),h(r.getClienteNombre(e)),l(2),h(r.formatHora(e.hora_inicio))}}function ue(a,t){if(a&1&&(n(0,"div",75),f(1,xe,5,4,"button",76,M),i()),a&2){let e=t.$index,r=d().$implicit,o=d(3);l(),w(o.getEventsForDayHour(e,r))}}function _e(a,t){if(a&1&&(n(0,"div",70)(1,"div",74),s(2),i(),f(3,ue,3,0,"div",75,I),i()),a&2){let e=t.$implicit,r=d(3);l(2),m(" ",r.formatHour(e)," "),l(),w(r.getWeekDays())}}function ge(a,t){a&1&&(n(0,"span",83),s(1," Hoy "),i())}function ve(a,t){if(a&1){let e=S();n(0,"button",87),v("click",function(){let o=u(e).$implicit,p=d(5);return _(p.selectEvent(o))}),n(1,"div",88)(2,"h5",89),s(3),i(),n(4,"span",90),s(5),i()(),n(6,"div",91),g(),n(7,"svg",92),c(8,"path",93),i(),b(),n(9,"span"),s(10),i()()()}if(a&2){let e=t.$implicit,r=d(5);x(r.getTipoUrgencia(e)==="urgente"?"bg-[#E91E63]/20 border-l-[#E91E63]":e.estado==="en_curso"?"bg-[#FF9800]/20 border-l-[#FF9800]":e.estado==="completada"?"bg-[#4CAF50]/20 border-l-[#4CAF50]":"bg-[#2196F3]/20 border-l-[#2196F3]"),l(3),h(r.getClienteNombre(e)),l(),x(r.getTipoUrgencia(e)==="urgente"?"bg-[#E91E63]/30 text-[#E91E63]":e.estado==="en_curso"?"bg-[#FF9800]/30 text-[#FF9800]":e.estado==="completada"?"bg-[#4CAF50]/30 text-[#4CAF50]":"bg-[#2196F3]/30 text-[#2196F3]"),l(),m(" ",r.getStatusLabel(e.estado)," "),l(5),h(r.formatHora(e.hora_inicio))}}function Ce(a,t){if(a&1&&f(0,ve,11,7,"button",86,M),a&2){let e=t.$implicit,r=d().$index,o=d(3);w(o.getEventsForDayHour(r,e))}}function he(a,t){a&1&&(n(0,"p",85),s(1," Sin cirug\xEDas programadas "),i())}function be(a,t){if(a&1&&(n(0,"div",72)(1,"div",80)(2,"div")(3,"h4",81),s(4),i(),n(5,"p",82),s(6),i()(),D(7,ge,2,0,"span",83),i(),n(8,"div",84),f(9,Ce,2,0,null,null,F,!1,he,2,0,"p",85),i()()),a&2){let e=t.$implicit,r=t.$index,o=d(3);l(3),x(o.isToday(e)?"text-[#C8D900]":"text-white"),l(),$(" ",o.weekDays[r]," ",e.getDate()," "),l(2),m(" ",e.toLocaleDateString("es-ES",A(7,J))," "),l(),C(o.isToday(e)?7:-1),l(2),w(o.hours)}}function fe(a,t){if(a&1&&(n(0,"div",66)(1,"div",67)(2,"div",68),s(3," Hora "),i(),f(4,pe,5,6,"div",68,I),i(),n(6,"div",69),f(7,_e,5,1,"div",70,F),i()(),n(9,"div",71),f(10,be,12,8,"div",72,I),i()),a&2){let e=d(2);l(4),w(e.getWeekDays()),l(3),w(e.hours),l(3),w(e.getWeekDays())}}function we(a,t){if(a&1){let e=S();n(0,"button",100),v("click",function(){let o=u(e).$implicit,p=d(4);return _(p.selectEvent(o))}),n(1,"div",88)(2,"h4",101),s(3),i(),n(4,"span",102),s(5),i()(),n(6,"div",103)(7,"div",104),g(),n(8,"svg",105),c(9,"path",93),i(),b(),n(10,"span"),s(11),i()(),n(12,"div",104),g(),n(13,"svg",105),c(14,"path",106),i(),b(),n(15,"span",78),s(16),i()(),n(17,"div",104),g(),n(18,"svg",105),c(19,"path",107),i(),b(),n(20,"span",78),s(21),i()()()()}if(a&2){let e=t.$implicit,r=d(4);x(r.getTipoUrgencia(e)==="urgente"?"bg-red-500/20 border-l-red-400":"bg-blue-500/20 border-l-blue-400"),l(3),h(r.getClienteNombre(e)),l(),x(r.getTipoUrgencia(e)==="urgente"?"bg-red-500/30 text-red-200":"bg-blue-500/30 text-blue-200"),l(),m(" ",r.getStatusLabel(e.estado)," "),l(6),$("",r.formatHora(e.hora_inicio)," - ",r.getHoraFin(e),""),l(5),h(r.getHospitalNombre(e)),l(5),m("Dr. ",e.medico_cirujano,"")}}function Ee(a,t){a&1&&(n(0,"div",99),s(1," Sin cirug\xEDas programadas "),i())}function De(a,t){if(a&1&&(n(0,"div",95)(1,"div",96),s(2),i(),n(3,"div",97),f(4,we,22,10,"button",98,M,!1,Ee,2,0,"div",99),i()()),a&2){let e=t.$implicit,r=d(3);l(2),m(" ",r.formatHour(e)," "),l(2),w(r.getEventsForHour(e))}}function Se(a,t){if(a&1&&(n(0,"div",39)(1,"h3",94),s(2),i(),n(3,"div",84),f(4,De,7,2,"div",95,F),i()()),a&2){let e=d(2);l(2),m(" ",e.getCurrentDayDate()," "),l(2),w(e.hours)}}function ye(a,t){a&1&&(n(0,"div",40)(1,"div",108),s(2,"\u{1F4C5}"),i(),n(3,"h3",109),s(4,"No hay cirug\xEDas programadas"),i(),n(5,"p",110),s(6,"Comienza agregando una nueva cirug\xEDa a tu agenda"),i(),n(7,"button",111),s(8," Programar Cirug\xEDa "),i()()),a&2&&(l(7),V("routerLink",A(1,Y)))}function ke(a,t){if(a&1){let e=S();n(0,"div",6)(1,"div",19)(2,"div",20)(3,"div"),c(4,"img",21),i(),n(5,"div",22)(6,"button",23),v("click",function(){u(e);let o=d();return _(o.refreshData())}),g(),n(7,"svg",24),c(8,"path",25),i()()()(),b(),n(9,"div",26)(10,"div",27)(11,"button",28),v("click",function(){u(e);let o=d();return _(o.previousPeriod())}),g(),n(12,"svg",29),c(13,"path",30),i()(),b(),n(14,"h1",31),s(15),i(),n(16,"button",28),v("click",function(){u(e);let o=d();return _(o.nextPeriod())}),g(),n(17,"svg",29),c(18,"path",32),i()()(),b(),n(19,"p",33),s(20,"Gestiona tu agenda quir\xFArgica"),i()(),n(21,"div",34)(22,"div",35)(23,"button",36),v("click",function(){u(e);let o=d();return _(o.setView("month"))}),s(24," Mes "),i(),n(25,"button",36),v("click",function(){u(e);let o=d();return _(o.setView("week"))}),s(26," Semana "),i(),n(27,"button",36),v("click",function(){u(e);let o=d();return _(o.setView("day"))}),s(28," D\xEDa "),i()()(),D(29,ae,7,0,"div",37)(30,me,7,0,"div",38)(31,fe,12,0)(32,Se,6,1,"div",39)(33,ye,9,2,"div",40),n(34,"button",41),s(35," Volver "),i(),c(36,"div",42),i()()}if(a&2){let e=d();l(15),h(e.getCurrentPeriodTitle()),l(8),x(e.currentView()==="month"?"bg-[#0098A8] text-white shadow-lg":"text-white/70 active:text-white"),l(2),x(e.currentView()==="week"?"bg-[#0098A8] text-white shadow-lg":"text-white/70 active:text-white"),l(2),x(e.currentView()==="day"?"bg-[#0098A8] text-white shadow-lg":"text-white/70 active:text-white"),l(2),C(e.alerts().length>0?29:-1),l(),C(e.currentView()==="month"?30:-1),l(),C(e.currentView()==="week"?31:-1),l(),C(e.currentView()==="day"?32:-1),l(),C(e.cirugias().length===0?33:-1),l(),V("routerLink",A(13,R))}}function Te(a,t){if(a&1&&(n(0,"div",133)(1,"div",134)(2,"div",135),g(),n(3,"svg",136),c(4,"path",143),i()(),b(),n(5,"h5",137),s(6,"Notas"),i()(),n(7,"p",144),s(8),i()()),a&2){let e=d(2);l(8),m(" ",e.selectedEventDetails().notas," ")}}function Fe(a,t){if(a&1){let e=S();n(0,"div",112),v("click",function(){u(e);let o=d();return _(o.closeModal())}),n(1,"div",113),v("click",function(o){return u(e),_(o.stopPropagation())}),n(2,"div",114)(3,"div",115)(4,"h3",116),s(5," Detalle de Cirug\xEDa "),i(),n(6,"button",117),v("click",function(){u(e);let o=d();return _(o.closeModal())}),g(),n(7,"svg",118),c(8,"path",119),i()()()(),b(),n(9,"div",120)(10,"div",8)(11,"div",121),s(12),i(),n(13,"h4",122),s(14),i(),n(15,"p",123),s(16),i()(),n(17,"div",124)(18,"div",125)(19,"div",126)(20,"div",127),g(),n(21,"svg",128),c(22,"path",93),i()(),b(),n(23,"h5",101),s(24,"Programaci\xF3n"),i()(),n(25,"div",129)(26,"div",130)(27,"span",131),s(28,"Fecha:"),i(),n(29,"span",132),s(30),z(31,"date"),i()(),n(32,"div",130)(33,"span",131),s(34,"Hora inicio:"),i(),n(35,"span",132),s(36),i()(),n(37,"div",130)(38,"span",131),s(39,"Hora fin (est.):"),i(),n(40,"span",132),s(41),i()(),n(42,"div",130)(43,"span",131),s(44,"Duraci\xF3n:"),i(),n(45,"span",132),s(46),i()()()(),n(47,"div",133)(48,"div",134)(49,"div",135),g(),n(50,"svg",136),c(51,"path",107),i()(),b(),n(52,"h5",137),s(53,"Equipo M\xE9dico"),i()(),n(54,"div",138)(55,"div",130)(56,"span",131),s(57,"Cirujano:"),i(),n(58,"span",132),s(59),i()(),n(60,"div",130)(61,"span",131),s(62,"T\xE9cnico:"),i(),n(63,"span",132),s(64),i()()()(),n(65,"div",133)(66,"div",134)(67,"div",135),g(),n(68,"svg",136),c(69,"path",106),i()(),b(),n(70,"h5",137),s(71,"Ubicaci\xF3n"),i()(),n(72,"div",138)(73,"div",130)(74,"span",131),s(75,"Hospital:"),i(),n(76,"span",132),s(77),i()()()(),D(78,Te,9,1,"div",133),i()(),n(79,"div",139)(80,"div",140)(81,"button",141),v("click",function(){u(e);let o=d();return _(o.navigateToEvent(o.selectedEventDetails()))}),s(82," Ver Detalles "),i(),n(83,"button",142),v("click",function(){u(e);let o=d();return _(o.closeModal())}),s(84," Cerrar "),i()()()()()}if(a&2){let e=d();l(11),x(e.getTipoUrgencia(e.selectedEventDetails())==="urgente"?"bg-red-500/20 text-red-300 border-red-500/50":"bg-blue-500/20 text-blue-300 border-blue-500/50"),l(),m(" ",e.getStatusLabel(e.selectedEventDetails().estado)," "),l(2),m(" ",e.getClienteNombre(e.selectedEventDetails())," "),l(2),m(" ",e.getTipoCirugiaNombre(e.selectedEventDetails())," "),l(14),h(B(31,13,e.selectedEventDetails().fecha_programada,"dd/MM/yyyy")),l(6),h(e.formatHora(e.selectedEventDetails().hora_inicio)),l(5),h(e.getHoraFin(e.selectedEventDetails())),l(5),h(e.getDuracionEstimada(e.selectedEventDetails())),l(13),m("Dr. ",e.selectedEventDetails().medico_cirujano,""),l(5),h(e.getTecnicoNombre(e.selectedEventDetails())),l(13),h(e.getHospitalNombre(e.selectedEventDetails())),l(),C(e.selectedEventDetails().notas?78:-1)}}var q=class a{cirugiasService=j(W);currentView=E("month");currentDate=E(new Date);selectedEvent=E(null);loading=E(!1);error=E(null);cirugias=E([]);alerts=H(()=>{let t=[],e=new Date;return new Date(e).setDate(e.getDate()+1),this.cirugias().forEach(o=>{(o.estado==="urgencia"||o.prioridad==="urgencia")&&t.push({tipo:"urgente",titulo:"Cirug\xEDa de Urgencia",mensaje:`${this.getClienteNombre(o)} - ${this.getTipoCirugiaNombre(o)}`,tiempo:this.getTimeAgo(o.created_at||"")}),!o.tecnico_asignado_id&&this.isTomorrow(o.fecha_programada)&&t.push({tipo:"advertencia",titulo:"Sin T\xE9cnico Asignado",mensaje:`Cirug\xEDa de ${this.getClienteNombre(o)} no tiene t\xE9cnico asignado`,tiempo:"Ma\xF1ana"}),this.isToday(new Date(o.fecha_programada))&&o.estado==="programada"&&t.push({tipo:"info",titulo:"Cirug\xEDa Programada Hoy",mensaje:`${this.getClienteNombre(o)} - ${this.formatHora(o.hora_inicio)}`,tiempo:"Hoy"})}),t.slice(0,5)});weekDays=["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"];hours=Array.from({length:24},(t,e)=>e);showModal=E(!1);selectedEventDetails=E(null);ngOnInit(){this.loadCirugias()}loadCirugias(){this.loading.set(!0),this.error.set(null),this.cirugiasService.getCirugias().subscribe({next:t=>{console.log("\u2705 Cirug\xEDas cargadas para calendario:",t),this.cirugias.set(t),this.loading.set(!1)},error:t=>{console.error("\u274C Error loading cirugias for calendar:",t),this.error.set("Error al cargar las cirug\xEDas"),this.loading.set(!1)}})}calendarDays=H(()=>{let t=this.currentDate(),e=t.getFullYear(),r=t.getMonth(),o=new Date(e,r,1),p=new Date(e,r+1,0),y=new Date(o);y.setDate(y.getDate()-o.getDay());let T=[],k=new Date(y);for(let L=0;L<42;L++){let O=this.getEventsForDate(k);T.push({date:new Date(k),isCurrentMonth:k.getMonth()===r,isToday:this.isToday(k),events:O}),k.setDate(k.getDate()+1)}return T});getEventsForDate(t){return this.cirugias().filter(e=>new Date(e.fecha_programada).toDateString()===t.toDateString())}getEventsForHour(t){let e=this.currentDate();return this.cirugias().filter(r=>new Date(r.fecha_programada).toDateString()!==e.toDateString()||!r.hora_inicio?!1:parseInt(r.hora_inicio.split(":")[0])===t)}getEventsForDayHour(t,e){let o=this.getWeekDays()[t];return this.cirugias().filter(p=>new Date(p.fecha_programada).toDateString()!==o.toDateString()||!p.hora_inicio?!1:parseInt(p.hora_inicio.split(":")[0])===e)}getWeekDays(){let t=new Date(this.currentDate()),e=new Date(t);e.setDate(t.getDate()-t.getDay());let r=[];for(let o=0;o<7;o++){let p=new Date(e);p.setDate(e.getDate()+o),r.push(p)}return r}isToday(t){let e=new Date;return t.toDateString()===e.toDateString()}isTomorrow(t){let e=new Date;return e.setDate(e.getDate()+1),new Date(t).toDateString()===e.toDateString()}getCurrentPeriodTitle(){let t=this.currentDate();switch(this.currentView()){case"month":return t.toLocaleDateString("es-ES",{month:"long",year:"numeric"});case"week":let r=this.getWeekDays()[0],o=this.getWeekDays()[6];return`${r.toLocaleDateString("es-ES",{day:"numeric",month:"short"})} - ${o.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}`;case"day":return t.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"});default:return""}}getCurrentDayDate(){return this.currentDate().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}getStatusLabel(t){return{programada:"Programada",en_curso:"En Curso",completada:"Completada",cancelada:"Cancelada",urgencia:"Urgencia"}[t]||t}formatHour(t){return`${t.toString().padStart(2,"0")}:00`}formatHora(t){return t?t.substring(0,5):"Sin hora"}setView(t){this.currentView.set(t)}previousPeriod(){let t=new Date(this.currentDate());switch(this.currentView()){case"month":t.setMonth(t.getMonth()-1);break;case"week":t.setDate(t.getDate()-7);break;case"day":t.setDate(t.getDate()-1);break}this.currentDate.set(t)}nextPeriod(){let t=new Date(this.currentDate());switch(this.currentView()){case"month":t.setMonth(t.getMonth()+1);break;case"week":t.setDate(t.getDate()+7);break;case"day":t.setDate(t.getDate()+1);break}this.currentDate.set(t)}selectEvent(t){this.selectedEventDetails.set(t),this.showModal.set(!0),console.log("Evento seleccionado:",t)}closeModal(){this.showModal.set(!1),this.selectedEventDetails.set(null)}navigateToEvent(t){this.closeModal()}getHospitalNombre(t){return t.hospital_data?.nombre||"Hospital no especificado"}getTipoCirugiaNombre(t){return t.tipo_cirugia_data?.nombre||"Tipo no especificado"}getTecnicoNombre(t){return t.tecnico_asignado?.full_name||"Sin asignar"}getDuracionEstimada(t){if(t.duracion_estimada){let e=Math.floor(t.duracion_estimada/60),r=t.duracion_estimada%60;return e>0?`${e}h ${r}m`:`${r}m`}return"No estimada"}getTimeAgo(t){if(!t)return"Reciente";let e=new Date,r=new Date(t),o=Math.floor((e.getTime()-r.getTime())/(1e3*60));return o<60?`${o} min`:o<1440?`${Math.floor(o/60)}h`:`${Math.floor(o/1440)}d`}getTipoUrgencia(t){return t.estado==="urgencia"||t.prioridad==="urgencia"?"urgente":"programada"}getHoraFin(t){if(!t.hora_inicio||!t.duracion_estimada)return"";let[e,r]=t.hora_inicio.split(":").map(Number),p=e*60+r+t.duracion_estimada,y=Math.floor(p/60),T=p%60;return`${y.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`}refreshData(){this.loadCirugias()}getClienteNombre(t){return t.cliente?`${t.cliente.nombre} ${t.cliente.apellido}`:"Cliente no especificado"}getClienteDocumento(t){return t.cliente?`${t.cliente.documento_tipo}: ${t.cliente.documento_numero}`:null}getClienteTelefono(t){return t.cliente&&t.cliente.telefono||null}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=N({type:a,selectors:[["app-agenda-calendar"]],decls:8,vars:4,consts:[[1,"min-h-screen","relative","overflow-hidden"],[1,"absolute","inset-0","z-0"],["src","01.jpg","alt","Surgical background",1,"absolute","inset-0","w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-[#10284C]/80"],[1,"relative","z-10","flex","items-center","justify-center","min-h-screen"],[1,"relative","z-10","flex","items-center","justify-center","min-h-screen","px-4"],[1,"relative","z-10","px-4","py-6"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","z-50","flex","items-end","sm:items-center","justify-center","p-0","sm:p-4"],[1,"text-center"],[1,"animate-pulse","space-y-4"],[1,"h-4","bg-gray-200","rounded","w-64","mx-auto"],[1,"h-4","bg-gray-200","rounded","w-48","mx-auto"],[1,"text-sm","text-white/70","mt-4"],[1,"bg-white","rounded-xl","shadow-lg","p-8","max-w-md","text-center"],[1,"text-red-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-lg"],["type","button",1,"mt-6","w-full","bg-red-600","hover:bg-red-700","text-white","px-6","py-3","rounded-lg","font-medium",3,"click"],[1,"max-w-md","mx-auto"],[1,"flex","justify-between","items-center","mb-6","sm:mb-8"],["src","https://www.implameq.com/wp-content/uploads/logotipo-impla-300x78.png.webp","alt","Implameq",1,"h-6","sm:h-8","brightness-0","invert"],[1,"flex","items-center","space-x-2","sm:space-x-3"],[1,"w-10","h-10","sm:w-12","sm:h-12","bg-[#C8D900]","rounded-lg","flex","items-center","justify-center","shadow-lg","active:scale-95","transition-transform",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","text-[#10284C]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-center","mb-4","sm:mb-6"],[1,"flex","items-center","justify-center","space-x-3","sm:space-x-4","mb-2"],[1,"text-white","active:text-[#C8D900]","transition-colors","p-2","active:scale-95",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-7","h-7","sm:w-8","sm:h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-lg","sm:text-2xl","font-bold","text-[#C8D900]","px-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"text-white/90","text-xs","sm:text-sm"],[1,"bg-[#0098A8]/30","backdrop-blur-sm","rounded-2xl","p-1","mb-4","sm:mb-6","border","border-white/20"],[1,"grid","grid-cols-3","gap-1"],[1,"py-2.5","sm:py-3","rounded-xl","font-medium","transition-all","active:scale-95","text-sm","sm:text-base",3,"click"],[1,"mb-4","sm:mb-6"],[1,"bg-[#0098A8]/20","backdrop-blur-sm","rounded-2xl","p-2","sm:p-4","border","border-white/20"],[1,"bg-[#0098A8]/20","backdrop-blur-sm","rounded-2xl","p-3","sm:p-4","border","border-white/20"],[1,"bg-[#0098A8]/20","backdrop-blur-sm","rounded-2xl","p-8","border","border-white/20","text-center"],[1,"w-full","bg-white","hover:bg-gray-100","active:bg-gray-100","text-[#0098A8]","font-bold","py-3.5","sm:py-4","rounded-2xl","shadow-lg","transition-all","mt-4","sm:mt-6","active:scale-95",3,"routerLink"],[1,"h-4","sm:h-6"],[1,"text-base","sm:text-lg","font-semibold","text-white","mb-2","sm:mb-3"],[1,"space-y-2","sm:space-y-3"],[1,"p-2.5","sm:p-3","rounded-lg","border","backdrop-blur-sm",3,"class"],[1,"p-2.5","sm:p-3","rounded-lg","border","backdrop-blur-sm"],[1,"flex","items-start","space-x-2","sm:space-x-3"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","sm:w-5","sm:h-5","mt-0.5"],[1,"flex-1","min-w-0"],[1,"text-white","text-xs","sm:text-sm","font-medium"],[1,"text-white/70","text-[11px]","sm:text-xs","mt-0.5","sm:mt-1"],[1,"text-white/60","text-[10px]","sm:text-xs","font-medium","flex-shrink-0"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"grid","grid-cols-7","gap-1","sm:gap-2","mb-2","sm:mb-3"],[1,"text-center","text-white/80","text-[10px]","sm:text-xs","font-medium","py-1","sm:py-2"],[1,"grid","grid-cols-7","gap-1","sm:gap-2"],[1,"aspect-square","rounded-lg","p-0.5","sm:p-1",3,"class"],[1,"aspect-square","rounded-lg","p-0.5","sm:p-1"],[1,"text-[10px]","sm:text-xs","font-bold","mb-0.5","sm:mb-1","text-center"],[1,"space-y-0.5"],[1,"text-[7px]","sm:text-[8px]","text-white/50","text-center"],[1,"w-full","text-white","text-[7px]","sm:text-[8px]","px-0.5","sm:px-1","py-0.5","rounded","text-center","font-medium","active:opacity-80","transition-opacity",3,"class"],[1,"w-full","text-white","text-[7px]","sm:text-[8px]","px-0.5","sm:px-1","py-0.5","rounded","text-center","font-medium","active:opacity-80","transition-opacity",3,"click"],[1,"hidden","sm:block","bg-[#0098A8]/20","backdrop-blur-sm","rounded-2xl","p-4","border","border-white/20","overflow-x-auto"],[1,"grid","grid-cols-8","gap-1","mb-3","min-w-[600px]"],[1,"text-center","text-white/80","text-xs","font-medium","py-2"],[1,"space-y-1","min-w-[600px]"],[1,"grid","grid-cols-8","gap-1"],[1,"sm:hidden","space-y-3"],[1,"bg-[#0098A8]/20","backdrop-blur-sm","rounded-2xl","p-3","border","border-white/20"],[1,"text-[10px]"],[1,"text-xs","text-white/60","py-2","text-center"],[1,"bg-[#0D5F6A]/50","rounded","p-1","min-h-[60px]"],[1,"w-full","text-white","text-[9px]","px-1","py-1","rounded","font-medium","hover:opacity-80","transition-opacity","mb-1",3,"class"],[1,"w-full","text-white","text-[9px]","px-1","py-1","rounded","font-medium","hover:opacity-80","transition-opacity","mb-1",3,"click"],[1,"truncate"],[1,"text-[8px]","text-white/80"],[1,"flex","items-center","justify-between","mb-3","pb-2","border-b","border-white/20"],[1,"text-sm","font-bold"],[1,"text-white/60","text-xs"],[1,"bg-[#C8D900]","text-[#10284C]","text-xs","px-2","py-1","rounded-full","font-medium"],[1,"space-y-2"],[1,"text-white/40","text-sm","text-center","py-4","italic"],[1,"w-full","text-left","p-3","rounded-lg","border-l-4","backdrop-blur-sm","active:bg-white/10","transition-colors",3,"class"],[1,"w-full","text-left","p-3","rounded-lg","border-l-4","backdrop-blur-sm","active:bg-white/10","transition-colors",3,"click"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-white","font-semibold","text-sm"],[1,"px-2","py-1","rounded-full","text-[10px]","font-medium"],[1,"flex","items-center","space-x-2","text-xs","text-white/80"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3.5","h-3.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-base","sm:text-lg","font-semibold","text-white","mb-3"],[1,"flex","items-start","space-x-2","sm:space-x-3","pb-3","border-b","border-white/10","last:border-b-0"],[1,"text-xs","sm:text-sm","font-medium","text-white/60","w-12","sm:w-16","flex-shrink-0"],[1,"flex-1","space-y-2"],[1,"w-full","text-left","p-2.5","sm:p-3","rounded-lg","border-l-4","backdrop-blur-sm","active:bg-white/10","transition-colors",3,"class"],[1,"text-xs","sm:text-sm","text-white/40","italic"],[1,"w-full","text-left","p-2.5","sm:p-3","rounded-lg","border-l-4","backdrop-blur-sm","active:bg-white/10","transition-colors",3,"click"],[1,"font-semibold","text-white","text-sm","sm:text-base"],[1,"px-2","py-1","rounded-full","text-[10px]","sm:text-xs","font-medium","flex-shrink-0","ml-2"],[1,"space-y-1","text-xs","sm:text-sm","text-white/80"],[1,"flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3.5","h-3.5","sm:w-4","sm:h-4","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-4xl","mb-4"],[1,"text-lg","font-medium","text-white","mb-2"],[1,"text-white/70","mb-4"],[1,"bg-[#C8D900]","hover:bg-[#B8C900]","text-[#10284C]","px-6","py-2.5","rounded-lg","font-medium","shadow-lg","transition-colors",3,"routerLink"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","z-50","flex","items-end","sm:items-center","justify-center","p-0","sm:p-4",3,"click"],[1,"bg-[#10284C]","border-2","border-[#0098A8]","rounded-t-2xl","sm:rounded-2xl","w-full","max-w-lg","max-h-[92vh]","sm:max-h-[90vh]","overflow-y-auto","shadow-2xl",3,"click"],[1,"sticky","top-0","bg-[#10284C]","px-4","sm:px-6","py-3","sm:py-4","border-b","border-[#0098A8]/50","rounded-t-2xl","z-10"],[1,"flex","items-center","justify-between"],[1,"text-base","sm:text-lg","font-semibold","text-white"],[1,"p-2","text-white/60","hover:text-white","active:text-white","rounded-lg","hover:bg-white/10","active:bg-white/10","active:scale-95",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4","sm:p-6","space-y-4","sm:space-y-6"],[1,"inline-flex","px-3","py-1","rounded-full","text-xs","sm:text-sm","font-medium","mb-2","sm:mb-3","border"],[1,"text-lg","sm:text-xl","font-bold","text-white"],[1,"text-white/70","mt-1","text-sm","sm:text-base"],[1,"space-y-3","sm:space-y-4"],[1,"bg-[#0098A8]/20","backdrop-blur-sm","rounded-lg","p-3","sm:p-4","border","border-[#0098A8]/30"],[1,"flex","items-center","space-x-2","sm:space-x-3","mb-2","sm:mb-3"],[1,"bg-[#C8D900]","p-1.5","sm:p-2","rounded-lg","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","sm:w-5","sm:h-5","text-[#10284C]"],[1,"space-y-1.5","sm:space-y-2","text-xs","sm:text-sm"],[1,"flex","justify-between"],[1,"text-white/60"],[1,"font-medium","text-white"],[1,"bg-[#0098A8]/20","backdrop-blur-sm","rounded-lg","p-4","border","border-[#0098A8]/30"],[1,"flex","items-center","space-x-3","mb-3"],[1,"bg-[#C8D900]","p-2","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-[#10284C]"],[1,"font-semibold","text-white"],[1,"space-y-2","text-sm"],[1,"sticky","bottom-0","bg-[#10284C]","px-4","sm:px-6","py-3","sm:py-4","border-t","border-[#0098A8]/50","rounded-b-2xl"],[1,"flex","flex-col","sm:flex-row","space-y-2","sm:space-y-0","sm:space-x-3"],[1,"flex-1","bg-[#C8D900]","hover:bg-[#B8C900]","active:bg-[#B8C900]","text-[#10284C]","px-4","py-3","sm:py-2.5","rounded-lg","font-medium","shadow-lg","transition-colors","text-center","active:scale-95",3,"click"],[1,"sm:flex-none","px-6","py-3","sm:py-2.5","text-white","bg-white/10","hover:bg-white/20","active:bg-white/20","rounded-lg","font-medium","transition-colors","active:scale-95",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-white/70"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1),c(2,"img",2)(3,"div",3),i(),D(4,X,7,0,"div",4)(5,Z,9,1,"div",5)(6,ke,37,14,"div",6)(7,Fe,85,16,"div",7),i()),e&2&&(l(4),C(r.loading()?4:-1),l(),C(!r.loading()&&r.error()?5:-1),l(),C(!r.loading()&&!r.error()?6:-1),l(),C(r.showModal()&&r.selectedEventDetails()?7:-1))},dependencies:[P,G,U],encapsulation:2})};export{q as AgendaCalendarComponent};
